/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,a){var s=e;return"object"===("undefined"==typeof t?"undefined":me(t))?e.each(function(){new t.component(this,t)}):("string"==typeof t&&e.each(function(){var e,n=ce.instances[this.id];if(n&&n[t]&&(e=n[t].apply(this,Array.prototype.slice.call(a,1)),void 0!==e))return s=e,!1}),s)}function a(e,a,s){_e[e]=function(n){return t(this,ge(n,{component:a,preset:s===!1?void 0:e}),arguments)}}function s(){}function n(e){var t,a=[];for(t in e)a.push(e[t]);return a}function i(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function o(e){return e-parseFloat(e)>=0}function r(e){return"string"==typeof e}function l(e,t,a){return Math.max(t,Math.min(e,a))}function c(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function d(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function u(e,t,a){return 100*(e-t)/(a-t)}function m(e,t,a){var s=a.attr(e);return void 0===s||""===s?t:"true"===s}function h(){Pe++,setTimeout(function(){Pe--},500)}function f(e,t){if(!t.mbscClick){var a=(e.originalEvent||e).changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),s.isMbscTap=!0,s.isIonicTap=!0,Ye=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(s),Ye=!1,h(),setTimeout(function(){delete t.mbscClick})}}function p(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function b(e){var t=e[0],a=e.attr("data-role"),s=e.attr("type")||t.nodeName.toLowerCase();return/(switch|range|rating|segmented|stepper)/.test(a)&&(s=a),s}function v(e,t,a){e.focus(),/(button|submit|checkbox|switch|radio)/.test(t)&&a.preventDefault(),/select/.test(t)||f(a,e)}function g(e,t,a,s,n,i){function o(e){m||(s&&e.preventDefault(),m=this,d=p(e,"X"),u=p(e,"Y"),b=!1,v=new Date)}function r(e){m&&!b&&(Math.abs(p(e,"X")-d)>n||Math.abs(p(e,"Y")-u)>n)&&(b=!0)}function l(e){m&&(i&&new Date-v<100||!b?f(e,e.target):h(),m=!1)}function c(){m=!1}var d,u,m,b,v,g=ce.$,_=g(t);n=n||9,e.settings.tap&&_.on("touchstart.mbsc",o).on("touchcancel.mbsc",c).on("touchmove.mbsc",r).on("touchend.mbsc",l),_.on("click.mbsc",function(t){s&&t.preventDefault(),a.call(this,t,e)})}function _(e){if(Pe&&!Ye&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function y(e,t,a){Te&&Ee(function(){Ee(e).each(function(){new t(this)}),Ee(document).on("mbsc-enhance",function(a,s){Ee(a.target).is(e)?new t(a.target,s):Ee(e,a.target).each(function(){new t(this,s)})}),a&&Ee(document).on("mbsc-refresh",function(t){var a;Ee(t.target).is(e)?(a=He[t.target.id],a&&a.refresh()):Ee(e,t.target).each(function(){a=He[this.id],a&&a.refresh()})})})}function x(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++Ne;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function w(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function C(e,t,a){"jsonp"==a?x(e,t):w(e,t)}function k(e){var t;for(t in e)if(void 0!==qe[e[t]])return!0;return!1}function T(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(k([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function D(e,t){if("touchstart"==e.type)Ee(t).attr("data-touch","1");else if(Ee(t).attr("data-touch"))return Ee(t).removeAttr("data-touch"),!1;return!0}function M(e,t){var a,s,n=getComputedStyle(e[0]);return Ee.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),s=t?a[13]||a[5]:a[12]||a[4]}function S(e){if(e){if(Ue[e])return Ue[e];var t=Ee('<div style="background-color:'+e+';"></div>').appendTo("body"),a=getComputedStyle(t[0]),s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n<130?"#fff":"#000";return t.remove(),Ue[e]=i,i}}function V(e,t,a,n,i,o){function r(e){var t;f=Ee(this),w=+f.attr("data-step"),v=+f.attr("data-index"),b=!0,i&&e.stopPropagation(),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(y=p(e,"X"),x=p(e,"Y"),t=D(e,this)):t=32===e.keyCode,g||!t||f.hasClass("mbsc-disabled")||(u(v,w,e)&&(f.addClass("mbsc-active"),o&&o.addRipple(f.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&Ee(document).on("mousemove",l).on("mouseup",c))}function l(e){(Math.abs(y-p(e,"X"))>7||Math.abs(x-p(e,"Y"))>7)&&(b=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&Ee(document).off("mousemove",l).off("mouseup",c)}function d(){g=!1,clearInterval(C),f&&(f.removeClass("mbsc-active"),o&&setTimeout(function(){o.removeRipple()},100))}function u(e,t,a){return g||k(e)||(v=e,w=t,_=a,g=!0,b=!1,setTimeout(m,100)),g}function m(){return f&&f.hasClass("mbsc-disabled")?void d():(!g&&b||(b=!0,t(v,w,_,m)),void(g&&a&&(clearInterval(C),C=setInterval(function(){t(v,w,_)},a))))}function h(){e.off("touchstart mousedown keydown",r).off("touchmove",l).off("touchend touchcancel keyup",c)}var f,b,v,g,_,y,x,w,C,k=n||s;return e.on("touchstart mousedown keydown",r).on("touchmove",l).on("touchend touchcancel keyup",c),{start:u,stop:d,destroy:h}}function $(e,t){function a(){r.style.width="100000px",r.style.height="100000px",o.scrollLeft=1e5,o.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function s(){var e=new Date;l=0,u||(e-m>200&&!o.scrollTop&&!o.scrollLeft&&(m=e,a()),l||(l=Ve(s)))}function n(){c||(c=Ve(i))}function i(){c=0,a(),t()}var o=void 0,r=void 0,l=void 0,c=void 0,d=void 0,u=void 0,m=0,h=document.createElement("div");return h.innerHTML=Qe,h.dir="ltr",d=h.childNodes[1],o=h.childNodes[0],r=o.childNodes[0],e.appendChild(h),o.addEventListener("scroll",n),d.addEventListener("scroll",n),Ve(s),{detach:function(){e.removeChild(h),u=!0}}}function P(e){return(e+"").replace('"',"___")}function Y(e,t,a,s,n,i,o){var r=new Date(e,t,a,s||0,n||0,i||0,o||0);return 23==r.getHours()&&0===(s||0)&&r.setHours(r.getHours()+2),r}function A(e,t,a){if(!t)return null;var s,n,i=Fe({},wt,a),o=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},r=function(e,t,a){var s=""+t;if(o(e))for(;s.length<a;)s="0"+s;return s},l=function(e,t,a,s){return o(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||o("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=r("d",i.getDay(t),2);break;case"D":c+=l("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=r("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=r("m",i.getMonth(t)+1,2);break;case"M":c+=l("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=o("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=r("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=r("H",t.getHours(),2);break;case"i":c+=r("i",t.getMinutes(),2);break;case"s":c+=r("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":o("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c}function E(e,t,a){var s=Fe({},wt,a),n=N(s.defaultValue||new Date);if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":me(t))?t.toString():t+"";var i,o=s.shortYearCutoff,r=s.getYear(n),l=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),h=0,f=-1,p=!1,b=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){b(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(y).match(s);return n?(y+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=b(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(y,i[n].length).toLowerCase()==i[n].toLowerCase())return y+=i[n].length,n+1;return 0},_=function(){y++},y=0;for(i=0;i<e.length;i++)if(p)"'"!=e.charAt(i)||b("'")?_():p=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=v("o");break;case"m":l=v("m");break;case"M":l=g("M",s.monthNamesShort,s.monthNames);break;case"y":r=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":h=v("s");break;case"a":f=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":f=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":b("'")?_():p=!0;break;default:_()}if(r<100&&(r+=(new Date).getFullYear()-(new Date).getFullYear()%100+(r<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),d>-1){l=1,c=d;do{var x=32-new Date(r,l-1,32,12).getDate();c>x&&(l++,c-=x)}while(c>x)}u=f==-1?u:f&&u<12?u+12:f||12!=u?u:0;var w=s.getDate(r,l-1,c,u,m,h);return s.getYear(w)!=r||s.getMonth(w)+1!=l||s.getDay(w)!=c?n:w}function O(e,t){return Math.round((t-e)/864e5)}function H(e){return Y(e.getFullYear(),e.getMonth(),e.getDate())}function I(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}function L(e,t){var a="",s="";return e&&(t.h&&(s+=c(e.getHours())+":"+c(e.getMinutes()),t.s&&(s+=":"+c(e.getSeconds())),t.u&&(s+="."+c(e.getMilliseconds(),3)),t.tz&&(s+=t.tz)),t.y?(a+=e.getFullYear(),t.m&&(a+="-"+c(e.getMonth()+1),t.d&&(a+="-"+c(e.getDate())),t.h&&(a+="T"+s))):t.h&&(a=s)),a}function F(e,t,a){var s,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(a)for(s in i)n=e[i[s]-t],n&&(a[s]="tz"==s?n:1)}function W(e,t,a){var s=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&s)return s(e);if("locale"==n)return A(a,e,t);if("iso8601"==n)return L(e,t.isoParts)}return e}function N(e,t,a,s){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=_t.exec(e))?(F(n,2,s),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n||(n=gt.exec(e)),n?(F(n,0,s),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):E(t,e,a))):null}function R(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function q(e){return e[0].innerWidth||e.innerWidth()}function j(e,t){var a={},s=e.parent(),n=s.find(".mbsc-err-msg"),i=e.attr("data-icon-align")||"left",o=e.attr("data-icon");s.hasClass(St)?s=s.parent():Ee('<span class="'+St+'"></span>').insertAfter(e).append(e),n&&s.find("."+St).append(n),o&&(o.indexOf("{")!==-1?a=JSON.parse(o):a[i]=o),(o||t)&&(Fe(a,t),s.addClass((a.right?"mbsc-ic-right ":"")+(a.left?" mbsc-ic-left":"")).find("."+St).append('<span class="mbsc-input-fill"></span>').append(a.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+a.left+'"></span>':"").append(a.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+a.right+'"></span>':""))}function X(e,t,a){var s={},n=a[0],i=a.attr("data-password-toggle"),o=a.attr("data-icon-show")||"eye",r=a.attr("data-icon-hide")||"eye-blocked";i&&(s.right="password"==n.type?o:r),j(a,s),i&&g(e,t.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==n.type?(n.type="password",Ee(this).addClass("mbsc-ic-"+o).removeClass("mbsc-ic-"+r)):(n.type="text",Ee(this).removeClass("mbsc-ic-"+o).addClass("mbsc-ic-"+r))})}function z(e,t,a,s,n){"button"!=t&&"submit"!=t&&"segmented"!=t&&(e.addClass("mbsc-control-w").addClass("box"==a?"mbsc-input-box":"").addClass("outline"==a?"mbsc-input-outline":"").addClass("inline"==s?"mbsc-label-inline":"").addClass("stacked"==s?"mbsc-label-stacked":"").addClass("floating"==s?"mbsc-label-floating":"").addClass("floating"==s&&n.value?"mbsc-label-floating-active":"").find("label").addClass("mbsc-label").each(function(e,t){Ee(t).attr("title",Ee(t).text())}),e.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){Ee('<span class="mbsc-label" title="'+this.textContent.trim()+'"></span>').insertAfter(this).append(this)}))}function B(e){var t=ce.themes.form[e];return t&&t.addRipple?t:null}function U(e,t,a){var s=e.attr(t);return void 0===s||""===s?a:s}function G(){clearTimeout(Wt),Wt=setTimeout(function(){Ee("textarea.mbsc-control").each(function(){J(this)})},100)}function J(e){var t=void 0,a=void 0,s=void 0,n=Ee(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",s=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(s>0?s:0),a=Math.round(t/24),a>n?(t=24*n+(t-24*a),Ee(e).addClass("mbsc-textarea-scroll")):Ee(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function K(e){var t=Ee(e);if(!t.hasClass("mbsc-textarea-scroll")){var a=e.scrollHeight-e.offsetHeight,s=e.offsetHeight+a,n=Math.round(s/24),i=t.attr("rows")||6;n<=i&&(e.scrollTop=0,e.style.height=s+"px")}}function Z(e,t,a,s){Ee("input,select,textarea,progress,button",e).each(function(){var e=this,s=Ee(e),n=b(s);if("false"!=s.attr("data-enhance"))if(s.hasClass("mbsc-control"))e.mbscInst&&e.mbscInst.option({theme:a.theme,lang:a.lang,rtl:a.rtl,onText:a.onText,offText:a.offText,stopProp:a.stopProp});else switch(e.id||(e.id="mbsc-form-control-"+ ++Zt),n){case"button":case"submit":t[e.id]=new Ot(e,{theme:a.theme,tap:a.tap});break;case"switch":t[e.id]=new zt(e,{theme:a.theme,lang:a.lang,rtl:a.rtl,tap:a.tap,onText:a.onText,offText:a.offText,stopProp:a.stopProp});break;case"checkbox":t[e.id]=new Ht(e,{tap:a.tap});break;case"range":Ee(e).parent().hasClass("mbsc-slider")||(t[e.id]=new Ut(e,{theme:a.theme,lang:a.lang,rtl:a.rtl,stopProp:a.stopProp,labelStyle:a.labelStyle}));break;case"rating":t[e.id]=new Gt(e,{theme:a.theme,lang:a.lang,rtl:a.rtl,stopProp:a.stopProp});break;case"progress":t[e.id]=new Bt(e,{theme:a.theme,lang:a.lang,rtl:a.rtl,labelStyle:a.labelStyle});break;case"radio":t[e.id]=new It(e,{tap:a.tap});break;case"select":case"select-one":case"select-multiple":t[e.id]=new Lt(e,{tap:a.tap,inputStyle:a.inputStyle,labelStyle:a.labelStyle});break;case"textarea":t[e.id]=new Nt(e,{tap:a.tap,inputStyle:a.inputStyle,labelStyle:a.labelStyle});break;case"segmented":t[e.id]=new Rt(e,{theme:a.theme,tap:a.tap});break;case"stepper":t[e.id]=new qt(e,{theme:a.theme});break;case"hidden":return;default:t[e.id]=new Et(e,{tap:a.tap,inputStyle:a.inputStyle,labelStyle:a.labelStyle})}}),Ee("[data-collapsible]:not(.mbsc-collapsible)",e).each(function(){var e=this,a=Ee(e),s=a.attr("data-open");e.id||(e.id="mbsc-form-control-"+ ++Zt),t[e.id]=new Kt(e,{isOpen:void 0!==s&&"false"!=s}),He[e.id]=t[e.id]}),s||G()}function Q(e){aa.length||e.show(),aa.push(e)}function ee(e){var t=sa.length;sa.push(e),aa.length||(t?sa[0].hide():e.show(!1,!0))}function te(e,t,a,s){return Fe({display:t.display||"center",cssClass:"mbsc-alert",okText:t.okText,cancelText:t.cancelText,context:t.context,theme:t.theme,closeOnOverlayTap:!1,onBeforeClose:function(){e.shift()},onHide:function(e,s){a&&a(s._resolve),t.callback&&t.callback(s._resolve),s&&s.destroy(),aa.length?aa[0].show():sa.length&&sa[0].show(!1,!0)}},s)}function ae(e){return(e.title?"<h2>"+e.title+"</h2>":"")+"<p>"+(e.message||"")+"</p>"}function se(e,t,a){var s=new Qt(e,te(aa,t,a));Q(s)}function ne(e,t,a){var s=new Qt(e,te(aa,t,a,{buttons:["cancel","ok"],onSet:function(){s._resolve=!0}}));s._resolve=!1,Q(s)}function ie(e,t,a){var s=void 0,n=new Qt(e,te(aa,t,a,{buttons:["cancel","ok"],onMarkupReady:function(e,t){s=t._markup.find("input")[0],setTimeout(function(){s.focus(),s.setSelectionRange(0,s.value.length)},300)},onSet:function(){n._resolve=s.value}}));n._resolve=null,Q(n)}function oe(e,t,a,s,n){var i=void 0,o=new Qt(e,te(sa,t,a,{display:t.display||"bottom",animate:n,cssClass:(s||"mbsc-snackbar")+(t.color?" mbsc-"+t.color:""),scrollLock:!1,focusTrap:!1,buttons:[],onShow:function(e,a){t.duration!==!1&&(i=setTimeout(function(){a&&a.hide()},t.duration||3e3)),t.button&&a.tap(Ee(".mbsc-snackbar-btn",e.target),function(){a.hide(),t.button.action&&t.button.action.call(this)})},onClose:function(){clearTimeout(i)}}));ee(o)}function re(e,t,a){oe(e,t,a,"mbsc-toast","fade")}function le(e,t,a){var s=void 0;return ta?s=new Promise(function(s){e(t,a,s)}):e(t,a),s}e=e&&e.hasOwnProperty("default")?e.default:e;var ce=ce||{},de={},ue={},me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fe=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),pe=function e(t,a,s){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,a);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,s)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(s)},be=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ve=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ge=e.extend,_e={};ce.$=e,e.mobiscroll=ce,e.fn.mobiscroll=function(e){return ge(this,_e),t(this,e,arguments)};var ye,xe,we,Ce,ke=[],Te="undefined"!=typeof window,De=Te?navigator.userAgent:"",Me=/Safari/.test(De),Se=De.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),Ve=Te&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},$e=Te&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(Se)?(ye="android",xe=De.match(/Android\s+([\d\.]+)/i),xe&&(ke=xe[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Se)?(ye="ios",xe=De.match(/OS\s+([\d\_]+)/i),xe&&(ke=xe[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Se)?ye="wp":/Windows|MSIE/i.test(Se)&&(ye="windows"),we=ke[0],Ce=ke[1];var Pe=0,Ye=void 0;Te&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,_,!0)}),"android"==ye&&we<5&&document.addEventListener("change",function(e){Pe&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var Ae,Ee=ce.$,Oe=+new Date,He={},Ie={},Le={xsmall:0,small:576,medium:768,large:992,xlarge:1200},Fe=Ee.extend;Fe(de,{getCoord:p,preventClick:h,vibrate:d}),Ae=Fe(ce,{$:Ee,version:"4.6.0",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:ye,majorVersion:we,minorVersion:Ce},i18n:{},instances:He,classes:Ie,util:de,settings:{},setDefaults:function(e){Fe(this.settings,e)},customTheme:function(e,t){var a,s=ce.themes,n=["frame","scroller","listview","navigation","form","page","progress","card"];for(a=0;a<n.length;a++)s[n[a]][e]=Fe({},s[n[a]][t],{baseTheme:t})}});var We=function(e,t){function a(e){var t,a;return c.responsive&&(a=e||i.offsetWidth,Ee.each(c.responsive,function(e,s){a>=(s.breakpoint||Le[e])&&(t=s)})),t}function n(){Ee(e).addClass("mbsc-comp"),e.id?He[e.id]&&He[e.id].destroy():e.id="mobiscroll"+ ++Oe,He[e.id]=f,f.__ready=!0}var i,o,r,l,c,d,u,m,h,f=this;f.settings={},f.element=e,f._init=s,f._destroy=s,f._processSettings=s,f._checkResp=function(e){if(f&&f._responsive){var t=a(e);if(l!==t)return l=t,f.init({}),!0}},f.init=function(s){var n,p;s&&f.getVal&&(p=f.getVal());for(n in f.settings)delete f.settings[n];c=f.settings,Fe(t,s),f._hasDef&&(h=Ae.settings),Fe(c,f._defaults,h,t),f._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=Ae.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=Ae.themes[f._class]?Ae.themes[f._class][u]:{}),f._hasLang&&(o=Ae.i18n[c.lang]),Fe(c,d,o,h,t),i=Ee(c.context)[0],f._responsive&&(l||(l=a()),Fe(c,l)),f._processSettings(l||{}),f._presets&&(r=f._presets[c.preset],r&&(r=r.call(e,f,t),Fe(c,r,t,l))),f._init(s),s&&f.setVal&&f.setVal(p,!0),m("onInit")},f.destroy=function(){f&&(f._destroy(),m("onDestroy"),delete He[e.id],f=null)},f.tap=function(e,t,a,s,n){g(f,e,t,a,s,n)},f.trigger=function(a,s){var n,i,o,l=[h,d,r,t];for(i=0;i<4;i++)o=l[i],o&&o[a]&&(n=o[a].call(e,s||{},f));return n},f.option=function(e,a){var s={},n=["data","invalid","valid","marked","labels","colors","readonly"];"object"===("undefined"==typeof e?"undefined":me(e))?s=e:s[e]=a,n.forEach(function(e){t[e]=c[e]}),f.init(s)},f.getInst=function(){return f},t=t||{},m=f.trigger,f.__ready||n()},Ne=0;de.getJson=C;var Re,qe,je,Xe,ze,Be,Ue={};Te&&(qe=document.createElement("modernizr").style,je=T(),Be=je.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),Re=void 0!==qe.animation?"animationend":"webkitAnimationEnd",ze=void 0!==qe.transition,Xe=void 0===qe.touchAction||"ios"==ye&&!Me);var Ge,Je,Ke="position:absolute;left:0;top:0;",Ze=Ke+"right:0;bottom:0;overflow:hidden;z-index:-1;",Qe='<div style="'+Ze+'"><div style="'+Ke+'"></div></div><div style="'+Ze+'"><div style="'+Ke+'width:200%;height:200%;"></div></div>',et=ce.themes,tt=/(iphone|ipod)/i.test(De)&&we>=7,at="android"==ye,st="ios"==ye,nt=st&&8==we,it=st&&we>7,ot=function(e){e.preventDefault()},rt="input,select,textarea,button",lt='textarea,button,input[type="button"],input[type="submit"]',ct=rt+',[tabindex="0"]',dt=function(e,t,a){function n(e){P&&P.removeClass("mbsc-active"),P=Ee(this),P.hasClass("mbsc-disabled")||P.hasClass("mbsc-fr-btn-nhl")||P.addClass("mbsc-active"),"mousedown"===e.type?Ee(document).on("mouseup",i):"pointerdown"===e.type&&Ee(document).on("pointerup",i)}function i(e){P&&(P.removeClass("mbsc-active"),P=null),"mouseup"===e.type?Ee(document).off("mouseup",i):"pointerup"===e.type&&Ee(document).off("pointerup",i)}function o(e){ce.activeInstance==ae&&(13!=e.keyCode||Ee(e.target).is(lt)&&!e.shiftKey?27==e.keyCode&&ae.cancel():ae.select())}function c(e){e||at||!ae._activeElm||(ie=new Date,ae._activeElm.focus())}function d(e){var t=Ge,a=U.focusOnClose;ae._markupRemove(),C.remove(),O&&(Y.mbscModals--,U.scrollLock&&Y.mbscLock--,Y.mbscLock||w.removeClass("mbsc-fr-lock"),Y.mbscModals||(w.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),R&&(y.css({top:"",left:""}),M.scrollLeft(G),M.scrollTop(K))),Y.mbscModals&&!B||e||(t||(t=se),setTimeout(function(){void 0===a||a===!0?(Je=!0,t[0].focus()):a&&Ee(a)[0].focus()},200))),B=void 0,H=!1,Q("onHide")}function u(){clearTimeout(z),z=setTimeout(function(){ae.position(!0)&&(X.style.visibility="hidden",X.offsetHeight,X.style.visibility="")},200)}function m(e){ce.activeInstance==ae&&e.target.nodeType&&!j.contains(e.target)&&new Date-ie>100&&(ie=new Date,ae._activeElm.focus())}function f(e,t){function a(){C.off(Re,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+A).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+A),c(t)}if(O)C.appendTo(y);else if(se.is("div")&&!ae._hasContent)se.empty().append(C);else if(se.hasClass("mbsc-control")){var s=se.closest(".mbsc-control-w");C.insertAfter(s),s.hasClass("mbsc-select")&&s.addClass("mbsc-select-inline")}else C.insertAfter(se);H=!0,ae._markupInserted(C),Q("onMarkupInserted",{target:L}),C.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",ot).on("touchstart mousedown",function(e){U.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||Ee(e.target).is(rt)){if(9==e.keyCode&&O&&U.focusTrap){var t=C.find(ct).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(Ee(":focus",C)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",i),L.addEventListener("touchstart",function(){Z||(Z=!0,y.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),Ee.each(V,function(e,t){ae.tap(Ee(".mbsc-fr-btn"+e,C),function(e){t=r(t)?ae.buttons[t]:t,(r(t.handler)?ae.handlers[t.handler]:t.handler).call(this,e,ae)},!0)}),ae._attachEvents(C),ae.position()!==!1&&(q=$(L,u),O&&(C.removeClass("mbsc-fr-pos"),A&&!e?C.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+A).on(Re,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+A):c(t)),Q("onShow",{target:L,valueText:ae._tempValue}))}function b(e,t){ae._isVisible||(e&&e(),ae.show()!==!1&&(Ge=t))}function v(){ae._fillValue(),Q("onSet",{valueText:ae._value})}function g(){Q("onCancel",{valueText:ae._value})}function _(){ae.setVal(null,!0)}var y,x,w,C,k,T,D,M,S,V,P,Y,A,E,O,H,I,L,F,W,N,R,q,j,X,z,B,U,G,J,K,Z,Q,ee,te,ae=this,se=Ee(e),ne=[],ie=new Date;We.call(this,e,t,!0),ae.position=function(e){var t,a,s,n,i,o,r,c,d,u,m,h,f,p,b,v,g,_,x,w={},k=0,V=0,$=0,P=0;if(!H)return!1;if(v=ee,b=te,f=L.offsetHeight,p=L.offsetWidth,p&&f&&(ee!==p||te!==f||!e)){if(ae._checkResp(p))return!1;if(ee=p,te=f,ae._isFullScreen||/top|bottom/.test(U.display)?D.width(p):O&&S.width(""),ae._position(C),!ae._isFullScreen&&/center|bubble/.test(U.display)&&(Ee(".mbsc-w-p",C).each(function(){g=this.getBoundingClientRect().width,P+=g,$=g>$?g:$}),h=P>p-16||U.tabs===!0,S.css({width:ae._isLiquid?Math.min(U.maxPopupWidth,p-16):Math.ceil(h?$:P),"white-space":h?"":"nowrap"})),Q("onPosition",{target:L,popup:X,hasTabs:h,oldWidth:v,oldHeight:b,windowWidth:p,windowHeight:f})!==!1&&O)return N&&(k=M.scrollLeft(),V=M.scrollTop(),ee&&T.css({width:"",height:""})),F=X.offsetWidth,W=X.offsetHeight,J=W<=f&&F<=p,"center"==U.display?(x=Math.max(0,k+(p-F)/2),_=Math.max(0,V+(f-W)/2)):"bubble"==U.display?(t=void 0===U.anchor?se:Ee(U.anchor),r=Ee(".mbsc-fr-arr-i",C)[0],n=t.offset(),i=n.top+(E?V-y.offset().top:0),o=n.left+(E?k-y.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,c=r.offsetWidth,d=r.offsetHeight,x=l(o-(F-a)/2,k+3,k+p-F-3),_=i+s+d/2,_+W+8>V+f&&i-W-d/2>V?(D.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),_=i-W-d/2):D.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),Ee(".mbsc-fr-arr",C).css({left:l(o+a/2-(x+(F-c)/2),0,c)}),J=_>V&&x>k&&_+W<=V+f&&x+F<=k+p):(x=k,_="top"==U.display?V:Math.max(0,V+f-W)),N&&(u=Math.max(_+W,E?Y.scrollHeight:Ee(document).height()),m=Math.max(x+F,E?Y.scrollWidth:Ee(document).width()),T.css({width:m,height:u}),U.scroll&&"bubble"==U.display&&(_+W+8>V+f||i>V+f||i+s<V)&&M.scrollTop(Math.min(i,_+W-f+8,u-f))),w.top=Math.floor(_),w.left=Math.floor(x),D.css(w),!0}},ae.attachShow=function(e,t){var a,s=Ee(e).off(".mbsc"),n=s.prop("readonly");"inline"!==U.display&&((U.showOnFocus||U.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){ae._isVisible&&this.blur()}),a=Ee('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select")||(U.showOnFocus&&s.on("focus.mbsc",function(){Je?Je=!1:b(t,s)}),U.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),b(t,s))}),ae.tap(s,function(e){e.isMbscTap&&(Z=!0),b(t,s)}),a&&a.length&&ae.tap(a,function(e){e.target!==s[0]&&b(t,s)}))),ne.push({readOnly:n,el:s,lbl:a}))},ae.select=function(){O?ae.hide(!1,"set",!1,v):v()},ae.cancel=function(){O?ae.hide(!1,"cancel",!1,g):g()},ae.clear=function(){ae._clearValue(),Q("onClear"),O&&ae._isVisible&&!ae.live?ae.hide(!1,"clear",!1,_):_()},ae.enable=function(){U.disabled=!1,Ee.each(ne,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},ae.disable=function(){U.disabled=!0,Ee.each(ne,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},ae.show=function(e,t){var a,s;if(!U.disabled&&!ae._isVisible){if(ae._readValue(),Q("onBeforeShow")===!1)return!1;if(Ge=null,A=U.animate,V=U.buttons||[],N=E||"bubble"==U.display,R=tt&&!N&&U.scrollLock,a=V.length>0,A!==!1&&("top"==U.display?A=A||"slidedown":"bottom"==U.display?A=A||"slideup":"center"!=U.display&&"bubble"!=U.display||(A=A||"pop")),O&&(K=Math.max(0,M.scrollTop()),G=Math.max(0,M.scrollLeft()),ee=0,te=0,R&&!w.hasClass("mbsc-fr-lock-ios")&&y.css({top:-K+"px",left:-G+"px"}),w.addClass((U.scrollLock?"mbsc-fr-lock":"")+(R?" mbsc-fr-lock-ios":"")+(E?" mbsc-fr-lock-ctx":"")),Ee(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=ce.activeInstance,ce.activeInstance=ae,Y.mbscModals=Y.mbscModals||0,Y.mbscLock=Y.mbscLock||0,Y.mbscModals++,U.scrollLock&&Y.mbscLock++),s='<div lang="'+U.lang+'" class="mbsc-fr mbsc-'+U.theme+(U.baseTheme?" mbsc-"+U.baseTheme:"")+" mbsc-fr-"+U.display+" "+(U.cssClass||"")+" "+(U.compClass||"")+(ae._isLiquid?" mbsc-fr-liq":"")+(O?" mbsc-fr-pos":"")+(I?" mbsc-fr-pointer":"")+(it?" mbsc-fr-hb":"")+(Z?"":" mbsc-no-touch")+(R?" mbsc-platform-ios":"")+(a?V.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(O?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(U.rtl?" mbsc-rtl":" mbsc-ltr")+(U.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===U.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(O?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(U.headerText?'<div class="mbsc-fr-hdr">'+(r(U.headerText)?U.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=ae._generateContent(),s+="</div>",a){var n,i,l,c=V.length;for(s+='<div class="mbsc-fr-btn-cont">',i=0;i<V.length;i++)l=U.btnReverse?c-i-1:i,n=V[l],n=r(n)?ae.buttons[n]:n,"set"===n.handler&&(n.parentClass="mbsc-fr-btn-s"),"cancel"===n.handler&&(n.parentClass="mbsc-fr-btn-c"),s+="<div"+(U.btnWidth?' style="width:'+100/V.length+'%"':"")+' class="mbsc-fr-btn-w '+(n.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+l+" mbsc-fr-btn-e "+(void 0===n.cssClass?U.btnClass:n.cssClass)+(n.icon?" mbsc-ic mbsc-ic-"+n.icon:"")+'">'+(n.text||"")+"</div></div>";s+="</div>"}if(s+="</div></div></div></div>"+(O?"</div></div>":""),C=Ee(s),T=Ee(".mbsc-fr-persp",C),k=Ee(".mbsc-fr-scroll",C),S=Ee(".mbsc-fr-w",C),D=Ee(".mbsc-fr-popup",C),x=Ee(".mbsc-fr-hdr",C),L=C[0],j=k[0],X=D[0],ae._activeElm=Ee(".mbsc-fr-focus",C)[0],ae._markup=C,ae._isVisible=!0,ae.markup=L,ae._markupReady(C),Q("onMarkupReady",{target:L}),O&&(Ee(window).on("keydown",o),U.scrollLock&&C.on("touchmove mousewheel wheel",function(e){J&&e.preventDefault()}),U.focusTrap&&M.on("focusin",m),U.closeOnOverlayTap)){var d,u,b,v;k.on("touchstart mousedown",function(e){u||e.target!=j||(u=!0,d=!1,b=p(e,"X"),v=p(e,"Y"))}).on("touchmove mousemove",function(e){u&&!d&&(Math.abs(p(e,"X")-b)>9||Math.abs(p(e,"Y")-v)>9)&&(d=!0)}).on("touchcancel",function(){u=!1}).on("touchend click",function(e){u&&!d&&(ae.cancel(),"touchend"==e.type&&h()),u=!1})}O&&R?setTimeout(function(){f(e,t)},100):f(e,t)}},ae.hide=function(e,t,a,s){function n(){C.off(Re,n),d(e)}return!(!ae._isVisible||!a&&!ae._isValid&&"set"==t||!a&&Q("onBeforeClose",{valueText:ae._tempValue,button:t})===!1)&&(ae._isVisible=!1,q&&(q.detach(),q=null),O&&(Ee(document.activeElement).is("input,textarea")&&X.contains(document.activeElement)&&document.activeElement.blur(),ce.activeInstance==ae&&(ce.activeInstance=B),Ee(window).off("keydown",o),M.off("focusin",m)),C&&(O&&A&&!e?C.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+A).on(Re,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+A):d(e),ae._detachEvents(C)),s&&s(),se.trigger("blur"),void Q("onClose",{valueText:ae._value}))},ae.isVisible=function(){return ae._isVisible},ae.setVal=s,ae.getVal=s,ae._generateContent=s,ae._attachEvents=s,ae._detachEvents=s,ae._readValue=s,ae._clearValue=s,ae._fillValue=s,ae._markupReady=s,ae._markupInserted=s,ae._markupRemove=s,ae._position=s,ae.__processSettings=s,ae.__init=s,ae.__destroy=s,ae._destroy=function(){ae.hide(!0,!1,!0),se.off(".mbsc"),
Ee.each(ne,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),ae.__destroy()},ae._updateHeader=function(){var t=U.headerText,a=t?"function"==typeof t?t.call(e,ae._tempValue):t.replace(/\{value\}/i,ae._tempValue):"";x.html(a||"&nbsp;")},ae._processSettings=function(e){var a,s;for(ae.__processSettings(e),I=!U.touchUi,I&&(U.display=e.display||t.display||"bubble",U.buttons=e.buttons||t.buttons||[]),U.buttons=U.buttons||("inline"!==U.display?["cancel","set"]:[]),U.headerText=void 0===U.headerText?"inline"!==U.display&&"{value}":U.headerText,V=U.buttons||[],O="inline"!==U.display,E="body"!=U.context,y=Ee(U.context),w=E?y:Ee("body,html"),Y=y[0],ae._$window=M=Ee(E?U.context:window),ae.live=!0,s=0;s<V.length;s++)a=V[s],"ok"!=a&&"set"!=a&&"set"!=a.handler||(ae.live=!1);ae.buttons.set={text:U.setText,icon:U.setIcon,handler:"set"},ae.buttons.cancel={text:U.cancelText,icon:U.cancelIcon,handler:"cancel"},ae.buttons.close={text:U.closeText,icon:U.closeIcon,handler:"cancel"},ae.buttons.clear={text:U.clearText,icon:U.clearIcon,handler:"clear"},ae._isInput=se.is("input")},ae._init=function(e){var t=ae._isVisible,a=t&&!C.hasClass("mbsc-fr-pos");t&&ae.hide(!0,!1,!0),se.off(".mbsc"),ae.__init(e),ae._isLiquid="liquid"==U.layout,O?(ae._readValue(),ae._hasContent||U.skipShow||ae.attachShow(se),t&&ae.show(a)):ae.show(),se.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){ae._preventChange||ae.setVal(se.val(),!0,!1),ae._preventChange=!1})},ae.buttons={},ae.handlers={set:ae.select,cancel:ae.cancel,clear:ae.clear},ae._value=null,ae._isValid=!0,ae._isVisible=!1,U=ae.settings,Q=ae.trigger,a||ae.init()};dt.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:at||st,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!nt},Ie.Frame=dt,et.frame.mobiscroll={headerText:!1,btnWidth:!1},et.scroller.mobiscroll=Fe({},et.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Te&&Ee(window).on("focus",function(){Ge&&(Je=!0)});/* eslint-disable no-unused-vars */
var ut="ios"==ye,mt=function(e,t,a){function s(e){ce("onStart",{domEvent:e}),pe.stopProp&&e.stopPropagation(),pe.prevDef&&e.preventDefault(),pe.readonly||pe.lock&&N||D(e,this)&&!W&&(_&&_.removeClass("mbsc-active"),O=!1,N||(_=Ee(e.target).closest(".mbsc-btn-e",this),_.length&&!_.hasClass("mbsc-disabled")&&(O=!0,w=setTimeout(function(){_.addClass("mbsc-active")},100))),W=!0,G=!1,R=!1,me.scrolled=N,se=p(e,"X"),ne=p(e,"Y"),Y=se,k=0,T=0,S=0,ae=new Date,te=+M(oe,de)||0,N&&g(te,ut?0:1),"mousedown"===e.type&&Ee(document).on("mousemove",n).on("mouseup",c))}function n(e){W&&(pe.stopProp&&e.stopPropagation(),Y=p(e,"X"),A=p(e,"Y"),k=Y-se,T=A-ne,S=de?T:k,O&&(Math.abs(T)>pe.thresholdY||Math.abs(k)>pe.thresholdX)&&(clearTimeout(w),_.removeClass("mbsc-active"),O=!1),(me.scrolled||!R&&Math.abs(S)>le)&&(G||ce("onGestureStart",E),me.scrolled=G=!0,j||(j=!0,q=Ve(i))),de||pe.scrollLock?e.preventDefault():me.scrolled?e.preventDefault():Math.abs(T)>7&&(R=!0,me.scrolled=!0,c()))}function i(){L&&(S=l(S,-Q*L,Q*L)),g(l(te+S,F-P,I+P)),j=!1}function c(e){if(W){var t,a=new Date-ae;pe.stopProp&&e&&e.stopPropagation(),$e(q),j=!1,!R&&me.scrolled&&(pe.momentum&&a<300&&(t=S/a,S=Math.max(Math.abs(S),t*t/pe.speedUnit)*(S<0?-1:1)),v(S)),O&&(clearTimeout(w),_.addClass("mbsc-active"),setTimeout(function(){_.removeClass("mbsc-active")},100),R||me.scrolled||ce("onBtnTap",{target:_[0],domEvent:e})),e&&"mouseup"==e.type&&Ee(document).off("mousemove",n).off("mouseup",c),W=!1}}function d(e){if(e=e.originalEvent||e,S=de?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,ce("onStart",{domEvent:e}),pe.stopProp&&e.stopPropagation(),S){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(S*=15),S=l(-S,-K,K),te=ue,pe.readonly)return;if(G||b(),te+S<F&&(te=F,S=0),te+S>I&&(te=I,S=0),j||(j=!0,q=Ve(i)),!S&&G)return;G=!0,clearTimeout(J),J=setTimeout(function(){$e(q),j=!1,G=!1,v(S)},200)}}function u(e){ce("onStart",{domEvent:e}),pe.readonly||(e.stopPropagation(),te=ue,G=!1,e.target==X?(ne=p(e,"Y",!0),Ee(document).on("mousemove",m).on("mouseup",h)):(ne=y.offset().top,m(e),h()))}function m(e){var t=(p(e,"Y",!0)-ne)/C;H?(S=-(L*Q*2+C)*t,S=l(S,-Q*L,Q*L)):S=(F-I-C)*t,G||b(),G=!0,g(l(te+S,F-P,I+P))}function h(){te=ue,v(0),Ee(document).off("mousemove",m).off("mouseup",h)}function f(e){e.stopPropagation()}function b(){E={posX:de?0:ue,posY:de?ue:0,originX:de?0:te,originY:de?te:0,direction:S>0?de?270:360:de?90:180},ce("onGestureStart",E)}function v(e){var t,a,s;if(L&&(e=l(e,-Q*L,Q*L)),s=l(Math.round((te+e)/Q)*Q,F,I),ee){if(e<0){for(t=ee.length-1;t>=0;t--)if(Math.abs(s)+C>=ee[t].breakpoint){he=t,fe=2,s=ee[t].snap2;break}}else if(e>=0)for(t=0;t<ee.length;t++)if(Math.abs(s)<=ee[t].breakpoint){he=t,fe=1,s=ee[t].snap1;break}s=l(s,F,I)}a=pe.time||(ue<F||ue>I?1e3:Math.max(1e3,Math.abs(s-ue)*pe.timeUnit)),E.destinationX=de?0:s,E.destinationY=de?s:0,E.duration=a,E.transitionTiming=$,ce("onGestureEnd",E),me.scroll(s,a)}function g(e,t,a,s){var n,i=e!=ue,o=t>1,r=t?je+"transform "+Math.round(t)+"ms "+$:"",l=function(){clearInterval(Z),clearTimeout(re),N=!1,ue=e,E.posX=de?0:e,E.posY=de?e:0,i&&ce("onMove",E),o&&ce("onAnimationEnd",E),s&&s()};E={posX:de?0:ue,posY:de?ue:0,originX:de?0:te,originY:de?te:0,direction:e-ue>0?de?270:360:de?90:180},ue=e,o&&(E.destinationX=de?0:e,E.destinationY=de?e:0,E.duration=t,E.transitionTiming=$,ce("onAnimationStart",E)),ie[Be+"Transition"]=r,ie[Be+"Transform"]="translate3d("+(de?"0,"+e+"px,":e+"px,0,")+"0)",X&&z&&(n=H?(B-e)/(L*Q*2):(e-I)/(F-I),X.style[Be+"Transition"]=r,X.style[Be+"Transform"]="translate3d(0,"+Math.max(0,Math.min((C-z)*n,C-z))+"px,0)"),!i&&!N||!t||t<=1?l():t&&(N=!a,clearInterval(Z),Z=setInterval(function(){var t=+M(oe,de)||0;E.posX=de?0:t,E.posY=de?t:0,ce("onMove",E),Math.abs(t-e)<2&&l()},100),clearTimeout(re),re=setTimeout(function(){l()},t)),pe.sync&&pe.sync(e,t,$)}var _,y,x,w,C,k,T,S,V,$,P,Y,A,E,O,H,I,L,F,W,N,R,q,j,X,z,B,U,G,J,K,Z,Q,ee,te,ae,se,ne,ie,oe,re,le,ce,de,ue,me=this,he=0,fe=1,pe=t,be=Ee(e);We.call(this,e,t,!0),me.scrolled=!1,me.scroll=function(t,a,s,n){t=o(t)?Math.round(t/Q)*Q:Math.ceil((Ee(t,e).length?Math.round(oe.offset()[V]-Ee(t,e).offset()[V]):ue)/Q)*Q,t=l(t,F,I),he=Math.round(t/Q),te=ue,B=L*Q+t,g(t,a,s,n)},me.refresh=function(e){var t;for(C=void 0===pe.contSize?de?be.height():be.width():pe.contSize,I=void 0===pe.maxScroll?0:pe.maxScroll,F=Math.min(I,void 0===pe.minScroll?Math.min(0,de?C-oe.height():C-oe.width()):pe.minScroll),ee=null,!de&&pe.rtl&&(t=I,I=-F,F=-t),r(pe.snap)&&(ee=[],oe.find(pe.snap).each(function(){var e=de?this.offsetTop:this.offsetLeft,t=de?this.offsetHeight:this.offsetWidth;ee.push({breakpoint:e+t/2,snap1:-e,snap2:C-e-t})})),Q=o(pe.snap)?pe.snap:1,L=pe.snap?pe.maxSnapScroll:0,$=pe.easing,P=pe.elastic?o(pe.snap)?Q:o(pe.elastic)?pe.elastic:0:0,K=Q;K>44;)K/=2;K=Math.round(44/K)*K,X&&(H=F==-(1/0)||I==1/0,z=F<I?Math.max(20,C*C/(I-F+C)):0,X.style.height=z+"px",U.style.height=z?"":0),void 0===ue&&(ue=pe.initialPos,he=Math.round(ue/Q)),e||me.scroll(pe.snap?ee?ee[he]["snap"+fe]:he*Q:ue)},me._processSettings=function(){de="Y"==pe.axis,V=de?"top":"left",oe=pe.moveElement||be.children().eq(0),ie=oe[0].style,le=de?pe.thresholdY:pe.thresholdX,pe.scrollbar&&(x=pe.scrollbar,y=x.find(".mbsc-sc-bar"),X=y[0],U=x[0])},me._init=function(){me.refresh(),be.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",c),pe.mousewheel&&be.on("wheel mousewheel",d),X&&x.on("mousedown",u).on("click",f),e.addEventListener("click",function(e){me.scrolled&&(me.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},me._destroy=function(){clearInterval(Z),be.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",c).off("wheel mousewheel",d),X&&x.off("mousedown",u).off("click",f)},pe=me.settings,ce=me.trigger,a||me.init()};mt.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var ht={},ft=Te?window.CSS:null,pt=ft&&ft.supports&&ft.supports("(transform-style: preserve-3d)"),bt=function(e,t,a){function s(e){var t,a,s=+Ee(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,r(s,Ee(e.target))),t&&(e.stopPropagation(),e.preventDefault(),a&&A.start(s,a,e))}function i(){A.stop()}function r(e,t){var a=R[e],s=+t.attr("data-index"),i=p(a,s),r=z._tempSelected[e],l=o(a.multiple)?a.multiple:1/0;W("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[i]&&(void 0!==r[i]?(t.removeClass($).removeAttr("aria-selected"),delete r[i]):(1==l&&(z._tempSelected[e]=r={},a._$markup.find(".mbsc-sc-itm-sel").removeClass($).removeAttr("aria-selected")),n(r).length<l&&(t.addClass($).attr("aria-selected","true"),r[i]=i))),C(a,e,s,X,a._index<s?1:2,!0,a.multiple),z.live&&(!a.multiple||1===a.multiple&&F.tapSelect)&&(F.setOnTap===!0||F.setOnTap[e])&&setTimeout(function(){z.select()},F.tapSelect?0:200))}function l(e,t){var a=R[e];return a&&(!a.multiple||1!==a.multiple&&t&&(F.setOnTap===!0||F.setOnTap[e]))}function c(e){return-(e.max-e._offset-(e.multiple&&!S?Math.floor(F.rows/2):0))*O}function d(e){return-(e.min-e._offset+(e.multiple&&!S?Math.floor(F.rows/2):0))*O}function u(e,t){return(e._array?e._map[t]:+e.getIndex(t,z))||0}function m(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Ee(a).get(t%e._length):a[t]:Ee.isFunction(a)?a(t,z):""}function h(e){return Ee.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function f(e){var t=Ee.isPlainObject(e)?e.display:e;return void 0===t?"":t}function p(e,t){return h(m(e,t))}function b(e,t,a){var s=R[e];C(s,e,s._index+t,F.delay+100,1==t?1:2,!1,!1,"keydown"==a.type)}function v(e){return Ee.isArray(F.readonly)?F.readonly[e]:F.readonly}function g(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=Ee.isArray(e.data),e._array&&(e._length=e.data.length,Ee.each(e.data,function(t,a){e._map[h(a)]=t})),e.circular=void 0===F.circular?void 0===e.circular?e._array&&e._length>F.rows:e.circular:Ee.isArray(F.circular)?F.circular[t]:F.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=u(e,E[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-j,e._last=e._index+j,e._offset=e._first,a?(e._offset-=e._margin/O+(e._index-s),e._margin+=(e._index-s)*O):e._margin=0,e._refresh=function(t){Fe(e._scroller.settings,{minScroll:c(e),maxScroll:d(e)}),e._scroller.refresh(t)},q[e.key]=e,e}function _(e,t,a,s,n){var i,o,r,l,c,d,u,p,b="",v=z._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)r=m(e,i),c=f(r),l=h(r),o=r&&void 0!==r.cssClass?r.cssClass:"",d=r&&void 0!==r.label?r.label:"",u=r&&r.invalid,p=void 0!==l&&l==E[t]&&!e.multiple,b+='<div role="option" tabindex="-1" aria-selected="'+!!v[l]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+o+" "+(p?"mbsc-sc-itm-sel ":"")+(v[l]?$:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+P(l)+'"'+(d?' aria-label="'+d+'"':"")+(p?' aria-selected="true"':"")+' style="height:'+O+"px;line-height:"+O+"px;"+(n?je+"transform:rotateX("+(e._offset-i)*M%360+"deg) translateZ("+O*F.rows/2+"px);":"")+'">'+(N>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(O/N)+"px;font-size:"+Math.round(O/N*.8)+'px;">':"")+c+(N>1?"</div>":"")+"</div>";return b}function y(e,t,a){var s=Math.round(-a/O)+e._offset,n=s-e._current,i=e._first,o=e._last,r=i+j-D+1,l=o-j+D;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(_(e,t,Math.max(o+1,i+n),o+n)),Ee(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,o-i+1)).remove(),S&&(e._$3d.append(_(e,t,Math.max(l+1,r+n),l+n,!0)),Ee(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,l-r+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(_(e,t,i+n,Math.min(i-1,o+n))),Ee(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-o-1)).remove(),S&&(e._$3d.prepend(_(e,t,r+n,Math.min(r-1,l+n),!0)),Ee(".mbsc-sc-itm",e._$3d).slice(Math.max(n,r-l-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*O,e._$scroller.css("margin-top",e._margin+"px"))}function x(e,t,a,s){var n,i=R[e],o=s||i._disabled,r=u(i,t),l=p(i,r),c=l,d=l,m=0,h=0;if(o[l]===!0){for(n=0;r-m>=i.min&&o[c]&&n<100;)n++,m++,c=p(i,r-m);for(n=0;r+h<i.max&&o[d]&&n<100;)n++,h++,d=p(i,r+h);l=(h<m&&h&&2!==a||!m||r-m<0||1==a)&&!o[d]?d:c}return l}function w(t,a,s,n,i,o,r){var c,d,m,h,f=z._isVisible;L=!0,h=F.validate.call(e,{values:E.slice(0),index:a,direction:s},z)||{},L=!1,h.valid&&(z._tempWheelArray=E=h.valid.slice(0)),o||Ee.each(R,function(e,n){if(f&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},h.disabled&&h.disabled[e]&&Ee.each(h.disabled[e],function(e,t){n._disabled[t]=!0,f&&n._$markup.find('.mbsc-sc-itm[data-val="'+P(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),E[e]=n.multiple?E[e]:x(e,E[e],s),f){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass($).removeAttr("aria-selected"),d=u(n,E[e]),c=d-n._index+n._batch,Math.abs(c)>2*j+1&&(m=c+(2*j+1)*(c>0?-1:1),n._offset+=m,n._margin-=m*O,n._refresh()),n._index=d+n._batch,n.multiple){if(void 0===a)for(var o in z._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+P(o)+'"]').addClass($).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+P(E[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(S&&n.multiple?1:0).attr("tabindex",0),r&&a===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(d-n._offset+n._batch)*O,a===e||void 0===a?t:X,i)}}),W("onValidated",{index:a,time:t}),z._tempValue=F.formatValue.call(e,E,z),f&&z._updateHeader(),z.live&&l(a,o)&&(z._hasValue=n||z._hasValue,k(n,n,0,!0),n&&W("onSet",{valueText:z._value})),n&&W("onChange",{index:a,valueText:z._tempValue})}function C(e,t,a,s,n,i,o,r){var l=p(e,a);void 0!==l&&(E[t]=l,e._batch=e._array?Math.floor(a/e._length)*e._length:0,e._index=a,setTimeout(function(){w(s,t,n,!0,i,o,r)},10))}function k(t,a,s,n,i){if(n?z._tempValue=F.formatValue.call(e,z._tempWheelArray,z):w(s),!i){z._wheelArray=[];for(var o=0;o<E.length;o++)z._wheelArray[o]=R[o]&&R[o].multiple?Object.keys(z._tempSelected[o]||{})[0]:E[o];z._value=z._hasValue?z._tempValue:null,z._selected=Fe(!0,{},z._tempSelected)}t&&(z._isInput&&B.val(z._hasValue?z._tempValue:""),W("onFill",{valueText:z._hasValue?z._tempValue:"",change:a}),a&&(z._preventChange=!0,B.trigger("change")))}var T,D,M,S,$,Y,A,E,O,H,I,L,F,W,N,R,q,j=40,X=1e3,z=this,B=Ee(e);dt.call(this,e,t,!0),z.setVal=z._setVal=function(t,a,s,n,i){z._hasValue=null!==t&&void 0!==t,z._tempWheelArray=E=Ee.isArray(t)?t.slice(0):F.parseValue.call(e,t,z)||[],k(a,void 0===s?a:s,i,!1,n)},z.getVal=z._getVal=function(e){var t=z._hasValue||e?z[e?"_tempValue":"_value"]:null;return o(t)?+t:t},z.setArrayVal=z.setVal,z.getArrayVal=function(e){return e?z._tempWheelArray:z._wheelArray},z.changeWheel=function(e,t,a){var s,n;Ee.each(e,function(e,t){n=q[e],n&&(s=n._nr,Fe(n,t),g(n,s,!0),z._isVisible&&(S&&n._$3d.html(_(n,s,n._first+j-D+1,n._last-j+D,!0)),n._$scroller.html(_(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(L)))}),!z._isVisible||z._isLiquid||L||z.position(),L||w(t,void 0,void 0,a)},z.getValidValue=x,z._generateContent=function(){var e,t=0,a="",s=S?je+"transform: translateZ("+(O*F.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+O+"px;margin-top:-"+(O/2+(F.selectedLineBorder||0))+'px;"></div>',i=0;return Ee.each(F.wheels,function(o,r){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(S?" mbsc-sc-whl-gr-3d-c":"")+(F.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(S?" mbsc-sc-whl-gr-3d":"")+(Y?" mbsc-sc-cp":"")+(F.width||F.maxWidth?'"':'" style="max-width:'+F.maxPopupWidth+'px;"')+">",Ee.each(r,function(o,r){z._tempSelected[i]=Fe({},z._selected[i]),R[i]=g(r,i),t+=F.maxWidth?F.maxWidth[i]||F.maxWidth:F.width?F.width[i]||F.width:0,e=void 0!==r.label?r.label:o,a+='<div class="mbsc-sc-whl-w '+(r.cssClass||"")+(r.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(F.width?"width:"+(F.width[i]||F.width)+"px;":(F.minWidth?"min-width:"+(F.minWidth[i]||F.minWidth)+"px;":"")+(F.maxWidth?"max-width:"+(F.maxWidth[i]||F.maxWidth)+"px;":""))+'">'+(I?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div aria-live="off" aria-label="'+e+'"'+(r.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+F.rows*O*(S?1.1:1)+'px;">'+(Y?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(F.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(F.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+H+"px;margin-top:-"+(H/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(H-O)/2+'px;">',a+=_(r,i,r._first,r._last)+"</div></div>",S&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+O+"px;margin-top:-"+O/2+'px;">',a+=_(r,i,r._first+j-D+1,r._last-j+D,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(F.maxPopupWidth=t),a},z._attachEvents=function(e){A=V(Ee(".mbsc-sc-btn",e),b,F.delay,v,!0),Ee(".mbsc-sc-whl",e).on("keydown",s).on("keyup",i)},z._detachEvents=function(){A.stop();for(var e=0;e<R.length;e++)R[e]._scroller.destroy()},z._markupReady=function(e){T=e,Ee(".mbsc-sc-whl-w",T).each(function(e){var t,a=Ee(this),s=R[e];s._$markup=a,s._$scroller=Ee(".mbsc-sc-whl-sc",this),s._$3d=Ee(".mbsc-sc-whl-3d",this),s._scroller=new mt(this,{mousewheel:F.mousewheel,moveElement:s._$scroller,scrollbar:Ee(".mbsc-sc-bar-c",this),initialPos:(s._first-s._index)*O,contSize:F.rows*O,snap:O,minScroll:c(s),maxScroll:d(s),maxSnapScroll:j,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){var n=t?je+"transform "+Math.round(t)+"ms "+a:"";S&&(s._$3d[0].style[Be+"Transition"]=n,s._$3d[0].style[Be+"Transform"]="rotateX("+-e/O*M+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),W("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,o=a.destinationY;t=Math.round(-o/O)+s._offset,C(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),W("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){y(s,e,t.posY)},onBtnTap:function(t){r(e,Ee(t.target))}})}),w()},z._fillValue=function(){z._hasValue=!0,k(!0,!0,0,!0)},z._clearValue=function(){Ee(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",T).removeClass($).removeAttr("aria-selected")},z._readValue=function(){var t=B.val()||"",a=0;""!==t&&(z._hasValue=!0),z._tempWheelArray=E=z._hasValue&&z._wheelArray?z._wheelArray.slice(0):F.parseValue.call(e,t,z)||[],z._tempSelected=Fe(!0,{},z._selected),Ee.each(F.wheels,function(e,t){Ee.each(t,function(e,t){R[a]=g(t,a),a++})}),k(!1,!1,0,!0),W("onRead")},z.__processSettings=function(e){F=z.settings,W=z.trigger,N=F.multiline,$="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+F.checkIcon,I=!F.touchUi,I&&(F.tapSelect=!0,F.circular=!1,F.rows=e.rows||t.rows||7)},z.__init=function(e){e&&(z._wheelArray=null),R=[],q={},Y=F.showScrollArrows,S=F.scroll3d&&pt&&!Y&&!I&&("ios"==F.theme||"ios"==F.baseTheme),O=F.height,H=S?2*Math.round((O-.03*(O*F.rows/2+3))/2):O,D=Math.round(1.8*F.rows),M=360/(2*D),Y&&(F.rows=Math.max(3,F.rows))},z._getItemValue=h,z._tempSelected={},z._selected={},a||z.init()};bt.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:ht,_defaults:Fe({},dt.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],o=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),Ee.each(t.settings.wheels,function(e,r){Ee.each(r,function(e,r){s=r.data,a=t._getItemValue(s[0]),Ee.each(s,function(e,s){if(n[o]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),o++})}),i}})},Ie.Scroller=bt;var vt={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};ht.select=function(e,t){function a(e){var t,a,s,n,i,o,r=0,l=0,c={};if(B={},$={},E=[],S=[],le.length=0,ae)Ee.each(k,function(r,d){i=d[j.dataText]+"",a=d[j.dataHtml],o=d[j.dataValue],s=d[j.dataGroup],n={value:o,html:a,text:i,index:r,cssClass:oe?"mbsc-sel-gr-itm":""},B[o]=n,e&&!v(i,e)||(E.push(n),se&&(void 0===c[s]?(t={text:s,value:l,options:[],index:l},$[l]=t,c[s]=l,S.push(t),l++):t=$[c[s]],ie&&(n.index=t.options.length),n.group=c[s],t.options.push(n)),d[j.dataDisabled]&&le.push(o))});else if(se){var d=!0;Ee("optgroup",R).each(function(t){$[t]={text:this.label,value:t,options:[],index:t},d=!0,Ee("option",this).each(function(a){n={value:this.value,text:this.text,index:ie?a:r++,group:t,cssClass:oe?"mbsc-sel-gr-itm":""},B[this.value]=n,e&&!v(this.text,e)||(d&&(S.push($[t]),d=!1),E.push(n),$[t].options.push(n),this.disabled&&le.push(this.value))})})}else Ee("option",R).each(function(t){n={value:this.value,text:this.text,index:t},B[this.value]=n,e&&!v(this.text,e)||(E.push(n),this.disabled&&le.push(this.value))});L=j.defaultValue?j.defaultValue:E.length?E[0].value:"",oe&&(E=[],r=0,Ee.each($,function(e,t){t.options.length&&(o="__group"+e,n={text:t.text,value:o,group:e,index:r++,cssClass:"mbsc-sel-gr"},B[o]=n,E.push(n),le.push(n.value),Ee.each(t.options,function(e,t){t.index=r++,E.push(t)}))})),X&&(E.length?X.removeClass("mbsc-sel-empty-v"):X.addClass("mbsc-sel-empty-v"))}function l(e,t,a,s,n){var i,o=[];for(i=0;i<e.length;i++)o.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!s?1:s,cssClass:(t&&!s?"mbsc-sel-one":"")+" "+n,data:o,label:a}}function c(){return l(S,K,j.groupLabel,!1,"mbsc-sel-gr-whl")}function d(){return l(ie&&$[M]?$[M].options:E,K,ee,J,"")}function u(){var e=[[]];return ne&&(V=c(),G?e[0][P]=V:e[P]=[V]),O=d(),G?e[0][H]=O:e[H]=[O],e}function m(e){J&&(e&&r(e)&&(e=e.split(",")),Ee.isArray(e)&&(e=e[0])),A=void 0===e||null===e||""===e?L:e,!B[A]&&E&&E.length&&(A=E[0].value),ne&&(M=B[A]?B[A].group:null)}function h(e){return F[e]||(B[e]?B[e].text:"")}function f(e,t,a){var s,n,i=[],o=a?t._selected:t._tempSelected;if(K){for(s in o[H])i.push(h(s));return i.join(", ")}return n=e[H],h(n)}function p(){var t,a="",s=e.getVal(),n=j.formatValue.call(N,e.getArrayVal(),e,!0);if(j.filter&&"inline"==j.display||w.val(n),R.is("select")&&ae){if(J)for(t=0;t<s.length;t++)a+='<option value="'+s[t]+'">'+h(s[t])+"</option>";else a='<option value="'+(null===s?"":s)+'">'+n+"</option>";R.html(a)}N!==w[0]&&R.val(s)}function b(){var t={};t[H]=d(),I=!0,e.changeWheel(t)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return j.data.dataField?e[j.data.dataField]:j.data.processResponse?j.data.processResponse(e):e}function _(t){var s={};a(t),m(A),j.wheels=u(),s[H]=O,e._tempWheelArray[H]=A,ne&&(s[P]=V,e._tempWheelArray[P]=M),e.changeWheel(s,0,!0),p()}function y(t){return e.trigger("onFilter",{filterText:t})}function x(t){t[P]!=M&&(M=t[P],A=$[M].options[0].value,t[H]=A,ie?b():e.setArrayVal(t,!1,!1,!0,W))}var w,k,T,D,M,S,V,$,P,Y,A,E,O,H,I,L="",F={},W=1e3,N=this,R=Ee(N),q=Fe({},e.settings),j=Fe(e.settings,vt,q),X=Ee('<div class="mbsc-sel-empty">'+j.filterEmptyText+"</div>"),z=j.readonly,B={},U=j.layout||(/top|bottom|inline/.test(j.display)||j.filter?"liquid":""),G="liquid"==U||!j.touchUi,J=o(j.select)?j.select:"multiple"==j.select||R.prop("multiple"),K=J||!(!j.filter&&!j.tapSelect)&&1,Z=this.id+"_dummy",Q=Ee('label[for="'+this.id+'"]').attr("for",Z),ee=void 0!==j.label?j.label:Q.length?Q.text():R.attr("name"),te=j.group,ae=!!j.data,se=ae?!!j.group:Ee("optgroup",R).length,ne=se&&te&&te.groupWheel!==!1,ie=se&&te&&ne&&te.clustered===!0,oe=se&&(!te||te.header!==!1&&!ie),re=R.val()||(J?[]:[""]),le=[];return e.setVal=function(t,a,s,n,o){if(K&&(null===t||void 0===t||J||(t=[t]),t&&r(t)&&(t=t.split(",")),e._tempSelected[H]=i(t),n||(e._selected[H]=i(t)),t=t?t[0]:null,ne)){var l=B[t],c=l&&l.group;e._tempSelected[P]=i([c]),n||(e._selected[P]=i([c]))}e._setVal(t,a,s,n,o)},e.getVal=function(t,a){var s;return K?(s=n(t?e._tempSelected[H]:e._selected[H]),s=J?s:s.length?s[0]:null):(s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null,s=s?s[H]:null),J?s:void 0!==s?se&&a?[B[s]?B[s].group:null,s]:s:null},e.refresh=function(e,t,a){a=a||s,e?(k=e,Y||(j.data=e)):Ee.isArray(j.data)&&(k=j.data),!e&&Y&&void 0===t?C(j.data.url,function(e){k=g(e),_(),a()},j.data.dataType):(_(t),a())},t.invalid||(j.invalid=le),ne?(P=0,H=1):(P=-1,H=0),K&&(J&&R.prop("multiple",!0),re&&r(re)&&(re=re.split(",")),e._selected[H]=i(re)),e._$input&&e._$input.remove(),R.next().is("input.mbsc-control")?w=R.next().removeAttr("tabindex"):j.input?w=Ee(j.input):(j.filter&&"inline"==j.display?e._$input=Ee('<div class="mbsc-sel-input-wrap"><input type="text" id="'+Z+'" class="mbsc-control '+j.inputClass+'" readonly /></div>'):(w=Ee('<input type="text" id="'+Z+'" class="mbsc-control '+j.inputClass+'" readonly />'),e._$input=w),j.showInput&&(e._$input.insertAfter(R),w||(w=e._$input.find("#"+Z)))),e.attachShow(w.attr("placeholder",j.placeholder||"")),w[0]!==N&&R.addClass("mbsc-sel-hdn").attr("tabindex",-1),!K||j.rows%2||(j.rows=j.rows-1),j.filter&&(T=j.filter.minLength||0),Y=j.data&&j.data.url,Y?e.refresh():(ae&&(k=j.data),a(),m(R.val())),{layout:U,headerText:!1,anchor:w,compClass:"mbsc-sc mbsc-sel"+(K?" mbsc-sel-multi":""),setOnTap:!ne||[!1,!0],formatValue:f,tapSelect:K,parseValue:function(e){return m(void 0===e?R.val():e),ne?[M,A]:[A]},validate:function(e){var t=e.index,a=[];return a[H]=j.invalid,ie&&!I&&void 0===t&&b(),I=!1,{disabled:a}},onRead:p,onFill:p,onMarkupReady:function(e,t){if(j.filter){var a,s,n,i=Ee(".mbsc-fr-w",e.target),o=Ee('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+j.filterClearIcon+'"></span>');"inline"==j.display?(a=w,w.parent().find(".mbsc-sel-filter-clear").remove()):(i.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),D=null,n=a[0],a.prop("readonly",!1).attr("placeholder",j.filterPlaceholderText).parent().append(o),i.find(".mbsc-fr-c").prepend(X),t._activeElm=n,t.tap(o,function(){D=null,n.value="",t.refresh(),o.removeClass("mbsc-sel-filter-show-clear"),y("")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(s),n.value.length?o.addClass("mbsc-sel-filter-show-clear"):o.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){D!==n.value&&y(n.value)!==!1&&(D=n.value,(D.length>=T||!D.length)&&(Y&&j.data.remoteFilter?C(j.data.url+encodeURIComponent(D),function(e){t.refresh(g(e))},j.data.dataType):t.refresh(void 0,D)))},500)})}},onBeforeShow:function(){J&&j.counter&&(j.headerText=function(){var t=0;return Ee.each(e._tempSelected[H],function(){t++}),(t>1?j.selectedPluralText||j.selectedText:j.selectedText).replace(/{count}/,t)}),m(R.val()),K&&ne&&(e._selected[P]=i([M])),j.filter&&a(void 0),e.settings.wheels=u(),I=!0},onWheelGestureStart:function(e){e.index==P&&(j.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==P?(j.readonly=z,K||x(a)):t.index==H&&a[H]!=A&&(A=a[H],ne&&B[A]&&B[A].group!=M&&(M=B[A].group,a[P]=M,e._tempSelected[P]=i([M]),e.setArrayVal(a,!1,!1,!0,W)))},onItemTap:function(t){var a;if(t.index==H&&(F[t.value]=B[t.value].text,K&&!J&&t.selected))return!1;if(t.index==P&&K){if(t.selected)return!1;a=e.getArrayVal(!0),a[P]=t.value,x(a)}},onClose:function(){Y&&j.data.remoteFilter&&D&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),R.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}},a("select",bt);var gt=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,_t=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,yt=/^\d{1,2}(\/\d{1,2})?$/,xt=/^w\d$/i,wt={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:Y,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};de.datetime={formatDate:A,parseDate:E};var Ct={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},kt=function(e){function t(e){var t,a,s,n,i=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.end&&!_t.test(a.start))for(s=new Date(N(a.start,U,X)),n=new Date(N(a.end,U,X));s<=n;)i.push(Y(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function a(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function s(e,t,a){return Math.floor((a-t)/e)*e+t}function n(e){return X.getYear(e)}function i(e){return X.getMonth(e)}function o(e){return X.getDay(e)}function r(e){var t=e.getHours();return t=ie&&t>=12?t-12:t,a(t,le,he,be)}function l(e){return a(e.getMinutes(),ce,fe,ve)}function d(e){return a(e.getSeconds(),de,pe,ge)}function u(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function h(e){return e.getFullYear()+"-"+c(e.getMonth()+1)+"-"+c(e.getDate())}function f(e){return a(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),$,0,86400)}function p(e,t,a,s){var n;return void 0===H[t]||(n=+e[H[t]],isNaN(n))?a?Ce[t](a):void 0!==I[t]?I[t]:Ce[t](s):n}function b(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==H.dd&&(t=e[H.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==H.tt&&(t=t||a,t=new Date(t.getTime()+e[H.tt]%86400*1e3));var s=p(e,"y",t,a),n=p(e,"m",t,a),i=Math.min(p(e,"d",t,a),X.getMaxDayOfMonth(s,n)),o=p(e,"h",t,a);return X.getDate(s,n,i,ie&&p(e,"a",t,a)?o+12:o,p(e,"i",t,a),p(e,"s",t,a),p(e,"u",t,a))}function v(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<n.length;a++)s=n[a],void 0!==H[s]&&(i[H[s]]=Ce[s](e)),t&&(I[s]=Ce[s](e));return i}function g(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function _(e){return{value:e,display:(/yy/i.test(K)?e:(e+"").substr(2,2))+(X.yearSuffix||"")}}function y(e){return e}function x(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:ae?g(h(ae),t):void 0,max:se?g(h(se),t):void 0,data:function(a){var s=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*a):new Date(1970,a,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!D(n,!0),value:h(n),display:s.getTime()==n.getTime()?X.todayText:A(e,n,X)}},getIndex:function(e){return g(e,t)}}}function w(e){var t,a,s,n=[];for(/s/i.test(e)?a=de:/i/i.test(e)?a=60*ce:/h/i.test(e)&&(a=3600*le),$=xe.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:A(e,s,X)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function C(){var e,t,a,s,n,i,o,r,l=0,d=[],u=[],m=[];if(/date/i.test(z)){for(e=G.split(/\|/.test(G)?"|":""),s=0;s<e.length;s++)if(a=e[s],i=0,a.length)if(/y/i.test(a)&&(L.y=1,i++),/m/i.test(a)&&(L.y=1,L.m=1,i++),/d/i.test(a)&&(L.y=1,L.m=1,L.d=1,i++),i>1&&void 0===H.dd)H.dd=l,l++,u.push(x(a)),m=u,P=!0;else if(/y/i.test(a)&&void 0===H.y)H.y=l,l++,u.push({cssClass:"mbsc-dt-whl-y",label:X.yearText,min:ae?X.getYear(ae):void 0,max:se?X.getYear(se):void 0,data:_,getIndex:y});else if(/m/i.test(a)&&void 0===H.m){for(H.m=l,o=[],l++,n=0;n<12;n++)r=K.replace(/[dy|]/gi,"").replace(/mm/,c(n+1)+(X.monthSuffix||"")).replace(/m/,n+1+(X.monthSuffix||"")),o.push({value:n,display:/MM/.test(r)?r.replace(/MM/,'<span class="mbsc-dt-month">'+X.monthNames[n]+"</span>"):r.replace(/M/,'<span class="mbsc-dt-month">'+X.monthNamesShort[n]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:X.monthText,data:o})}else if(/d/i.test(a)&&void 0===H.d){for(H.d=l,o=[],l++,n=1;n<32;n++)o.push({value:n,display:(/dd/i.test(K)?c(n):n)+(X.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:X.dayText,data:o})}d.push(u)}if(/time/i.test(z)){for(t=J.split(/\|/.test(J)?"|":""),s=0;s<t.length;s++)if(a=t[s],i=0,a.length&&(/h/i.test(a)&&(L.h=1,i++),/i/i.test(a)&&(L.i=1,i++),/s/i.test(a)&&(L.s=1,i++),/a/i.test(a)&&i++),i>1&&void 0===H.tt)H.tt=l,l++,m.push(w(a));else if(/h/i.test(a)&&void 0===H.h){for(o=[],H.h=l,L.h=1,l++,n=he;n<(ie?12:24);n+=le)o.push({value:n,display:ie&&0===n?12:/hh/i.test(Z)?c(n):n});m.push({cssClass:"mbsc-dt-whl-h",label:X.hourText,data:o})}else if(/i/i.test(a)&&void 0===H.i){for(o=[],H.i=l,L.i=1,l++,n=fe;n<60;n+=ce)o.push({value:n,display:/ii/i.test(Z)?c(n):n});m.push({cssClass:"mbsc-dt-whl-i",label:X.minuteText,data:o})}else if(/s/i.test(a)&&void 0===H.s){for(o=[],H.s=l,L.s=1,l++,n=pe;n<60;n+=de)o.push({value:n,display:/ss/i.test(Z)?c(n):n});m.push({cssClass:"mbsc-dt-whl-s",label:X.secText,data:o})}else/a/i.test(a)&&void 0===H.a&&(H.a=l,l++,m.push({cssClass:"mbsc-dt-whl-a",label:X.ampmText,data:/A/.test(a)?[{value:0,display:X.amText.toUpperCase()},{value:1,display:X.pmText.toUpperCase()}]:[{value:0,display:X.amText},{value:1,display:X.pmText}]}));m!=u&&d.push(m)}return d}function k(e){var t,a,s,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,a=e.attr("min"),s=e.attr("max"),a&&"undefined"!=a&&(n.min=E(t,a)),s&&"undefined"!=s&&(n.max=E(t,s))}return n}function T(e,t){var a,s,n=!1,i=!1,o=0,r=0,l=ae?b(v(ae)):-(1/0),c=se?b(v(se)):1/0;if(D(e))return e;if(e<l&&(e=l),e>c&&(e=c),a=e,s=e,2!==t)for(n=D(a,!0);!n&&a<c;)a=new Date(a.getTime()+864e5),n=D(a,!0),o++;if(1!==t)for(i=D(s,!0);!i&&s>l;)s=new Date(s.getTime()-864e5),i=D(s,!0),r++;return 1===t&&n?a:2===t&&i?s:r<=o&&i?s:a}function D(e,t){return!(!t&&e<ae)&&(!(!t&&e>se)&&(!!M(e,te)||!M(e,ee)))}function M(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(xt.test(n)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(yt.test(n)){if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0}else if(a=N(a,U,X),e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0;return!1}function S(e,t,a,s,n,i,o){var r,l,c,d;if(e)for(l=0;l<e.length;l++)if(r=e[l],d=r+"",!r.start)if(xt.test(d))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=o);else yt.test(d)?(d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=o):i[d[0]]=o):(r=N(r,U,X),X.getYear(r)==t&&X.getMonth(r)==a&&(i[X.getDay(r)]=o))}function V(e,t,s,n,i,o,r,l){var c,d,u,m,h,f,p,b,v,g,_,y,x,w,C,k,T,D,M,S,V={},P=X.getDate(n,i,o),Y=["a","h","i","s"];if(e){for(p=0;p<e.length;p++)_=e[p],_.start&&(_.apply=!1,u=_.d,T=u+"",D=T.split("/"),u&&(u.getTime&&n==X.getYear(u)&&i==X.getMonth(u)&&o==X.getDay(u)||!xt.test(T)&&(D[1]&&o==D[1]&&i==D[0]-1||!D[1]&&o==D[0])||xt.test(T)&&P.getDay()==+T.replace("w",""))&&(_.apply=!0,V[P]=!0));for(p=0;p<e.length;p++)if(_=e[p],c=0,k=0,b=_e[s],v=ye[s],w=!0,C=!0,d=!1,_.start&&(_.apply||!_.d&&!V[P])){for(y=_.start.split(":"),x=_.end.split(":"),g=0;g<3;g++)void 0===y[g]&&(y[g]=0),void 0===x[g]&&(x[g]=59),y[g]=+y[g],x[g]=+x[g];if("tt"==s)b=a(Math.round((new Date(P).setHours(y[0],y[1],y[2])-new Date(P).setHours(0,0,0,0))/1e3),$,0,86400),v=a(Math.round((new Date(P).setHours(x[0],x[1],x[2])-new Date(P).setHours(0,0,0,0))/1e3),$,0,86400);else{for(y.unshift(y[0]>11?1:0),x.unshift(x[0]>11?1:0),ie&&(y[1]>=12&&(y[1]=y[1]-12),x[1]>=12&&(x[1]=x[1]-12)),g=0;g<t;g++)void 0!==F[g]&&(M=a(y[g],xe[Y[g]],_e[Y[g]],ye[Y[g]]),S=a(x[g],xe[Y[g]],_e[Y[g]],ye[Y[g]]),m=0,h=0,f=0,ie&&1==g&&(m=y[0]?12:0,h=x[0]?12:0,f=F[0]?12:0),w||(M=0),C||(S=ye[Y[g]]),(w||C)&&M+m<F[g]+f&&F[g]+f<S+h&&(d=!0),F[g]!=M&&(w=!1),F[g]!=S&&(C=!1));if(!l)for(g=t+1;g<4;g++)y[g]>0&&(c=xe[s]),x[g]<ye[Y[g]]&&(k=xe[s]);d||(M=a(y[t],xe[s],_e[s],ye[s])+c,S=a(x[t],xe[s],_e[s],ye[s])-k,w&&(b=M),C&&(v=S))}if(w||C||d)for(g=b;g<=v;g+=xe[s])r[g]=!l}}}var $,P,O,H={},I={},L={},F=[],R=k(Ee(this)),q=Fe({},e.settings),j=ue[q.calendarSystem],X=Fe(e.settings,wt,j,Ct,R,q),z=X.preset,B="datetime"==z?X.dateFormat+X.separator+X.timeFormat:"time"==z?X.timeFormat:X.dateFormat,U=R.format||B,G=X.dateWheels||X.dateFormat,J=X.timeWheels||X.timeFormat,K=X.dateWheels||X.dateDisplay,Z=J,Q=X.baseTheme||X.theme,ee=t(X.invalid),te=t(X.valid),ae=N(X.min,U,X),se=N(X.max,U,X),ne=/time/i.test(z),ie=/h/.test(Z),oe=/D/.test(K),re=X.steps||{},le=re.hour||X.stepHour||1,ce=re.minute||X.stepMinute||1,de=re.second||X.stepSecond||1,me=re.zeroBased,he=me||!ae?0:ae.getHours()%le,fe=me||!ae?0:ae.getMinutes()%ce,pe=me||!ae?0:ae.getSeconds()%de,be=s(le,he,ie?11:23),ve=s(ce,fe,59),ge=s(ce,fe,59),_e={y:ae?ae.getFullYear():-(1/0),m:0,d:1,h:he,i:fe,s:pe,a:0,tt:0},ye={y:se?se.getFullYear():1/0,m:11,d:31,h:be,i:ve,s:ge,a:1,tt:86400},xe={y:1,m:1,d:1,h:le,i:ce,s:de,a:1,tt:1},we={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},Ce={y:n,m:i,d:o,h:r,i:l,s:d,u:u,a:m,dd:h,tt:f};return e.getVal=function(t){return e._hasValue||t?W(b(e.getArrayVal(t)),X,U):null},e.getDate=function(t){return e._hasValue||t?b(e.getArrayVal(t)):null},e.setDate=function(t,a,s,n,i){e.setArrayVal(v(t,!0),a,i,n,s)},O=C(),X.isoParts=L,e._format=B,e._order=H,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:X.nowText,icon:X.nowIcon,handler:"now"},{minWidth:P&&ne?we[Q]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:O,headerText:!!X.headerText&&function(){return A(B,b(e.getArrayVal(!0)),X)},formatValue:function(e){return A(U,b(e),X)},parseValue:function(e){return e||(I={}),v(N(e||X.defaultValue||new Date,U,X,L),!!e)},validate:function(t){var a,s,n,i,o=t.values,r=t.index,l=t.direction,c=X.wheels[0][H.d],d=T(b(o),l),u=v(d),m=[],h={},f=Ce.y(d),p=Ce.m(d),g=X.getMaxDayOfMonth(f,p),_=!0,y=!0;if(Ee.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){var a=_e[t],n=ye[t],i=Ce[t](d);if(m[H[t]]=[],_&&ae&&(a=Ce[t](ae)),y&&se&&(n=Ce[t](se)),i<a&&(i=a),i>n&&(i=n),_&&(_=i==a),y&&(y=i==n),void 0!==H[t]){if("y"!=t&&"dd"!=t)for(s=_e[t];s<=ye[t];s+=xe[t])(s<a||s>n)&&m[H[t]].push(s);if("d"==t){var o=X.getDate(f,p,1).getDay(),r={};S(ee,f,p,o,g,r,1),S(te,f,p,o,g,r,0),Ee.each(r,function(e,a){a&&m[H[t]].push(e)})}}}),ne&&Ee.each(["a","h","i","s","tt"],function(t,a){var s=Ce[a](d),n=Ce.d(d),i={};void 0!==H[a]&&(V(ee,t,a,f,p,n,i,0),V(te,t,a,f,p,n,i,1),Ee.each(i,function(e,t){
t&&m[H[a]].push(e)}),F[t]=e.getValidValue(H[a],s,l,i))}),c&&(c._length!==g||oe&&(void 0===r||r===H.y||r===H.m))){for(h[H.d]=c,c.data=[],a=1;a<=g;a++)i=X.getDate(f,p,a).getDay(),n=K.replace(/[my|]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(X.daySuffix||"")).replace(/d/,a+(X.daySuffix||"")),c.data.push({value:a,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+X.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+X.dayNamesShort[i]+"</span>")});e._tempWheelArray[H.d]=u[H.d],e.changeWheel(h)}return{disabled:m,valid:u}}}},Tt={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",fromText:"Start",toText:"End",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Dt=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function a(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function n(e){e.hasClass("mbsc-cal-h")?t(e):a(e)}function i(){var t,a,s;he={},fe=[],_e={},rt=e.trigger,Z=Ee(gt),s=Fe({},e.settings),it=Fe(e.settings,Tt,s),t=it.controls.join(","),Ce=it.firstDay,Ae=it.rtl,et=it.pageBuffer,dt=it.weekCounter,ce=it.weeks,Ye=6==ce,Oe="vertical"==it.calendarScroll,me="inline"==it.display?Z.is("div")?Z:Z.parent():e._$window,ut="full"==it.weekDays?"":"min"==it.weekDays?"Min":"Short",a=it.layout||("inline"==it.display||/top|bottom/.test(it.display)&&it.touchUi?"liquid":""),Pe="liquid"==a,ue=Pe?null:it.calendarWidth,nt=Ae&&!Oe?-1:1,pe="mbsc-disabled "+(it.disabledClass||""),ve="mbsc-selected "+(it.selectedTabClass||""),be="mbsc-selected "+(it.selectedClass||""),Re=Math.max(1,Math.floor(((it.calendarHeight||0)/ce-45)/18)),t.match(/calendar/)&&(he.calendar=1,ke=!0),t.match(/date/)&&!ke&&(he.date=1),t.match(/time/)&&(he.time=1),it.controls.forEach(function(e){he[e]&&fe.push(e)}),Se=it.quickNav&&ke&&Ye,ht=it.yearChange&&Ye,Pe&&ke&&"center"==it.display&&(e._isFullScreen=!0),it.layout=a,it.preset=(he.date||ke?"date":"")+(he.time?"time":"")}function o(){Je=ht?it.monthNamesShort:it.monthNames,bt=it.yearSuffix||"",Ge=(it.dateWheels||it.dateFormat).search(/m/i),ft=(it.dateWheels||it.dateFormat).search(/y/i),we=e._format,it.min&&(Xe=H(N(it.min,we,it)),Ue=it.getYear(Xe),Be=it.getMonth(Xe),ze=it.getDate(12*Math.floor(Ue/12),0,1)),it.max&&(We=H(N(it.max,we,it)),je=it.getYear(We),qe=it.getMonth(We),Ne=it.getDate(12*Math.floor(je/12),0,1))}function r(e,t,a){e[t]=e[t]||[],e[t].push(a)}function l(e,t,a){var s,n,i,o,l=it.getYear(t),c=it.getMonth(t),d={};return e&&Ee.each(e,function(e,u){if(s=u.d||u.start||u,n=s+"",u.start&&u.end)for(o=H(N(u.start,we,it)),i=H(N(u.end,we,it));o<=i;)r(d,o,u),o=it.getDate(it.getYear(o),it.getMonth(o),it.getDay(o)+1);else if(xt.test(n))for(o=W(t,!1,+n.replace("w",""));o<=a;)r(d,o,u),o=it.getDate(it.getYear(o),it.getMonth(o),it.getDay(o)+7);else if(yt.test(n))if(n=n.split("/"),n[1])for(o=it.getDate(l,n[0]-1,n[1]);o<=a;)r(d,o,u),o=it.getDate(it.getYear(o)+1,it.getMonth(o),n[1]);else for(o=it.getDate(l,c,n[0]);o<=a;)r(d,o,u),o=it.getDate(it.getYear(o),it.getMonth(o)+1,n[0]);else r(d,H(N(s,we,it)),u)}),d}function c(e){return!(e<Xe)&&(!(e>We)&&(void 0===Ve[e]||void 0!==lt[e]))}function d(t){var a,s,n,i,o=!!Ie[t]&&Ie[t],r=!!Le[t]&&Le[t],l=r&&r[0].background?r[0].background:o&&o[0].background,c="";if(o){for(n='<div class="mbsc-cal-marks">',a=0;a<o.length;a++)s=o[a],c+=(s.cssClass||"")+" ",n+='<div class="mbsc-cal-mark"'+(s.color?' style="background:'+s.color+';"':"")+"></div>";n+="</div>"}return i={marked:o,background:l,cssClass:c,markup:_e[t]?_e[t].join(""):De?n:""},Fe(i,e._getDayProps(t,i))}function u(e){return' style="'+(Oe?"transform: translateY("+100*e+"%)":"left:"+100*e*nt+"%")+'"'}function m(){tt="auto"==it.months?Math.max(1,Math.min(3,Math.floor((ue||q(me))/280))):+it.months,st=tt+2*et,at=0,Oe=Oe&&tt<2,ot=void 0===it.showOuterDays?tt<2&&!Oe:it.showOuterDays}function f(e){return j(e,tt-1)>We&&(e=j(We,1-tt)),e<Xe&&(e=Xe),e}function p(e,t,a){var s=e.color,n=e.text;return'<div data-id="'+e._id+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+Ee("<div>"+n+"</div>").text()+'"'+(s?' style="background:'+s+(a?";color:"+S(s):"")+';"':"")+">"+(a?n:"")+"</div>"}function b(t){var a=W(j(t,-at-et),!1),s=W(j(t,-at+tt+et-1),!1);s=it.getDate(it.getYear(s),it.getMonth(s),it.getDay(s)+7*ce),e._onGenMonth(a,s),Ve=l(it.invalid,a,s),lt=l(it.valid,a,s),Ie=l(it.labels||it.events||it.marked,a,s),Le=l(it.colors,a,s),He=e._labels||Ie||Le,Te=it.labels||e._labels,Te&&!function(){_e={};for(var e={},t=a,n=function(){t.getDay()==Ce&&(e={});for(var a=Re,s=He[t]||[],n=s.length,i=[],o=void 0,r=void 0,l=0,c=0,d=0,u=void 0;l<a;)if(o=null,s.forEach(function(t,a){e[l]==t&&(o=t,r=a)}),l==a-1&&(c<n-1||n&&d==n&&!o)){var m=n-c,h=(m>1?it.moreEventsPluralText||it.moreEventsText:it.moreEventsText).replace(/{count}/,m);m&&i.push('<div class="mbsc-cal-txt-more">'+h+"</div>"),o&&(e[l]=null,o._days.forEach(function(e){_e[e][l]='<div class="mbsc-cal-txt-more">'+it.moreEventsText.replace(/{count}/,1)+"</div>"})),c++,l++}else if(o)r==d&&d++,R(t,N(o.end))&&(e[l]=null),i.push(p(o,r)),l++,c++,o._days.push(t);else if(d<n){var f=s[d],b=f.start&&N(f.start),v=f.end&&N(f.end),g=t.getDay(),_=Ce-g>0?7:0,y=v&&!R(b,v);b&&!R(t,b)&&g!=Ce||(void 0===f._id&&(f._id=vt++),y&&(e[l]=f),f._days=[t],u=y?100*Math.min(O(t,H(v))+1,7+Ce-g-_):100,i.push(y?'<div class="mbsc-cal-txt-w" style="width:'+u+'%">'+p(f,d,!0)+"</div>"+p(f,d):p(f,d,!0)),l++,c++),d++}else i.push('<div class="mbsc-cal-txt-ph"></div>'),l++;_e[t]=i,t=it.getDate(it.getYear(t),it.getMonth(t),it.getDay(t)+1)};t<s;)n()}()}function v(e){var t=it.getYear(e),a=it.getMonth(e);ge=e,re=e,P(e),rt("onMonthChange",{year:t,month:a}),rt("onMonthLoading",{year:t,month:a}),rt("onPageChange",{firstDay:e}),rt("onPageLoading",{firstDay:e}),b(e)}function g(e){var t=it.getYear(e),a=it.getMonth(e);void 0!==Qe&&k(e,Qe,!0),void 0===Qe&&_(e,t,a),T(re,xe.focus),xe.focus=!1}function _(e,t,a){var s=xe.$scroller;Ee(".mbsc-cal-slide",s).removeClass("mbsc-cal-slide-a"),Ee(".mbsc-cal-slide",s).slice(et,et+tt).addClass("mbsc-cal-slide-a"),Te&&Ee(".mbsc-cal-slide-a .mbsc-cal-txt",s).on("mouseenter",function(){var e=Ee(this).attr("data-id");Ee('.mbsc-cal-txt[data-id="'+e+'"]',s).addClass("mbsc-hover")}).on("mouseleave",function(){Ee(".mbsc-cal-txt.mbsc-hover",s).removeClass("mbsc-hover")}),rt("onMonthLoaded",{year:t,month:a}),rt("onPageLoaded",{firstDay:e})}function y(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',fe.forEach(function(a,s){t=it[("calendar"==a?"date":a)+"Text"],e+='<div role="tab" aria-controls="'+(gt.id+"-mbsc-pnl-"+s)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(s?"":ve)+'" data-control="'+a+'"'+(it.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function x(){var e,t,a,s,n,i="",o=Ae?it.btnCalNextClass:it.btnCalPrevClass,r=Ae?it.btnCalPrevClass:it.btnCalNextClass;for(s='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+it.prevMonthText+'" class="'+o+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(ce?tt:1);t++)s+='<div role="button" class="mbsc-cal-month"></div>';if(s+='<div data-step="1" role="button" tabindex="0" aria-label="'+it.nextMonthText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',ht&&(i='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+it.prevYearText+'" class="'+o+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+it.nextYearText+'" class="'+r+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),ce&&(n=k(ge)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(Ye?"":" mbsc-cal-week-view")+(tt>1?" mbsc-cal-multi ":"")+(dt?" mbsc-cal-weeks ":"")+(Oe?" mbsc-cal-vertical":"")+(De?" mbsc-cal-has-marks":"")+(Te?" mbsc-cal-has-labels":"")+(ot?"":" mbsc-cal-hide-diff ")+(it.calendarClass||"")+'"'+(Pe?"":' style="width:'+(ue||280*tt)+'px;"')+'><div class="mbsc-cal-hdr">'+(ft<Ge||tt>1?i+s:s+i)+"</div>",ce){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',a=0;a<tt;a++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div aria-label="'+it.dayNames[(t+Ce)%7]+'">'+it["dayNames"+ut][(t+Ce)%7]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(it.calendarClass||"")+'"'+(it.calendarHeight?' style="height:'+it.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/tt+'%">'+n+"</div></div>"}if(e+="</div>",Se){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(it.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+u(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',a=0;a<12;a++)a&&a%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+it.monthNames[a]+'" data-val="'+a+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?it.monthNamesShort[a]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(it.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=w(X(ge,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function w(e,t){var a,s=it.getYear(e),n='<div class="mbsc-cal-slide"'+u(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(a=0;a<12;a++)a&&a%3===0&&(n+='</div><div class="mbsc-cal-row">'),n+='<div role="gridcell" tabindex="-1" aria-label="'+s+'" data-val="'+s+'" class="mbsc-cal-cell mbsc-btn-e '+(s<Ue||s>je?" mbsc-disabled ":"")+(s==it.getYear(ge)?be:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+s+bt+"</div></div>",s++;return n+="</div></div></div>"}function C(t,a){var s,n,i,o,r,l,m,h,f,p,b,v,g,_,y,x,w=1,C=it.getYear(t),k=it.getMonth(t),T=it.getDay(t),D=null!==it.defaultValue||e._hasValue?e.getDate(!0):null,M=it.getDate(C,k,T).getDay(),V=Ce-M>0?7:0,$='<div class="mbsc-cal-slide"'+u(a)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(x=0;x<7*ce;x++)y=x+Ce-V,s=it.getDate(C,k,y-M+T),i=s.getFullYear(),o=s.getMonth(),r=s.getDate(),l=it.getMonth(s),m=it.getDay(s),_=it.getMaxDayOfMonth(i,o),h=i+"-"+(o+1)+"-"+r,f=Fe({valid:c(s),selected:D&&R(D,s)},d(s)),p=f.valid,b=f.selected,n=f.cssClass,v=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=l!==k,ye[h]=f,x&&x%7===0&&($+='</div><div class="mbsc-cal-row">'),dt&&x%7===0&&("month"==dt&&g&&w>1?w=1==r?1:2:"year"==dt&&(w=it.getWeekNumber(it.getDate(i,o,r+(7-Ce+1)%7))),$+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+w+"</div>",w++),$+='<div role="gridcell" aria-label="'+(v?it.todayText+", ":"")+it.dayNames[s.getDay()]+", "+it.monthNames[l]+" "+m+" "+(f.ariaLabel?", "+f.ariaLabel:"")+'"'+(g&&!ot?' aria-hidden="true"':' data-full="'+h+'"')+(b?' aria-selected="true"':"")+(p?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+y%7+" "+(it.dayClass||"")+" "+(b?be:"")+(v?" "+it.todayClass:"")+(n?" "+n:"")+(1==m?" mbsc-cal-day-first":"")+(m==_?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(p?" mbsc-btn-e":" mbsc-disabled")+(f.marked?" mbsc-cal-day-marked":"")+(f.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(f.background?' style="background:'+f.background+";color:"+S(f.background)+'"':"")+">"+m+"</div>"+(f.markup||"")+"</div></div>";return $+="</div></div></div>"}function k(e,t,a){var s,n=it.getYear(e),i=it.getMonth(e),o=xe?xe.pos:0,r="";if(ye={},ce)for(t||(rt("onMonthLoading",{year:n,month:i}),rt("onPageLoading",{firstDay:e})),b(e),s=0;s<st;s++)r+=C(j(e,s-at-et),o*nt+s-et);return Qe=void 0,a&&xe&&(xe.$scroller.html(r),_(e,n,i)),r}function T(e,t){var a=xe.$active;a&&a.length&&(a[0].blur(),a.hasClass("mbsc-disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1")),xe.$active=Ee('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+I(e)+'"]',xe.$scroller).attr("tabindex","0"),t&&xe.$active.length&&xe.$active[0].focus()}function D(t){var a=xe&&xe.$scroller;it.highlight&&xe&&(Ee(".mbsc-selected",a).removeClass(be).removeAttr("aria-selected"),(null!==it.defaultValue||e._hasValue)&&Ee('.mbsc-cal-day[data-full="'+I(t)+'"]',a).addClass(be).attr("aria-selected","true"))}function M(e,t){Ee(".mbsc-selected",t).removeClass(be).removeAttr("aria-selected"),Ee('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(be).attr("aria-selected","true")}function $(t,a,s,n){var i,o;ct&&(t<Xe&&(t=Xe),t>We&&(t=We),"calendar"!==ct&&Me&&!a||(e._isSetDate=!0,ke&&ce&&(o=W(f(t),Ye),Ze&&(t<j(ge,-at)||t>=j(ge,tt-at))&&(i=Ye?it.getMonth(o)-it.getMonth(ge)+12*(it.getYear(o)-it.getYear(ge)):Math.floor(O(ge,o)/(7*ce)),i&&(xe.queue=[],xe.focus=n&&s,z(xe,i,s))),i&&s||T(t,n),a||D(t),Ye||P(t,!0),re=t,Ze=!0),e._onSetDate(t,i),e._isSetDate=!1))}function P(e,t){var a,s,n,i=it.getYear(e),o=it.getMonth(e),r=i+bt;if(Se){if(M(o,Ke.$scroller),M(i,pt.$scroller),z(pt,Math.floor(i/12)-Math.floor(it.getYear(pt.first)/12),!0),Ee(".mbsc-cal-cell",Ke.$scroller).removeClass("mbsc-disabled"),i===Ue)for(a=0;a<Be;a++)Ee('.mbsc-cal-cell[data-val="'+a+'"]',Ke.$scroller).addClass("mbsc-disabled");if(i===je)for(a=qe+1;a<=12;a++)Ee('.mbsc-cal-cell[data-val="'+a+'"]',Ke.$scroller).addClass("mbsc-disabled")}for(t||(A(Ee(".mbsc-cal-prev-m",ee),j(e,-at)<=Xe),A(Ee(".mbsc-cal-next-m",ee),j(e,tt-at)>We),A(Ee(".mbsc-cal-prev-y",ee),it.getDate(i-1,o+1,1)<=Xe),A(Ee(".mbsc-cal-next-y",ee),it.getDate(i+1,o,1)>We)),ie.attr("aria-label",i).html(r),a=0;a<tt;a++)e=it.getDate(i,o-at+a,1),s=it.getYear(e),n=it.getMonth(e),r=s+bt,te.eq(a).attr("aria-label",it.monthNames[n]+(ht?"":" "+i)).html((!ht&&ft<Ge?r+" ":"")+Je[n]+(!ht&&ft>Ge?" "+r:""))}function A(e,t){t?e.addClass(pe).attr("aria-disabled","true"):e.removeClass(pe).removeAttr("aria-disabled")}function E(t,a){var s=e.getDate(!0),n=t[0],i=t.attr("data-full"),o=i?i.split("-"):[],r=Y(o[0],o[1]-1,o[2]),l=Y(r.getFullYear(),r.getMonth(),r.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),c=t.hasClass("mbsc-selected"),d=Ee(a.target),u=d[0];if(ot||!t.hasClass("mbsc-cal-day-diff")){if(Te&&n.contains(u))for(;u!=n;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),h=He[r];if(rt("onLabelTap",{date:l,domEvent:a,target:d[0],labels:h,label:h[m]})===!1)return;break}d=d.parent(),u=d[0]}rt("onDayChange",Fe(ye[i],{date:l,target:n,selected:c}))===!1||it.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,r,l,c)}}function L(e){a(ae),$(it.getDate(it.getYear(xe.first),e.attr("data-val"),1),!0,!0)}function F(e){a(oe),$(it.getDate(e.attr("data-val"),it.getMonth(xe.first),1),!0,!0)}function W(e,t,a){var s=it.getYear(e),n=it.getMonth(e),i=e.getDay(),o=Ce-i>0?7:0;return t?it.getDate(s,n,1):it.getDate(s,n,(a||Ce)-o-i+it.getDay(e))}function j(e,t){var a=it.getYear(e),s=it.getMonth(e),n=it.getDay(e);return Ye?it.getDate(a,s+t,1):it.getDate(a,s,n+t*ce*7)}function X(e,t){var a=12*Math.floor(it.getYear(e)/12);return it.getDate(a+12*t,0,1)}function z(t,a,s,n){a&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&B(t,a,s,n))}function B(e,t,a,s){var n,i,o="",r=e.$scroller,l=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,h=e.genPage,f=e.getFirst,p=t>0?Math.min(t,l):Math.max(t,-l),b=e.pos*nt+p-t+c,v=Math.abs(t)>l;e.callback&&(e.load(),e.callback()),e.first=f(m,t),e.pos+=p*nt,e.changing=!0,e.load=function(){if(v){for(n=0;n<d;n++)i=t+n-c,o+=h(f(m,i),b+i);t>0?(Ee(".mbsc-cal-slide",r).slice(-d).remove(),r.append(o)):t<0&&(Ee(".mbsc-cal-slide",r).slice(0,d).remove(),r.prepend(o))}},e.callback=function(){var a=Math.abs(p),o="";for(n=0;n<a;n++)i=t+n-c-l+(t>0?u-a:0),o+=h(f(m,i),b+i);if(t>0?(r.append(o),Ee(".mbsc-cal-slide",r).slice(0,p).remove()):t<0&&(r.prepend(o),Ee(".mbsc-cal-slide",r).slice(p).remove()),v){for(o="",n=0;n<a;n++)i=t+n-c-l+(t>0?0:u-a),o+=h(f(m,i),b+i);t>0?(Ee(".mbsc-cal-slide",r).slice(0,p).remove(),r.prepend(o)):t<0&&(Ee(".mbsc-cal-slide",r).slice(p).remove(),r.append(o))}G(e),s&&s(),e.callback=null,e.load=null,e.queue.shift(),v=!1,e.queue.length?B.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load(),e.scroller.scroll(-e.pos*e.size,a?200:0,!1,e.callback)}function U(t,a,s,n,i,o,r,l,c,d,u,m,f){var p=Oe?"Y":"X",b={$scroller:Ee(".mbsc-cal-scroll",t),queue:[],buffer:n,offset:i,pages:o,first:l,total:r,pos:0,min:a,max:s,genPage:m,getFirst:f,onBeforeChange:d,onAfterChange:u};return b.scroller=new mt(t,{axis:p,easing:"",contSize:0,maxSnapScroll:n,mousewheel:it.mousewheel,time:200,lock:!0,rtl:Ae,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&h(),c(Ee(e.target),e.domEvent)},onAnimationStart:function(){b.changing=!0},onAnimationEnd:function(e){m&&z(b,Math.round((-b.pos*b.size-e["pos"+p])/b.size)*nt)}}),e._scrollers.push(b.scroller),b}function G(e,t){var a,s=0,n=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(s=e.buffer,n=e.buffer;n&&e.getFirst(i,n+e.pages-e.offset-1)>e.max;)n--;for(;s&&e.getFirst(i,1-s-e.offset)<=e.min;)s--}a=Math.round(de/e.pages),Pe&&a&&e.size!=a&&e.$scroller[Oe?"height":"width"](a),Fe(e.scroller.settings,{snap:a,minScroll:(-e.pos*nt-n)*a,maxScroll:(-e.pos*nt+s)*a}),e.size=a,e.scroller.refresh()}}function J(t){e._onRefresh(t),e._isVisible&&ke&&ce&&(xe&&xe.changing?Qe=t:k(ge,t,!0))}function K(){if(ke&&ce){var t=Ee(".mbsc-cal-scroll-c",ee);xe=U(t[0],Xe,We,et,at,tt,st,ge,E,v,g,C,j),Se&&(Ke=U(t[1],null,null,1,0,1,3,ge,L),pt=U(t[2],ze,Ne,1,0,1,3,ge,F,s,s,w,X),e.tap(te,function(){n(ae),a(oe)}),e.tap(ie,function(){n(oe),a(ae)})),V(Ee(".mbsc-cal-btn",ee),function(e,t,a,s){z(xe,t,!0,s)}),g(ge),null===it.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=xe.$active[0]),Q.on("keydown",function(e){var t,a=it.getYear(re),s=it.getMonth(re),n=it.getDay(re);switch(e.keyCode){case 32:E(xe.$active,e);break;case 37:t=it.getDate(a,s,n-1);break;case 39:t=it.getDate(a,s,n+1);break;case 38:t=it.getDate(a,s,n-7);break;case 40:t=it.getDate(a,s,n+7);break;case 36:t=it.getDate(a,s,1);break;case 35:t=it.getDate(a,s+1,0);break;case 33:t=e.altKey?it.getDate(a-1,s,n):Ye?it.getDate(a,s-1,n):it.getDate(a,s,n-7*ce);break;case 34:t=e.altKey?it.getDate(a+1,s,n):Ye?it.getDate(a,s+1,n):it.getDate(a,s,n+7*ce)}t&&(e.preventDefault(),$(t,!0,!1,!0))})}e.tap(Ee(".mbsc-cal-tab",ee),function(){e.changeTab(Ee(this).attr("data-control"))})}var Z,Q,ee,te,ae,se,ne,ie,oe,re,le,ce,de,ue,me,he,fe,pe,be,ve,ge,_e,ye,xe,we,Ce,ke,Te,De,Me,Se,Ve,$e,Pe,Ye,Ae,Oe,He,Ie,Le,We,Ne,Re,qe,je,Xe,ze,Be,Ue,Ge,Je,Ke,Ze,Qe,et,tt,at,st,nt,it,ot,rt,lt,ct,dt,ut,ht,ft,pt,bt,vt=1,gt=this;return i(),le=kt.call(this,e),o(),e.refresh=function(){J(!1)},e.redraw=function(){J(!0)},e.navigate=function(e,t){$(N(e,we,it),!0,t)},e.changeTab=function(t){e._isVisible&&he[t]&&ct!=t&&(ct=t,Ee(".mbsc-cal-tab",ee).removeClass(ve).removeAttr("aria-selected"),Ee('.mbsc-cal-tab[data-control="'+t+'"]',ee).addClass(ve).attr("aria-selected","true"),Me&&(ne.addClass("mbsc-cal-h"),he[ct].removeClass("mbsc-cal-h")),"calendar"==ct&&$(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:ct}))},e._onGenMonth=s,e._onSelectShow=s,e._onSetDate=s,e._onRefresh=s,e._getDayProps=s,e._prepareObj=l,e._showDayPicker=function(){Se&&(a(oe,!0),a(ae,!0))},e._selectDay=e.__selectDay=function(t,a,s){var n=e.live;Ze=it.outerMonthChange,$e=!0,e.setDate(s,n,1e3,!n,!0),n&&rt("onSet",{valueText:e._value})},Fe(le,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var a=0;ee=Ee(t.target),se=Ee(".mbsc-fr-c",ee),re=e.getDate(!0),de=0,ke&&(De=!(!it.marked&&!it.data||it.labels||it.multiLabel||it.showEventCount),Ze=!0,ct="calendar",m(),ge=W(f(re),Ye),se.append(x()),te=Ee(".mbsc-cal-month",ee),ie=Ee(".mbsc-cal-year",ee),Q=Ee(".mbsc-cal-day-scroll-c",ee)),Se&&(oe=Ee(".mbsc-cal-year-picker",ee),ae=Ee(".mbsc-cal-month-picker",ee)),ne=Ee(".mbsc-w-p",ee),fe.length>1&&se.before(y()),["date","time","calendar"].forEach(function(e){he[e]?(he[e]=ne.eq(a),a++):"date"==e&&!he.date&&ke&&(ne.eq(a).remove(),a++)}),fe.forEach(function(e){se.append(he[e])}),!ke&&he.date&&he.date.css("position","relative"),e._scrollers=[],K()},onShow:function(){ke&&ce&&P(Ye?ge:re)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),ye=null,xe=null,Ke=null,pt=null,ct=null},onValidated:function(t){var a,s,n=t.index,i=e._order;s=e.getDate(!0),$e?a="calendar":void 0!==n&&(a=i.dd==n||i.d==n||i.m==n||i.y==n?"date":"time"),rt("onSetDate",{date:s,control:a}),"time"!==a&&$(s,!1,!!t.time,$e&&!e._multiple),$e=!1},onPosition:function(t){var a,s,n,i,o,r,l,c=t.oldHeight,d=t.windowHeight;if(Me=(t.hasTabs||it.tabs===!0||it.tabs!==!1&&Pe)&&fe.length>1,Pe&&(t.windowWidth>=it.breakPointMd?Ee(t.target).addClass("mbsc-fr-md"):Ee(t.target).removeClass("mbsc-fr-md")),Me?(ee.addClass("mbsc-cal-tabbed"),ct=Ee(".mbsc-cal-tab.mbsc-selected",ee).attr("data-control"),ne.addClass("mbsc-cal-h"),he[ct].removeClass("mbsc-cal-h")):(ee.removeClass("mbsc-cal-tabbed"),ne.removeClass("mbsc-cal-h")),e._isFullScreen&&(Q.height(""),o=t.popup.offsetHeight,l=d-o+Q[0].offsetHeight,d>=o&&Q.height(l)),Te&&ce&&d!=c){var u=l||Q[0].offsetHeight,m=Ee(".mbsc-cal-txt-ph")[0],h=m.offsetTop,f=m.offsetHeight,p=Math.max(1,Math.floor((u/ce-h)/(f+2)));Re!=p&&(Re=p,e.redraw())}if(ke&&ce){if(r=Pe||Oe||Me?Q[0][Oe?"offsetHeight":"offsetWidth"]:ue||280*tt,i=r!=de,de=r,Pe&&i&&ht)for(Je=it.maxMonthWidth>te[0].offsetWidth?it.monthNamesShort:it.monthNames,s=it.getYear(ge),n=it.getMonth(ge),a=0;a<tt;a++)te.eq(a).text(Je[it.getMonth(it.getDate(s,n-at+a,1))]);i&&G(xe,!0)}Se&&i&&(G(Ke,!0),G(pt,!0))}})},Mt={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0};ht.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t,a){var s=e._order,n=new Date(t);return void 0===s.h&&n.setHours(a?23:0),void 0===s.i&&n.setMinutes(a?59:0),void 0===s.s&&n.setSeconds(a?59:0),n.setMilliseconds(a?999:0),n}function s(t){e._startDate=V=w,e._endDate=$=k,H.startInput&&(Ee(H.startInput).val(e.startVal),t&&Ee(H.startInput).trigger("change")),H.endInput&&(Ee(H.endInput).val(e.endVal),t&&Ee(H.endInput).trigger("change"))}function n(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function i(e){v?(k-w>H.maxRange-1&&(e?w=new Date(Math.max(y,k-H.maxRange+1)):k=new Date(Math.min(_,+w+H.maxRange-1))),k-w<H.minRange-1&&(e?w=new Date(Math.max(y,k-H.minRange+1)):k=new Date(Math.min(_,+w+H.minRange-1)))):(Math.ceil((k-w)/F)>q&&(e?w=a(Math.max(y,n(k,1-q)),!1):k=a(Math.min(_,n(w,q-1)),!0)),Math.ceil((k-w)/F)<R&&(e?w=a(Math.max(y,n(k,1-R)),!1):k=a(Math.min(_,n(w,R-1)),!0)))}function o(e,t){var a=!0;return e&&w&&k&&(i(P),i(!P)),w&&k||(a=!1),t&&d(),a}function r(){return w&&k?Math.max(1,Math.round((new Date(k).setHours(0,0,0,0)-new Date(w).setHours(0,0,0,0))/864e5)+1):0}function l(e){e.addClass(X).attr("aria-checked","true")}function c(){S&&f&&(Ee(".mbsc-range-btn",f).removeClass(X).removeAttr("aria-checked"),l(Ee(".mbsc-range-btn",f).eq(P)))}function d(){var t,a,s,n,i,o=0,r=L||!P?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",l=L||P?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(e.startVal=w?A(b,w,H):"",e.endVal=k?A(b,k,H):"",f&&(Ee(".mbsc-range-btn-v-start",f).html(e.startVal||"&nbsp;"),Ee(".mbsc-range-btn-v-end",f).html(e.endVal||"&nbsp;"),t=w?new Date(w):null,s=k?new Date(k):null,!t&&s&&(t=new Date(s)),!s&&t&&(s=new Date(t)),i=P?s:t,Ee(".mbsc-cal-day-picker .mbsc-cal-day-hl",f).removeClass(z),Ee(".mbsc-cal-day-picker .mbsc-selected",f).removeClass("mbsc-cal-sel-start mbsc-cal-sel-end "+X).removeAttr("aria-selected"),t&&s))for(a=t.setHours(0,0,0,0),n=s.setHours(0,0,0,0);s>=t&&o<126;)Ee('.mbsc-cal-day[data-full="'+i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+'"]',f).addClass(X+" "+(i.getTime()===a?r:"")+(i.getTime()===n?l:"")).attr("aria-selected","true"),i.setDate(i.getDate()+(P?-1:1)),i.setHours(0,0,0,0),o++}function u(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}function m(){w&&(g=!0,e.setDate(w,!1,0,!0),w=e.getDate(!0)),k&&(g=!0,e.setDate(k,!1,0,!0),k=e.getDate(!0))}var h,f,p,b,v,g,_,y,x,w,C,k,T,M,S,V=e._startDate,$=e._endDate,P=0,Y=new Date,O=Fe({},e.settings),H=Fe(e.settings,Mt,O),I=H.anchor,L=H.rangeTap,F=864e5,R=Math.max(1,Math.ceil(H.minRange/F)),q=Math.max(1,Math.ceil(H.maxRange/F)),j="mbsc-disabled "+(H.disabledClass||""),X="mbsc-selected "+(H.selectedClass||""),z="mbsc-cal-day-hl",B=null===H.defaultValue?[]:H.defaultValue||[new Date(Y.setHours(0,0,0,0)),new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()+6,23,59,59,999)];return L&&(H.tabs=!0),h=Dt.call(this,e),b=e._format,v=/time/i.test(H.controls.join(",")),M="time"===H.controls.join(""),S=H.showSelector,_=H.max?a(N(H.max,b,H),!0):1/0,y=H.min?a(N(H.min,b,H),!1):-(1/0),B[0]=N(B[0],b,H,H.isoParts),B[1]=N(B[1],b,H,H.isoParts),H.startInput&&e.attachShow(Ee(H.startInput),function(){P=0,H.anchor=I||Ee(H.startInput)}),H.endInput&&e.attachShow(Ee(H.endInput),function(){P=1,H.anchor=I||Ee(H.endInput)}),e._getDayProps=function(e,t){var a=w?new Date(w.getFullYear(),w.getMonth(),w.getDate()):null,s=k?new Date(k.getFullYear(),k.getMonth(),k.getDate()):null;return{selected:a&&s&&e>=a&&e<=k,cssClass:t.cssClass+" "+((L||!P)&&a&&a.getTime()===e.getTime()||(L||P)&&s&&s.getTime()===e.getTime()?z:"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setVal=function(t,a,s,n,i){var o=t||[],r=t;w=N(o[0],b,H,H.isoParts),k=N(o[1],b,H,H.isoParts),m(),e.startVal=w?A(b,w,H):"",e.endVal=k?A(b,k,H):"",r=h.parseValue(P?k:w,e),n||(e._startDate=V=w,e._endDate=$=k),x=!0,e._setVal(r,a,s,n,i)},e.getVal=function(t){return t?[W(w,H,b),W(k,H,b)]:e._hasValue?[W(V,H,b),W($,H,b)]:null},e.setActiveDate=function(t){var a;P="start"==t?0:1,a="start"==t?w:k,e.isVisible()&&(c(),L||(Ee(".mbsc-cal-table .mbsc-cal-day-hl",f).removeClass(z),a&&Ee('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+'"]',f).addClass(z)),a&&(g=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,Fe({},h,{highlight:!1,outerMonthChange:!1,formatValue:function(){return e.startVal+(H.endInput?"":e.endVal?" - "+e.endVal:"")},parseValue:function(t){var a=t?t.split(" - "):[],s=H.startInput?Ee(H.startInput).val():a[0],n=H.endInput?Ee(H.endInput).val():a[1];return H.defaultValue=B[1],$=n?E(b,n,H):B[1],H.defaultValue=B[0],V=s?E(b,s,H):B[2],H.defaultValue=B[P],e.startVal=V?A(b,V,H):"",e.endVal=$?A(b,$,H):"",e._startDate=V,e._endDate=$,h.parseValue(P?$:V,e)},onFill:function(e){s(e.change)},onBeforeClose:function(t){if("set"===t.button&&!o(!0,!0))return e.setActiveDate(P?"start":"end"),!1},onHide:function(){h.onHide.call(e),P=0,f=null,H.anchor=I},onClear:function(){L&&(P=0)},onBeforeShow:function(){w=V||B[0],k=$||B[1],C=u(w,0),T=u(k,1),H.counter&&(H.headerText=function(){var e=r();return(e>1?H.selectedPluralText||H.selectedText:H.selectedText).replace(/{count}/,e)}),x=!0},onMarkupReady:function(t){var a;m(),(P&&k||!P&&w)&&(g=!0,e.setDate(P?k:w,!1,0,!0)),d(),h.onMarkupReady.call(this,t),f=Ee(t.target),f.addClass("mbsc-range"),S&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" data-select="start" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+H.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(e.startVal||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" data-select="end" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+H.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(e.endVal||"&nbsp;")+"</div></div></div></div>",H.headerText?Ee(".mbsc-fr-hdr",f).after(a):Ee(".mbsc-fr-w",f).prepend(a),c()),Ee(".mbsc-range-btn",f).on("touchstart click",function(t){D(t,this)&&(e._showDayPicker(),e.setActiveDate(Ee(this).attr("data-select")))})},onDayChange:function(e){e.active=P?"end":"start",p=!0},onSetDate:function(s){var n;g||(n=a(s.date,P),x&&!p||(L&&p&&(1==P&&n<w&&(P=0),P?n.setHours(T.h,T.i,T.s,999):n.setHours(C.h,C.i,C.s,0)),P?(k=new Date(n),T=u(k)):(w=new Date(n),C=u(w)),M&&H.autoCorrect&&(t(w,n),t(k,n)),L&&p&&!P&&(k=null))),M&&!H.autoCorrect&&k<w&&(k=new Date(k.setDate(k.getDate()+1))),e._isValid=o(x||p||H.autoCorrect,!g),s.active=P?"end":"start",!g&&L&&(p&&(P=P?0:1),c()),e.isVisible()&&(e._isValid?Ee(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(j):Ee(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(j)),p=!1,x=!1,g=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(P?k:w,!1,1e3,!0),o(!0,!0)}})},a("range",bt);var St="mbsc-input-wrap",Vt=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup","mouseleave"],$t={tap:Xe},Pt=void 0,Yt=function(){function e(t,a){var s=this;he(this,e);var n=Fe({},$t,ce.settings,a),i=Ee(t),o=i.parent(),r=o.hasClass("mbsc-input-wrap")?o.parent():o,l=i.next().hasClass("mbsc-fr")?i.next():null,c=b(i),d=U(i,"data-input-style",n.inputStyle),u=U(i,"data-label-style",n.labelStyle);l&&l.insertAfter(r),z(r,c,d,u,t),i.addClass("mbsc-control"),Vt.forEach(function(e){t.addEventListener(e,s)}),this.settings=n,this._type=c,this._elm=t,this._$elm=i,this._$parent=r,this._$frame=l,this._ripple=B(n.theme),this._isFloating="floating"==u||r.hasClass("mbsc-label-floating"),t.mbscInst=this}return fe(e,[{key:"destroy",value:function(){var e=this;this._$elm.removeClass("mbsc-control"),Vt.forEach(function(t){e._elm.removeEventListener(t,e)}),delete this._elm.mbscInst}},{key:"option",value:function(e){Fe(this.settings,e),this._ripple=B(this.settings.theme)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchstart":case"mousedown":this._onStart(e);break;case"touchmove":case"mousemove":this._onMove(e);break;case"touchend":case"touchcancel":case"mouseup":case"mouseleave":this._onEnd(e)}}},{key:"_addRipple",value:function(e){this._ripple&&this._$rippleElm&&this._ripple.addRipple(this._$rippleElm,e)}},{key:"_removeRipple",value:function(){this._ripple&&this._$rippleElm&&this._ripple.removeRipple()}},{key:"_onStart",value:function(e){var t=this._elm;D(e,t)&&(this._startX=p(e,"X"),this._startY=p(e,"Y"),Pt&&Pt.removeClass("mbsc-active"),t.disabled||(this._isActive=!0,Pt=this._$elm,Pt.addClass("mbsc-active"),this._addRipple(e)))}},{key:"_onMove",value:function(e){(this._isActive&&Math.abs(p(e,"X")-this._startX)>9||Math.abs(p(e,"Y")-this._startY)>9)&&(this._$elm.removeClass("mbsc-active"),this._removeRipple(),this._isActive=!1)}},{key:"_onEnd",value:function(e){var t=this,a=this._elm,s=this._type;this._isActive&&this.settings.tap&&"touchend"==e.type&&!a.readOnly&&v(a,s,e),this._isActive&&setTimeout(function(){t._$elm.removeClass("mbsc-active"),t._removeRipple()},100),this._isActive=!1,Pt=null}}]),e}(),At=["focus","change","blur","animationstart"],Et=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return X(s,s._$parent,s._$elm),s._$parent.addClass("mbsc-input"),s.checkLabel=s.checkLabel.bind(s),At.forEach(function(e){s._$elm.on(e,s.checkLabel)}),s}return be(t,e),fe(t,[{key:"checkLabel",value:function(e){this._isFloating&&(this._elm.value||e&&("focus"==e.type||"animationstart"==e.type&&this._$elm.is("*:-webkit-autofill"))?this._$parent.addClass("mbsc-label-floating-active"):this._$parent.removeClass("mbsc-label-floating-active"))}},{key:"refresh",
value:function(){this.checkLabel()}},{key:"destroy",value:function(){var e=this;pe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-input-ic").remove(),this._$parent.find(".mbsc-input-fill").remove(),At.forEach(function(t){e._$elm.off(t,e.checkLabel)})}}]),t}(Yt),Ot=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=s._$elm,i=n.attr("data-icon");return n.addClass("mbsc-btn").find(".mbsc-btn-ic").remove(),i&&(n.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+i+'"></span>'),""===n.text()&&n.addClass("mbsc-btn-icon-only")),s._$rippleElm=n,s}return be(t,e),t}(Yt),Ht=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s._$parent.prepend(s._$elm).addClass("mbsc-checkbox mbsc-control-w").find(".mbsc-checkbox-box").remove(),s._$elm.after('<span class="mbsc-checkbox-box"></span>'),s}return be(t,e),t}(Yt),It=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s._$parent.addClass("mbsc-radio mbsc-control-w").find(".mbsc-radio-box").remove(),s._$elm.after('<span class="mbsc-radio-box"><span></span></span>'),s}return be(t,e),t}(Yt),Lt=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=s._$elm,i=s._$parent,o=i.find("input.mbsc-control"),r=o.length?o:Ee('<input tabindex="-1" class="mbsc-control" readonly>');return s._$input=r,s._setText=s._setText.bind(s),i.addClass("mbsc-select"+(s._$frame?" mbsc-select-inline":"")),n.after(r),r.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>'),n.hasClass("mbsc-comp")||(n.on("change",s._setText),s._setText()),s}return be(t,e),fe(t,[{key:"destroy",value:function(){pe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._$parent.find(".mbsc-select-ic").remove(),this._$elm.off("change",this._setText)}},{key:"_setText",value:function(){var e=this._elm;this._$elm.hasClass("mbsc-comp")||this._$input.val(e.selectedIndex!=-1?e.options[e.selectedIndex].text:"")}}]),t}(Et),Ft=["keydown","input","scroll"],Wt=void 0;Te&&Ee(window).on("resize orientationchange",G);var Nt=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s._$parent.addClass("mbsc-textarea"),Ft.forEach(function(e){s._elm.addEventListener(e,s)}),J(e),s}return be(t,e),fe(t,[{key:"destroy",value:function(){var e=this;pe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),Ft.forEach(function(t){e._elm.removeEventListener(t,e)})}},{key:"handleEvent",value:function(e){switch(pe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleEvent",this).call(this,e),e.type){case"keydown":case"input":this._onInput(e);break;case"scroll":K(this._elm)}}},{key:"_onInput",value:function(){var e=this;clearTimeout(this._debounce),this._debounce=setTimeout(function(){J(e._elm)},100)}},{key:"refresh",value:function(){pe(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"refresh",this).call(this),clearTimeout(this._debounce),J(this._elm)}}]),t}(Et),Rt=function(e){function t(e,a){he(this,t);var s=ve(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a)),n=void 0,i=void 0,o=s._$elm,r=s._$parent;return r.hasClass("mbsc-segmented-item-ready")||(n=Ee('<div class="mbsc-segmented"></div>'),r.after(n),r.parent().find('input[name="'+o.attr("name")+'"]').each(function(){var e=Ee(this);i=e.parent().addClass("mbsc-segmented-item mbsc-segmented-item-ready"),Ee('<span class="mbsc-segmented-content">'+(e.attr("data-icon")?'<span class="mbsc-ic mbsc-ic-'+e.attr("data-icon")+'"></span>':"")+"</span>").append(i.contents()).appendTo(i),i.prepend(e),n.append(i)})),s._$rippleElm=o.next(),s}return be(t,e),t}(Yt),qt=function(e,t){function a(){var t;e.disabled||(t=parseFloat(Ee(this).val()),i(isNaN(t)?x:t))}function s(){return e.disabled}function n(e,t){i(x+t*v)}function i(e,t,a){D=x,void 0===t&&(t=!0),void 0===a&&(a=t),x=r(e),d.removeClass("mbsc-disabled"),t&&T.val(x),x==h?c.addClass("mbsc-disabled"):x==m&&l.addClass("mbsc-disabled"),x!==D&&a&&T.trigger("change")}function o(e,t,a){var s=T.attr(e);return void 0===s||""===s?t:a?s:+s}function r(e){return+Math.min(m,Math.max(Math.round(e/v)*v,h)).toFixed(b)}var l,c,d,u,m,h,f,p,b,v,g,_,y,x,w,C,k=this,T=Ee(e),D=x;We.call(this,e,t,!0),k.getVal=function(){var e=parseFloat(T.val());return e=isNaN(e)?x:e,r(e)},k.setVal=function(e,t,a){e=parseFloat(e),i(isNaN(e)?x:e,t,a)},k._init=function(){w=T.parent().hasClass("mbsc-stepper"),C=w?T.closest(".mbsc-stepper-cont"):T.parent(),_=k.settings,h=void 0===t.min?o("min",_.min):t.min,m=void 0===t.max?o("max",_.max):t.max,v=void 0===t.step?o("step",_.step):t.step,b=Math.abs(v)<1?(v+"").split(".")[1].length:0,f=void 0===t.inputStyle?o("data-input-style",_.inputStyle,!0):t.inputStyle,u=T.attr("data-val")||_.val,x=r(+e.value||0),y=ce.themes.form[_.theme],p=y&&y.addRipple?y:null,w||C.addClass("mbsc-stepper-cont mbsc-control-w").addClass("box"==f?"mbsc-input-box":"").addClass("outline"==f?"mbsc-input-outline":"").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(x==h?"mbsc-disabled":"")+'" data-step="-1" tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(x==m?"mbsc-disabled":"")+'"  data-step="1" tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span></span></span>').prepend(T),c=Ee(".mbsc-stepper-minus",C),l=Ee(".mbsc-stepper-plus",C),d=Ee(".mbsc-stepper-control",C),w||("left"==u?(C.addClass("mbsc-stepper-val-left"),T.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==u?(C.addClass("mbsc-stepper-val-right"),l.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):c.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),g||(T.on("change",a),g=V(d,n,150,s,!1,p)),T.val(x).attr("data-role","stepper").attr("min",h).attr("max",m).attr("step",v).addClass("mbsc-control"),e.mbscInst=k},k._destroy=function(){T.removeClass("mbsc-control").off("change",a),g.destroy(),delete e.mbscInst},k.init()};qt.prototype={_class:"stepper",_hasDef:!0,_hasTheme:!0,_defaults:{min:0,max:100,step:1}},Ie.Stepper=qt;var jt=function(e,t,a){var n,i,o,r,l=this;We.call(this,e,t,!0),l.__init=s,l.__destroy=s,l._init=function(){var t;r=l.settings,n=Ee(e),t=!!i,i=n.parent(),i=i.hasClass("mbsc-input-wrap")?i.parent():i,l._$parent=i,o&&i.removeClass(o),o=l._css+" mbsc-progress-w mbsc-control-w mbsc-"+r.theme+(r.baseTheme?" mbsc-"+r.baseTheme:"")+(r.rtl?" mbsc-rtl":" mbsc-ltr"),i.addClass(o),n.addClass("mbsc-control"),l.__init(),t||l._attachChange(),l.refresh(),e.mbscInst=l},l._destroy=function(){l.__destroy(),i.removeClass(o),n.removeClass("mbsc-control"),delete e.mbscInst},a||l.init()},Xt=function(e,t,a){function n(t){"mousedown"===t.type&&t.preventDefault(),!D(t,this)||M&&!H||e.disabled||e.readOnly||(z.stopProp&&t.stopPropagation(),M=!0,R=!1,V=!1,U=p(t,"X"),G=p(t,"Y"),A=U,T.removeClass("mbsc-progress-anim"),y=q?Ee(".mbsc-slider-handle",this):w,x&&x.removeClass("mbsc-handle-curr"),x=y.parent().addClass("mbsc-active mbsc-handle-curr"),_.addClass("mbsc-active"),O=+y.attr("data-index"),Z=T[0].offsetWidth,Y=T[0].getBoundingClientRect().left,"mousedown"===t.type&&(I=!0,Ee(document).on("mousemove",i).on("mouseup",o)),"mouseenter"===t.type&&(H=!0,Ee(document).on("mousemove",i)))}function i(e){M&&(A=p(e,"X"),E=p(e,"Y"),$=A-U,P=E-G,Math.abs($)>5&&(R=!0),(R||I||H)&&Math.abs(te-new Date)>50&&(te=new Date,v(A,z.round,F&&(!H||I))),R?e.preventDefault():Math.abs(P)>7&&"touchmove"==e.type&&b(e))}function o(e){M&&(e.preventDefault(),q||T.addClass("mbsc-progress-anim"),H&&!I?g(Q[O],O,!1,!1,!0):v(A,!0,!0),R||V||("touchend"==e.type&&h(),ee._onTap(Q[O])),"mouseup"==e.type&&(I=!1),"mouseleave"==e.type&&(H=!1),H||b())}function r(){M&&b()}function l(){var e=ee._readValue(Ee(this)),t=+Ee(this).attr("data-index");e!==Q[t]&&(Q[t]=e,j[t]=e,g(e,t))}function c(e){e.stopPropagation()}function d(e){e.preventDefault()}function m(t){var a;if(!e.disabled){switch(t.keyCode){case 38:case 39:a=1;break;case 40:case 37:a=-1}a&&(t.preventDefault(),K||(O=+Ee(this).attr("data-index"),g(Q[O]+X*a,O,!0),K=setInterval(function(){g(Q[O]+X*a,O,!0)},200)))}}function f(e){e.preventDefault(),clearInterval(K),K=null}function b(){M=!1,x.removeClass("mbsc-active"),_.removeClass("mbsc-active"),Ee(document).off("mousemove",i).off("mouseup",o)}function v(e,t,a){var s=t?Math.min(Math[ee._rounding||"round"](Math.max(100*(e-Y)/Z,0)/B/X)*X*100/(W-N+S),100):Math.max(0,Math.min(100*(e-Y)/Z,100));L&&(s=100-s),g(Math.round((N-S+s/B)*J)/J,O,a,s)}function g(e,t,a,s,n,i){var o=w.eq(t),r=o.parent();e=Math.min(W,Math.max(e,N)),void 0===i&&(i=a),ee._update?e=ee._update(e,Q,t,s,q,n,r):r.css({left:L?"auto":(s||u(e,N,W))+"%",right:L?(s||u(e,N,W))+"%":"auto"}),e>N?r.removeClass("mbsc-slider-start"):(Q[t]>N||n)&&r.addClass("mbsc-slider-start"),a&&(Q[t]=e),a&&j[t]!=e&&(V=!0,j[t]=e,ee._fillValue(e,t,i)),o.attr("aria-valuenow",e)}var _,y,x,w,C,k,T,M,S,V,$,P,Y,A,E,O,H,I,L,F,W,N,R,q,j,X,z,B,U,G,J,K,Z,Q,ee=this,te=new Date;jt.call(this,e,t,!0),ee._onTap=s,ee.___init=s,ee.___destroy=s,ee._attachChange=function(){_.on(z.changeEvent,l)},ee.__init=function(){var e;w&&(e=!0,w.parent().remove()),ee.___init(),k=ee._$parent,T=ee._$track,_=k.find("input"),z=ee.settings,N=ee._min,W=ee._max,S=ee._base||0,X=ee._step,F=ee._live,J=X%1!==0?100/(100*+(X%1).toFixed(2)):1,B=100/(W-N+S)||100,q=_.length>1,L=z.rtl,Q=[],j=[],_.each(function(e){Q[e]=ee._readValue(Ee(this)),Ee(this).attr("data-index",e)}),w=k.find(".mbsc-slider-handle"),C=k.find(q?".mbsc-slider-handle-cont":".mbsc-progress-cont"),w.on("keydown",m).on("keyup",f).on("blur",f),C.on("touchstart mousedown"+(z.hover?" mouseenter":""),n).on("touchmove",i).on("touchend touchcancel"+(z.hover?" mouseleave":""),o).on("pointercancel",r),e||(_.on("click",c),k.on("click",d))},ee.__destroy=function(){k.off("click",d),_.off(z.changeEvent,l).off("click",c),w.off("keydown",m).off("keyup",f).off("blur",f),C.off("touchstart mousedown mouseenter",n).off("touchmove",i).off("touchend touchcancel mouseleave",o).off("pointercancel",r),ee.___destroy()},ee.refresh=function(){_.each(function(e){g(ee._readValue(Ee(this)),e,!0,!1,!0,!1)})},ee.getVal=function(){return q?Q.slice(0):Q[0]},ee.setVal=ee._setVal=function(e,t,a){Ee.isArray(e)||(e=[e]),Ee.each(e,function(e,t){Q[e]=t}),Ee.each(e,function(e,t){g(t,e,!0,!1,!0,a)})},a||ee.init()},zt=function(e,t){var a,s,n,i,o=this;t=t||{},Fe(t,{changeEvent:"click",round:!1}),Xt.call(this,e,t,!0),o._readValue=function(){return e.checked?1:0},o._fillValue=function(e,t,s){a.prop("checked",!!e),s&&a.trigger("change")},o._onTap=function(e){o._setVal(e?0:1)},o.___init=function(){n=o.settings,a=Ee(e),s=a.parent(),s.find(".mbsc-switch-track").remove(),s.prepend(a),a.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),i&&i.destroy(),i=new Yt(e,n),o._$track=s.find(".mbsc-progress-track"),o._min=0,o._max=1,o._step=1},o.___destroy=function(){i.destroy()},o.getVal=function(){return e.checked},o.setVal=function(e,t,a){o._setVal(e?1:0,t,a)},o.init()};zt.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},Ie.Switch=zt;/* eslint-disable no-unused-vars */
var Bt=function(e,t,a){function s(){var e=n("value",m);e!==g&&i(e)}function n(e,t,a){var s=r.attr(e);return void 0===s||""===s?t:a?s:+s}function i(e,t,a,s){e=Math.min(h,Math.max(e,m)),c.css("width",100*(e-m)/(h-m)+"%"),void 0===a&&(a=!0),void 0===s&&(s=a),(e!==g||t)&&y._display(e),e!==g&&(g=e,a&&r.attr("value",g),s&&r.trigger("change"))}var o,r,l,c,d,u,m,h,f,p,b,v,g,_,y=this;jt.call(this,e,t,!0),y._display=function(e){_=v&&b.returnAffix?v.replace(/\{value\}/,e).replace(/\{max\}/,h):e,d&&d.html(_),o&&o.html(_)},y._attachChange=function(){r.on("change",s)},y.__init=function(){var a,s,i,_;if(b=y.settings,r=Ee(e),_=!!l,l=y._$parent,m=y._min=void 0===t.min?n("min",b.min):t.min,h=y._max=void 0===t.max?n("max",b.max):t.max,f=void 0===t.inputStyle?n("data-input-style",b.inputStyle,!0):t.inputStyle,p=void 0===t.labelStyle?n("data-label-style",b.labelStyle,!0):t.labelStyle,g=n("value",m),a=r.attr("data-val")||b.val,i=r.attr("data-step-labels"),i=i?JSON.parse(i):b.stepLabels,v=r.attr("data-template")||(100!=h||b.template?b.template:"{value}%"),_?(a&&(o.remove(),l.removeClass("mbsc-progress-value-"+("right"==a?"right":"left"))),i&&Ee(".mbsc-progress-step-label",u).remove()):(z(l,null,f,p,e),j(r),l.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),c=y._$progress=l.find(".mbsc-progress-bar"),u=y._$track=l.find(".mbsc-progress-track")),r.attr("min",m).attr("max",h),a&&(o=Ee('<span class="mbsc-progress-value"></span>'),l.addClass("mbsc-progress-value-"+("right"==a?"right":"left")).find(".mbsc-input-wrap").append(o)),i)for(s=0;s<i.length;++s)u.append('<span class="mbsc-progress-step-label" style="'+(b.rtl?"right":"left")+": "+100*(i[s]-m)/(h-m)+'%" >'+i[s]+"</span>");d=Ee(r.attr("data-target")||b.target)},y.__destroy=function(){l.removeClass("mbsc-ic-left mbsc-ic-right").find(".mbsc-progress-cont").remove(),l.find(".mbsc-input-ic").remove(),r.off("change",s)},y.refresh=function(){i(n("value",m),!0,!1)},y.getVal=function(){return g},y.setVal=function(e,t,a){i(e,!0,t,a)},a||y.init()};Bt.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{min:0,max:100,returnAffix:!0}},Ie.Progress=Bt;var Ut=function(e,t,a){var s,n,i,o,r,l,c,d,h,f,p,b,v,g=this;Bt.call(this,e,t,!0);var _=g.__init,y=g.__destroy;Xt.call(this,e,t,!0);var x=g.__init,w=g.__destroy;g.__init=function(){_(),x()},g.__destroy=function(){y(),w()},g._update=function(e,t,a,s,n,r,m){return d?0===a?(e=Math.min(e,t[1]),i.css({width:u(t[1],p,f)-u(e,p,f)+"%",left:h?"auto":u(e,p,f)+"%",right:h?u(e,p,f)+"%":"auto"})):(e=Math.max(e,t[0]),i.css({width:u(e,p,f)-u(t[0],p,f)+"%"})):n||!l?m.css({left:h?"auto":(s||u(e,p,f))+"%",right:h?(s||u(e,p,f))+"%":"auto"}):i.css("width",(s||u(e,p,f))+"%"),c&&o.eq(a).html(e),n||t[a]==e&&!r||g._display(e),e},g._readValue=function(e){return+e.val()},g._fillValue=function(e,t,a){s.eq(t).val(e),a&&s.eq(t).trigger("change")},g._markupReady=function(){var e,t;if(c&&n.addClass("mbsc-slider-has-tooltip"),1!=b)for(t=(f-p)/b,e=0;e<=t;++e)r.append('<span class="mbsc-slider-step" style="'+(h?"right":"left")+":"+100/t*e+'%"></span>');s.each(function(e){"range"==this.type&&Ee(this).attr("min",p).attr("max",f).attr("step",b),(l?i:r).append('<span class="mbsc-slider-handle-cont'+(d&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+p+'" aria-valuemax="'+f+'" data-index="'+e+'"></span>'+(c?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),o=n.find(".mbsc-slider-tooltip")},g.___init=function(){n&&(n.removeClass("mbsc-slider-has-tooltip"),1!=b&&Ee(".mbsc-slider-step",r).remove()),n=g._$parent,r=g._$track,i=g._$progress,s=n.find("input"),v=g.settings,p=g._min,f=g._max,g._step=b=void 0===t.step?+s.attr("step")||v.step:t.step,g._live=m("data-live",v.live,s),c=m("data-tooltip",v.tooltip,s),l=m("data-highlight",v.highlight,s)&&s.length<3,d=l&&2==s.length,h=v.rtl,g._markupReady()},a||g.init()};Ut.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,round:!0,returnAffix:!0}},Ie.Slider=Ut;var Gt=function(e,t,a){var s,n,i,o,r,l,c,d=this,m=Ee(e);Ut.call(this,e,t,!0),d._update=function(e,t,a,n,o,r){return s.css("width",u(e,0,i)+"%"),o||t[a]==e&&!r||d._display(e),e},d._markupReady=function(){var e,t="",a="";for(n=d._$track,s=d._$progress,c=d.settings,o=d._min,i=d._max,d._base=o,d._rounding=c.rtl?"floor":"ceil",r=m.attr("data-empty")||c.empty,l=m.attr("data-filled")||c.filled,e=0;e<i;++e)t+='<span class="mbsc-ic mbsc-ic-'+r+'"></span>',a+='<span class="mbsc-ic mbsc-ic-'+l+'"></span>';n.html(t),n.append(s),s.html(a),n.append('<span class="mbsc-rating-handle-cont"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+o+'" aria-valuemax="'+i+'" data-index="0"></span></span>')},a||d.init()};Gt.prototype={_class:"progress",_css:"mbsc-progress mbsc-rating",_hasTheme:!0,_hasLang:!0,_hasDef:!0,_defaults:{changeEvent:"change",stopProp:!0,min:1,max:5,step:1,live:!0,round:!0,hover:!0,highlight:!0,returnAffix:!0,empty:"star",filled:"star3"}},Ie.Rating=Gt;var Jt=1,Kt=function(){function e(t,a){var s=this;he(this,e);var n=void 0,i=void 0,o=void 0,r=Ee(t);if(this.settings=a,this._isOpen=a.isOpen||!1,r.addClass("mbsc-collapsible "+(this._isOpen?"mbsc-collapsible-open":"")),r.hasClass("mbsc-card")?(i=r.find(".mbsc-card-header").eq(0).addClass("mbsc-collapsible-header"),o=r.find(".mbsc-card-content").eq(0).addClass("mbsc-collapsible-content")):r.hasClass("mbsc-form-group")||r.hasClass("mbsc-form-group-inset")?(i=r.find(".mbsc-form-group-title").eq(0).addClass("mbsc-collapsible-header"),o=r.find(".mbsc-form-group-content").eq(0).addClass("mbsc-collapsible-content")):(i=r.find(".mbsc-collapsible-header").eq(0),o=r.find(".mbsc-collapsible-content").eq(0)),n=o[0],n&&!n.id&&(n.id="mbsc-collapsible-"+Jt++),i.length&&n){var l=Ee('<span class="mbsc-collapsible-icon mbsc-ic mbsc-ic-arrow-down5"></span>');g(this,i,function(){s.collapse()}),i.attr("role","button").attr("aria-expanded",this._isOpen).attr("aria-controls",n.id).attr("tabindex","0").on("mousedown",function(e){e.preventDefault()}).on("keydown",function(e){32!==e.which&&13!=e.keyCode||(e.preventDefault(),s.collapse())}).append(l)}t.mbscInst=this,this._$header=i,this._$content=o,this._$elm=r,this._$accordionParent=r.parent("[mbsc-accordion], mbsc-accordion, .mbsc-accordion"),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.toggle=this.toggle.bind(this)}return fe(e,[{key:"collapse",value:function(e){var t=this._$elm,a=this._$content,s=function e(){a.off("transitionend",e).css("height","")};void 0===e&&(e=!this._isOpen),e&&this._isOpen||!e&&!this._isOpen||!a.length||(e?(ze&&a.on("transitionend",s).css("height",a[0].scrollHeight),t.addClass("mbsc-collapsible-open")):(ze&&a.css("height",getComputedStyle(a[0]).height),setTimeout(function(){a.css("height",0),t.removeClass("mbsc-collapsible-open")})),e&&this._$accordionParent&&this._$accordionParent.find(".mbsc-collapsible-open").each(function(){this!==t[0]&&this.mbscInst.hide()}),this._isOpen=e,this._$header.attr("aria-expanded",this._isOpen))}},{key:"show",value:function(){this.collapse(!0)}},{key:"hide",value:function(){this.collapse(!1)}},{key:"toggle",value:function(){this.collapse()}},{key:"destroy",value:function(){this._$elm.removeClass("mbsc-collapsible mbsc-collapsible-open"),this._$content.removeClass("mbsc-collapsible-content"),this._$header.removeClass("mbsc-collapsible-header").find(".mbsc-collapsible-icon").remove()}}]),e}();Ie.CollapsibleBase=Kt;var Zt=0,Qt=function(e,t,a){function s(e){Ee(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(Ee(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(o.show()),Ee(".mbsc-w-p",e).length||Ee(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var n,i,o=Ee(e),r=this;dt.call(this,e,t,!0),r._generateContent=function(){return""},r._markupReady=function(e){"inline"!=n.display&&s(e)},r._markupInserted=function(e){"inline"==n.display&&s(e),e.trigger("mbsc-enhance",[{theme:n.theme,lang:n.lang}])},r._markupRemove=function(){o.hide(),i&&i.parent().length&&i.after(o)},r.__processSettings=function(){n=r.settings,r.buttons.ok={text:n.okText,icon:n.okIcon,handler:"set"},n.buttons=n.buttons||("inline"==n.display?[]:["ok"]),!i&&o.parent().length&&(i=Ee(document.createComment("popup")),o.before(i)),o.hide()},a||r.init()};Qt.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_hasLang:!0,_class:"popup",_defaults:Fe({},dt.prototype._defaults,{compClass:"mbsc-wdg",okText:"OK",headerText:!1})},Ie.Popup=Qt,Ie.Widget=Qt;var ea=Qt;ce.themes.popup=ce.themes.frame;var ta=Te&&!!window.Promise,aa=[],sa=[];ce.alert=function(e){var t=document.createElement("div");return t.innerHTML=ae(e),le(se,t,e)},ce.confirm=function(e){var t=document.createElement("div");return t.innerHTML=ae(e),le(ne,t,e)},ce.prompt=function(e){var t=document.createElement("div");return t.innerHTML=ae(e)+'<label class="mbsc-input">'+(e.label?'<span class="mbsc-label">'+e.label+"</span>":"")+'<input tabindex="0" type="'+(e.inputType||"text")+'" placeholder="'+(e.placeholder||"")+'" value="'+(e.value||"")+'"></label>',le(ie,t,e)},ce.snackbar=function(e){var t=document.createElement("div"),a=e.button;return t.innerHTML='<div class="mbsc-snackbar-cont"><div class="mbsc-snackbar-msg">'+(e.message||"")+"</div>"+(a?'<button class="mbsc-snackbar-btn mbsc-btn mbsc-btn-flat">'+(a.icon?'<span class="mbsc-ic '+(a.text?"mbsc-btn-ic ":"")+"mbsc-ic-"+a.icon+'"></span>':"")+(a.text||"")+"</button>":"")+"</div>",le(oe,t,e)},ce.toast=function(e){var t=document.createElement("div");return t.innerHTML='<div class="mbsc-toast-msg">'+(e.message||"")+"</div>",le(re,t,e)};var na="ios"==ye&&we>7,ia=function(e,t){function a(){i.removeClass("mbsc-no-touch")}var s,n="",i=Ee(e),o={},r=this;We.call(this,e,t,!0),r.refresh=function(e){Z(i,o,s,e)},r._init=function(){ce.themes.form[s.theme]||(s.theme="mobiscroll"),i.hasClass("mbsc-form")||i.on("touchstart",a).show(),n&&i.removeClass(n),n="mbsc-form mbsc-no-touch mbsc-"+s.theme+(na?" mbsc-form-hb":"")+(s.baseTheme?" mbsc-"+s.baseTheme:"")+(s.rtl?" mbsc-rtl":" mbsc-ltr")+("box"==s.inputStyle?" mbsc-form-box":"")+("outline"==s.inputStyle?" mbsc-form-outline":""),i.addClass(n).removeClass("mbsc-cloak"),r.refresh()},r._destroy=function(){i.removeClass(n).off("touchstart",a);for(var e in o)o[e].destroy()},r.controls=o,s=r.settings,r.init()};ia.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:Xe,stopProp:!0,rtl:!1}},ce.themes.form.mobiscroll={},Ie.Form=ia,y("[mbsc-enhance],[mbsc-form]",ia,!0);var oa=function(e,t){var a="",s=Ee(e),n=this,i=n.settings;We.call(this,e,t,!0),n._init=function(){var e=i.context,t=Ee(e),n=t.find(".mbsc-ms-top .mbsc-ms"),o=t.find(".mbsc-ms-bottom .mbsc-ms"),r={};"body"==e?Ee("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),a&&s.removeClass(a),n.length&&(r.paddingTop=n[0].offsetHeight),o.length&&(r.paddingBottom=o[0].offsetHeight),a="mbsc-page mbsc-"+i.theme+(i.baseTheme?" mbsc-"+i.baseTheme:"")+(i.rtl?" mbsc-rtl":" mbsc-ltr"),s.addClass(a).removeClass("mbsc-cloak").css(r)},n._destroy=function(){s.removeClass(a)},i=n.settings,n.init()};oa.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},Ie.Page=oa,ce.themes.page.mobiscroll={},y("[mbsc-page]",oa),a("page",oa,!1),a("form",ia,!1),a("progress",Bt,!1),a("slider",Ut,!1),a("stepper",qt,!1),a("switch",zt,!1),a("rating",Gt,!1),a("popup",Qt,!1),a("widget",ea,!1);var ra=ce.themes;ra.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:"wp"!=ye&&("android"!=ye||we>7)},ra.scroller.ios=Fe({},ra.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),ra.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},ra.form.ios={},ce.customTheme("mobiscroll-dark","mobiscroll"),ce.customTheme("ios-dark","ios");var la=ce.themes,ca="mobiscroll";return"android"==ye?ca="material":"ios"==ye?ca="ios":"wp"==ye&&(ca="windows"),Ee.each(la.frame,function(e,t){return ca&&t.baseTheme==ca&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?(ce.autoTheme=e,!1):void(e==ca&&(ce.autoTheme=e))}),ce.uid="8BB940",ce});
