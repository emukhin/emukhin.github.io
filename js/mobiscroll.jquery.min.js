/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.mobiscroll=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,a){var s=e;return"object"===("undefined"==typeof t?"undefined":N(t))?e.each(function(){new t.component(this,t)}):("string"==typeof t&&e.each(function(){var e,n=$.instances[this.id];if(n&&n[t]&&(e=n[t].apply(this,Array.prototype.slice.call(a,1)),void 0!==e))return s=e,!1}),s)}function a(e,a,s){R[e]=function(n){return t(this,O(n,{component:a,preset:s===!1?void 0:e}),arguments)}}function s(){}function n(e){var t,a=[];for(t in e)a.push(e[t]);return a}function i(e){var t,a={};if(e)for(t=0;t<e.length;t++)a[e[t]]=e[t];return a}function r(e){return e-parseFloat(e)>=0}function l(e){return"string"==typeof e}function o(e,t,a){return Math.max(t,Math.min(e,a))}function c(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function d(e){"vibrate"in navigator&&navigator.vibrate(e||50)}function u(){ee++,setTimeout(function(){ee--},500)}function m(e,t,a){var s=e.originalEvent||e,n=(a?"page":"client")+t;return s.targetTouches&&s.targetTouches[0]?s.targetTouches[0][n]:s.changedTouches&&s.changedTouches[0]?s.changedTouches[0][n]:e[n]}function f(e,t,a,s,n,i){function r(e){h||(s&&e.preventDefault(),h=this,d=m(e,"X"),f=m(e,"Y"),b=!1,p=new Date)}function l(e){h&&!b&&(Math.abs(m(e,"X")-d)>n||Math.abs(m(e,"Y")-f)>n)&&(b=!0)}function o(t){h&&((i&&new Date-p<100||!b)&&(t.preventDefault(),a.call(h,t,e)),h=!1,u())}function c(){h=!1}var d,f,h,b,p,v=$.$,g=v(t);n=n||9,e.settings.tap&&g.on("touchstart.mbsc",r).on("touchcancel.mbsc",c).on("touchmove.mbsc",l).on("touchend.mbsc",o),g.on("click.mbsc",function(t){s&&t.preventDefault(),a.call(this,t,e)})}function h(e){if(ee&&!te&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}function b(e,t){var a=document.createElement("script"),s="mbscjsonp"+ ++de;window[s]=function(e){a.parentNode.removeChild(a),delete window[s],e&&t(e)},a.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+s,document.body.appendChild(a)}function p(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},a.onerror=function(){},a.send()}function v(e,t,a){"jsonp"==a?b(e,t):p(e,t)}function g(e){var t;for(t in e)if(void 0!==me[e[t]])return!0;return!1}function y(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(g([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}function _(e,t){if("touchstart"==e.type)se(t).attr("data-touch","1");else if(se(t).attr("data-touch"))return se(t).removeAttr("data-touch"),!1;return!0}function w(e,t){var a,s,n=getComputedStyle(e[0]);return se.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(void 0!==n[t+"ransform"])return a=n[t+"ransform"],!1}),a=a.split(")")[0].split(", "),s=t?a[13]||a[5]:a[12]||a[4]}function x(e){if(e){if(ve[e])return ve[e];var t=se('<div style="background-color:'+e+';"></div>').appendTo("body"),a=getComputedStyle(t[0]),s=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),n=.299*s[0]+.587*s[1]+.114*s[2],i=n<130?"#fff":"#000";return t.remove(),ve[e]=i,i}}function D(e,t,a,n,i,r){function l(e){var t;b=se(this),D=+b.attr("data-step"),v=+b.attr("data-index"),p=!0,i&&e.stopPropagation(),"mousedown"==e.type&&e.preventDefault(),"keydown"!=e.type?(w=m(e,"X"),x=m(e,"Y"),t=_(e,this)):t=32===e.keyCode,g||!t||b.hasClass("mbsc-disabled")||(u(v,D,e)&&(b.addClass("mbsc-active"),r&&r.addRipple(b.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&se(document).on("mousemove",o).on("mouseup",c))}function o(e){(Math.abs(w-m(e,"X"))>7||Math.abs(x-m(e,"Y"))>7)&&(p=!0,d())}function c(e){"touchend"==e.type&&e.preventDefault(),d(),"mouseup"==e.type&&se(document).off("mousemove",o).off("mouseup",c)}function d(){g=!1,clearInterval(C),b&&(b.removeClass("mbsc-active"),r&&setTimeout(function(){r.removeRipple()},100))}function u(e,t,a){return g||M(e)||(v=e,D=t,y=a,g=!0,p=!1,setTimeout(f,100)),g}function f(){return b&&b.hasClass("mbsc-disabled")?void d():(!g&&p||(p=!0,t(v,D,y,f)),void(g&&a&&(clearInterval(C),C=setInterval(function(){t(v,D,y)},a))))}function h(){e.off("touchstart mousedown keydown",l).off("touchmove",o).off("touchend touchcancel keyup",c)}var b,p,v,g,y,w,x,D,C,M=n||s;return e.on("touchstart mousedown keydown",l).on("touchmove",o).on("touchend touchcancel keyup",c),{start:u,stop:d,destroy:h}}function C(e,t){function a(){l.style.width="100000px",l.style.height="100000px",r.scrollLeft=1e5,r.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5}function s(){var e=new Date;o=0,u||(e-m>200&&!r.scrollTop&&!r.scrollLeft&&(m=e,a()),o||(o=K(s)))}function n(){c||(c=K(i))}function i(){c=0,a(),t()}var r=void 0,l=void 0,o=void 0,c=void 0,d=void 0,u=void 0,m=0,f=document.createElement("div");return f.innerHTML=xe,f.dir="ltr",d=f.childNodes[1],r=f.childNodes[0],l=r.childNodes[0],e.appendChild(f),r.addEventListener("scroll",n),d.addEventListener("scroll",n),K(s),{detach:function(){e.removeChild(f),u=!0}}}function M(e){return(e+"").replace('"',"___")}function T(e,t,a,s,n,i,r){var l=new Date(e,t,a,s||0,n||0,i||0,r||0);return 23==l.getHours()&&0===(s||0)&&l.setHours(l.getHours()+2),l}function k(e,t,a){if(!t)return null;var s,n,i=oe({},ze,a),r=function(t){for(var a=0;s+1<e.length&&e.charAt(s+1)==t;)a++,s++;return a},l=function(e,t,a){var s=""+t;if(r(e))for(;s.length<a;)s="0"+s;return s},o=function(e,t,a,s){return r(e)?s[t]:a[t]},c="",d=!1;for(s=0;s<e.length;s++)if(d)"'"!=e.charAt(s)||r("'")?c+=e.charAt(s):d=!1;else switch(e.charAt(s)){case"d":c+=l("d",i.getDay(t),2);break;case"D":c+=o("D",t.getDay(),i.dayNamesShort,i.dayNames);break;case"o":c+=l("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth(t)+1,2);break;case"M":c+=o("M",i.getMonth(t),i.monthNamesShort,i.monthNames);break;case"y":n=i.getYear(t),c+=r("y")?n:(n%100<10?"0":"")+n%100;break;case"h":var u=t.getHours();c+=l("h",u>12?u-12:0===u?12:u,2);break;case"H":c+=l("H",t.getHours(),2);break;case"i":c+=l("i",t.getMinutes(),2);break;case"s":c+=l("s",t.getSeconds(),2);break;case"a":c+=t.getHours()>11?i.pmText:i.amText;break;case"A":c+=t.getHours()>11?i.pmText.toUpperCase():i.amText.toUpperCase();break;case"'":r("'")?c+="'":d=!0;break;default:c+=e.charAt(s)}return c}function V(e,t,a){var s=oe({},ze,a),n=W(s.defaultValue||new Date);if(!e||!t)return n;if(t.getTime)return t;t="object"==("undefined"==typeof t?"undefined":N(t))?t.toString():t+"";var i,r=s.shortYearCutoff,l=s.getYear(n),o=s.getMonth(n)+1,c=s.getDay(n),d=-1,u=n.getHours(),m=n.getMinutes(),f=0,h=-1,b=!1,p=function(t){var a=i+1<e.length&&e.charAt(i+1)==t;return a&&i++,a},v=function(e){p(e);var a="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,s=new RegExp("^\\d{1,"+a+"}"),n=t.substr(_).match(s);return n?(_+=n[0].length,parseInt(n[0],10)):0},g=function(e,a,s){var n,i=p(e)?s:a;for(n=0;n<i.length;n++)if(t.substr(_,i[n].length).toLowerCase()==i[n].toLowerCase())return _+=i[n].length,n+1;return 0},y=function(){_++},_=0;for(i=0;i<e.length;i++)if(b)"'"!=e.charAt(i)||p("'")?y():b=!1;else switch(e.charAt(i)){case"d":c=v("d");break;case"D":g("D",s.dayNamesShort,s.dayNames);break;case"o":d=v("o");break;case"m":o=v("m");break;case"M":o=g("M",s.monthNamesShort,s.monthNames);break;case"y":l=v("y");break;case"H":u=v("H");break;case"h":u=v("h");break;case"i":m=v("i");break;case"s":f=v("s");break;case"a":h=g("a",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"A":h=g("A",[s.amText,s.pmText],[s.amText,s.pmText])-1;break;case"'":p("'")?y():b=!0;break;default:y()}if(l<100&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=("string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10))?0:-100)),d>-1){o=1,c=d;do{var w=32-new Date(l,o-1,32,12).getDate();c>w&&(o++,c-=w)}while(c>w)}u=h==-1?u:h&&u<12?u+12:h||12!=u?u:0;var x=s.getDate(l,o-1,c,u,m,f);return s.getYear(x)!=l||s.getMonth(x)+1!=o||s.getDay(x)!=c?n:x}function S(e,t){return Math.round((t-e)/864e5)}function Y(e){return T(e.getFullYear(),e.getMonth(),e.getDate())}function A(e,t){var a="",s="";return e&&(t.h&&(s+=c(e.getHours())+":"+c(e.getMinutes()),t.s&&(s+=":"+c(e.getSeconds())),t.u&&(s+="."+c(e.getMilliseconds(),3)),t.tz&&(s+=t.tz)),t.y?(a+=e.getFullYear(),t.m&&(a+="-"+c(e.getMonth()+1),t.d&&(a+="-"+c(e.getDate())),t.h&&(a+="T"+s))):t.h&&(a=s)),a}function P(e,t,a){var s,n,i={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(a)for(s in i)n=e[i[s]-t],n&&(a[s]="tz"==s?n:1)}function H(e,t,a){var s=window.moment||t.moment,n=t.returnFormat;if(e){if("moment"==n&&s)return s(e);if("locale"==n)return k(a,e,t);if("iso8601"==n)return A(e,t.isoParts)}return e}function W(e,t,a,s){var n;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(n=Re.exec(e))?(P(n,2,s),new Date(1970,0,1,n[2]?+n[2]:0,n[3]?+n[3]:0,n[4]?+n[4]:0,n[5]?+n[5]:0)):(n||(n=Oe.exec(e)),n?(P(n,0,s),new Date(n[1]?+n[1]:1970,n[2]?n[2]-1:0,n[3]?+n[3]:1,n[4]?+n[4]:0,n[5]?+n[5]:0,n[6]?+n[6]:0,n[7]?+n[7]:0)):V(t,e,a))):null}function E(e,t){return e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function F(e){return e[0].innerWidth||e.innerWidth()}e=e&&e.hasOwnProperty("default")?e.default:e;var $=$||{},I={},L={},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=e.extend,R={};$.$=e,e.mobiscroll=$,e.fn.mobiscroll=function(e){return O(this,R),t(this,e,arguments)};var q,X,z,j,U=[],B="undefined"!=typeof window,G=B?navigator.userAgent:"",J=/Safari/.test(G),Z=G.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),K=B&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},Q=B&&window.cancelAnimationFrame||function(e){clearTimeout(e)};/Android/i.test(Z)?(q="android",X=G.match(/Android\s+([\d\.]+)/i),X&&(U=X[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(Z)?(q="ios",X=G.match(/OS\s+([\d\_]+)/i),X&&(U=X[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(Z)?q="wp":/Windows|MSIE/i.test(Z)&&(q="windows"),z=U[0],j=U[1];var ee=0,te=void 0;B&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,h,!0)}),"android"==q&&z<5&&document.addEventListener("change",function(e){ee&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0));var ae,se=$.$,ne=+new Date,ie={},re={},le={xsmall:0,small:576,medium:768,large:992,xlarge:1200},oe=se.extend;oe(I,{getCoord:m,preventClick:u,vibrate:d}),ae=oe($,{$:se,version:"4.5.3",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:q,majorVersion:z,minorVersion:j},i18n:{},instances:ie,classes:re,util:I,settings:{},setDefaults:function(e){oe(this.settings,e)},customTheme:function(e,t){var a,s=$.themes,n=["frame","scroller","listview","navigation","form","page","progress","card"];for(a=0;a<n.length;a++)s[n[a]][e]=oe({},s[n[a]][t],{baseTheme:t})}});var ce=function(e,t){function a(e){var t,a;return c.responsive&&(a=e||i.offsetWidth,se.each(c.responsive,function(e,s){a>=(s.breakpoint||le[e])&&(t=s)})),t}function n(){se(e).addClass("mbsc-comp"),e.id?ie[e.id]&&ie[e.id].destroy():e.id="mobiscroll"+ ++ne,ie[e.id]=b,b.__ready=!0}var i,r,l,o,c,d,u,m,h,b=this;b.settings={},b.element=e,b._init=s,b._destroy=s,b._processSettings=s,b._checkResp=function(e){if(b&&b._responsive){var t=a(e);if(o!==t)return o=t,b.init({}),!0}},b.init=function(s){var n,f;s&&b.getVal&&(f=b.getVal());for(n in b.settings)delete b.settings[n];c=b.settings,oe(t,s),b._hasDef&&(h=ae.settings),oe(c,b._defaults,h,t),b._hasTheme&&(u=c.theme,"auto"!=u&&u||(u=ae.autoTheme),"default"==u&&(u="mobiscroll"),t.theme=u,d=ae.themes[b._class]?ae.themes[b._class][u]:{}),b._hasLang&&(r=ae.i18n[c.lang]),oe(c,d,r,h,t),i=se(c.context)[0],b._responsive&&(o||(o=a()),oe(c,o)),b._processSettings(o||{}),b._presets&&(l=b._presets[c.preset],l&&(l=l.call(e,b,t),oe(c,l,t,o))),b._init(s),s&&b.setVal&&b.setVal(f,!0),m("onInit")},b.destroy=function(){b&&(b._destroy(),m("onDestroy"),delete ie[e.id],b=null)},b.tap=function(e,t,a,s,n){f(b,e,t,a,s,n)},b.trigger=function(a,s){var n,i,r,o=[h,d,l,t];for(i=0;i<4;i++)r=o[i],r&&r[a]&&(n=r[a].call(e,s||{},b));return n},b.option=function(e,a){var s={},n=["data","invalid","valid","marked","labels","colors","readonly"];"object"===("undefined"==typeof e?"undefined":N(e))?s=e:s[e]=a,n.forEach(function(e){t[e]=c[e]}),b.init(s)},b.getInst=function(){return b},t=t||{},m=b.trigger,b.__ready||n()},de=0;I.getJson=v;var ue,me,fe,he,be,pe,ve={};B&&(me=document.createElement("modernizr").style,fe=y(),pe=fe.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),ue=void 0!==me.animation?"animationend":"webkitAnimationEnd",be=void 0!==me.transition,he=void 0===me.touchAction||"ios"==q&&!J);var ge,ye,_e="position:absolute;left:0;top:0;",we=_e+"right:0;bottom:0;overflow:hidden;z-index:-1;",xe='<div style="'+we+'"><div style="'+_e+'"></div></div><div style="'+we+'"><div style="'+_e+'width:200%;height:200%;"></div></div>',De=$.themes,Ce=/(iphone|ipod)/i.test(G)&&z>=7,Me="android"==q,Te="ios"==q,ke=Te&&8==z,Ve=Te&&z>7,Se=function(e){e.preventDefault()},Ye="input,select,textarea,button",Ae='textarea,button,input[type="button"],input[type="submit"]',Pe=Ye+',[tabindex="0"]',He=function(e,t,a){function n(e){A&&A.removeClass("mbsc-active"),A=se(this),A.hasClass("mbsc-disabled")||A.hasClass("mbsc-fr-btn-nhl")||A.addClass("mbsc-active"),"mousedown"===e.type?se(document).on("mouseup",i):"pointerdown"===e.type&&se(document).on("pointerup",i)}function i(e){A&&(A.removeClass("mbsc-active"),A=null),"mouseup"===e.type?se(document).off("mouseup",i):"pointerup"===e.type&&se(document).off("pointerup",i)}function r(e){$.activeInstance==ne&&(13!=e.keyCode||se(e.target).is(Ae)&&!e.shiftKey?27==e.keyCode&&ne.cancel():ne.select())}function c(e){e||Me||!ne._activeElm||(le=new Date,ne._activeElm.focus())}function d(e){var t=ge,a=G.focusOnClose;ne._markupRemove(),D.remove(),E&&(P.mbscModals--,G.scrollLock&&P.mbscLock--,P.mbscLock||x.removeClass("mbsc-fr-lock"),P.mbscModals||(x.removeClass("mbsc-fr-lock-ios mbsc-fr-lock-ctx"),q&&(_.css({top:"",left:""}),V.scrollLeft(J),V.scrollTop(K))),P.mbscModals&&!B||e||(t||(t=ie),setTimeout(function(){void 0===a||a===!0?(ye=!0,t[0].focus()):a&&se(a)[0].focus()},200))),B=void 0,F=!1,ee("onHide")}function f(){clearTimeout(U),U=setTimeout(function(){ne.position(!0)&&(j.style.visibility="hidden",j.offsetHeight,j.style.visibility="")},200)}function h(e){$.activeInstance==ne&&e.target.nodeType&&!z.contains(e.target)&&new Date-le>100&&(le=new Date,ne._activeElm.focus())}function b(e,t){function a(){D.off(ue,a).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+H).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+H),c(t)}if(E)D.appendTo(_);else if(ie.is("div")&&!ne._hasContent)ie.empty().append(D);else if(ie.hasClass("mbsc-control")){var s=ie.closest(".mbsc-control-w");D.insertAfter(s),s.hasClass("mbsc-select")&&s.addClass("mbsc-select-inline")}else D.insertAfter(ie);F=!0,ne._markupInserted(D),ee("onMarkupInserted",{target:L}),D.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",Se).on("touchstart mousedown",function(e){G.stopProp&&e.stopPropagation()}).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||se(e.target).is(Ye)){if(9==e.keyCode&&E&&G.focusTrap){var t=D.find(Pe).filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),a=t.index(se(":focus",D)),s=t.length-1,n=0;e.shiftKey&&(s=0,n=-1),a===s&&(t.eq(n)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",n).on("touchend",".mbsc-fr-btn-e",i),L.addEventListener("touchstart",function(){Q||(Q=!0,_.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),se.each(Y,function(e,t){ne.tap(se(".mbsc-fr-btn"+e,D),function(e){t=l(t)?ne.buttons[t]:t,(l(t.handler)?ne.handlers[t.handler]:t.handler).call(this,e,ne)},!0)}),ne._attachEvents(D),ne.position()!==!1&&(X=C(L,f),E&&(D.removeClass("mbsc-fr-pos"),H&&!e?D.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+H).on(ue,a).find(".mbsc-fr-popup").addClass("mbsc-anim-"+H):c(t)),ee("onShow",{target:L,valueText:ne._tempValue}))}function p(e,t){ne._isVisible||(e&&e(),ne.show()!==!1&&(ge=t))}function v(){ne._fillValue(),ee("onSet",{valueText:ne._value})}function g(){ee("onCancel",{valueText:ne._value})}function y(){ne.setVal(null,!0)}var _,w,x,D,M,T,k,V,S,Y,A,P,H,W,E,F,I,L,N,O,R,q,X,z,j,U,B,G,J,Z,K,Q,ee,te,ae,ne=this,ie=se(e),re=[],le=new Date;ce.call(this,e,t,!0),ne.position=function(e){var t,a,s,n,i,r,l,c,d,u,m,f,h,b,p,v,g,y,w,x={},C=0,M=0,Y=0,A=0;if(!F)return!1;if(v=te,p=ae,h=L.offsetHeight,b=L.offsetWidth,b&&h&&(te!==b||ae!==h||!e)){if(ne._checkResp(b))return!1;if(te=b,ae=h,ne._isFullScreen||/top|bottom/.test(G.display)?k.width(b):E&&S.width(""),ne._position(D),!ne._isFullScreen&&/center|bubble/.test(G.display)&&(se(".mbsc-w-p",D).each(function(){g=this.getBoundingClientRect().width,A+=g,Y=g>Y?g:Y}),f=A>b-16||G.tabs===!0,S.css({width:ne._isLiquid?Math.min(G.maxPopupWidth,b-16):Math.ceil(f?Y:A),"white-space":f?"":"nowrap"})),ee("onPosition",{target:L,popup:j,hasTabs:f,oldWidth:v,oldHeight:p,windowWidth:b,windowHeight:h})!==!1&&E)return R&&(C=V.scrollLeft(),M=V.scrollTop(),te&&T.css({width:"",height:""})),N=j.offsetWidth,O=j.offsetHeight,Z=O<=h&&N<=b,"center"==G.display?(w=Math.max(0,C+(b-N)/2),y=Math.max(0,M+(h-O)/2)):"bubble"==G.display?(t=void 0===G.anchor?ie:se(G.anchor),l=se(".mbsc-fr-arr-i",D)[0],n=t.offset(),i=n.top+(W?M-_.offset().top:0),r=n.left+(W?C-_.offset().left:0),a=t[0].offsetWidth,s=t[0].offsetHeight,c=l.offsetWidth,d=l.offsetHeight,w=o(r-(N-a)/2,C+3,C+b-N-3),y=i+s+d/2,y+O+8>M+h&&i-O-d/2>M?(k.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),y=i-O-d/2):k.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),se(".mbsc-fr-arr",D).css({left:o(r+a/2-(w+(N-c)/2),0,c)}),Z=y>M&&w>C&&y+O<=M+h&&w+N<=C+b):(w=C,y="top"==G.display?M:Math.max(0,M+h-O)),R&&(u=Math.max(y+O,W?P.scrollHeight:se(document).height()),m=Math.max(w+N,W?P.scrollWidth:se(document).width()),T.css({width:m,height:u}),G.scroll&&"bubble"==G.display&&(y+O+8>M+h||i>M+h||i+s<M)&&V.scrollTop(Math.min(i,y+O-h+8,u-h))),x.top=Math.floor(y),x.left=Math.floor(w),k.css(x),!0}},ne.attachShow=function(e,t){var a,s=se(e).off(".mbsc"),n=s.prop("readonly");"inline"!==G.display&&((G.showOnFocus||G.showOnTap)&&s.is("input,select")&&(s.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){ne._isVisible&&this.blur()}),a=se('label[for="'+s.attr("id")+'"]'),a.length||(a=s.closest("label"))),s.is("select")||(G.showOnFocus&&s.on("focus.mbsc",function(){ye?ye=!1:p(t,s)}),G.showOnTap&&(s.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),p(t,s))}),ne.tap(s,function(e){e.isMbscTap&&(Q=!0),p(t,s)}),a&&a.length&&ne.tap(a,function(e){e.target!==s[0]&&p(t,s)}))),re.push({readOnly:n,el:s,lbl:a}))},ne.select=function(){E?ne.hide(!1,"set",!1,v):v()},ne.cancel=function(){E?ne.hide(!1,"cancel",!1,g):g()},ne.clear=function(){ne._clearValue(),ee("onClear"),E&&ne._isVisible&&!ne.live?ne.hide(!1,"clear",!1,y):y()},ne.enable=function(){G.disabled=!1,se.each(re,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},ne.disable=function(){G.disabled=!0,se.each(re,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},ne.show=function(e,t){var a,s;if(!G.disabled&&!ne._isVisible){if(ne._readValue(),ee("onBeforeShow")===!1)return!1;if(ge=null,H=G.animate,Y=G.buttons||[],R=W||"bubble"==G.display,q=Ce&&!R&&G.scrollLock,a=Y.length>0,H!==!1&&("top"==G.display?H=H||"slidedown":"bottom"==G.display?H=H||"slideup":"center"!=G.display&&"bubble"!=G.display||(H=H||"pop")),E&&(K=Math.max(0,V.scrollTop()),J=Math.max(0,V.scrollLeft()),te=0,ae=0,q&&!x.hasClass("mbsc-fr-lock-ios")&&_.css({top:-K+"px",left:-J+"px"}),x.addClass((G.scrollLock?"mbsc-fr-lock":"")+(q?" mbsc-fr-lock-ios":"")+(W?" mbsc-fr-lock-ctx":"")),se(document.activeElement).is("input,textarea")&&document.activeElement.blur(),B=$.activeInstance,$.activeInstance=ne,P.mbscModals=P.mbscModals||0,P.mbscLock=P.mbscLock||0,P.mbscModals++,G.scrollLock&&P.mbscLock++),s='<div lang="'+G.lang+'" class="mbsc-fr mbsc-'+G.theme+(G.baseTheme?" mbsc-"+G.baseTheme:"")+" mbsc-fr-"+G.display+" "+(G.cssClass||"")+" "+(G.compClass||"")+(ne._isLiquid?" mbsc-fr-liq":"")+(E?" mbsc-fr-pos":"")+(I?" mbsc-fr-pointer":"")+(Ve?" mbsc-fr-hb":"")+(Q?"":" mbsc-no-touch")+(q?" mbsc-platform-ios":"")+(a?Y.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(E?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(G.rtl?" mbsc-rtl":" mbsc-ltr")+(G.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===G.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(E?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(G.headerText?'<div class="mbsc-fr-hdr">'+(l(G.headerText)?G.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',s+=ne._generateContent(),s+="</div>",a){var n,i,o,c=Y.length;for(s+='<div class="mbsc-fr-btn-cont">',i=0;i<Y.length;i++)o=G.btnReverse?c-i-1:i,n=Y[o],n=l(n)?ne.buttons[n]:n,"set"===n.handler&&(n.parentClass="mbsc-fr-btn-s"),"cancel"===n.handler&&(n.parentClass="mbsc-fr-btn-c"),s+="<div"+(G.btnWidth?' style="width:'+100/Y.length+'%"':"")+' class="mbsc-fr-btn-w '+(n.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+o+" mbsc-fr-btn-e "+(void 0===n.cssClass?G.btnClass:n.cssClass)+(n.icon?" mbsc-ic mbsc-ic-"+n.icon:"")+'">'+(n.text||"")+"</div></div>";s+="</div>"}if(s+="</div></div></div></div>"+(E?"</div></div>":""),D=se(s),T=se(".mbsc-fr-persp",D),M=se(".mbsc-fr-scroll",D),S=se(".mbsc-fr-w",D),k=se(".mbsc-fr-popup",D),w=se(".mbsc-fr-hdr",D),L=D[0],z=M[0],j=k[0],ne._activeElm=se(".mbsc-fr-focus",D)[0],ne._markup=D,ne._isVisible=!0,ne.markup=L,ne._markupReady(D),ee("onMarkupReady",{target:L}),E&&(se(window).on("keydown",r),G.scrollLock&&D.on("touchmove mousewheel wheel",function(e){Z&&e.preventDefault()}),G.focusTrap&&V.on("focusin",h),G.closeOnOverlayTap)){var d,f,p,v;M.on("touchstart mousedown",function(e){f||e.target!=z||(f=!0,d=!1,p=m(e,"X"),v=m(e,"Y"))}).on("touchmove mousemove",function(e){f&&!d&&(Math.abs(m(e,"X")-p)>9||Math.abs(m(e,"Y")-v)>9)&&(d=!0)}).on("touchcancel",function(){f=!1}).on("touchend click",function(e){f&&!d&&(ne.cancel(),"touchend"==e.type&&u()),f=!1})}E&&q?setTimeout(function(){b(e,t)},100):b(e,t)}},ne.hide=function(e,t,a,s){function n(){D.off(ue,n),d(e)}return!(!ne._isVisible||!a&&!ne._isValid&&"set"==t||!a&&ee("onBeforeClose",{valueText:ne._tempValue,button:t})===!1)&&(ne._isVisible=!1,X&&(X.detach(),X=null),E&&(se(document.activeElement).is("input,textarea")&&j.contains(document.activeElement)&&document.activeElement.blur(),$.activeInstance==ne&&($.activeInstance=B),se(window).off("keydown",r),V.off("focusin",h)),D&&(E&&H&&!e?D.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+H).on(ue,n).find(".mbsc-fr-popup").addClass("mbsc-anim-"+H):d(e),ne._detachEvents(D)),s&&s(),ie.trigger("blur"),void ee("onClose",{valueText:ne._value}))},ne.isVisible=function(){return ne._isVisible},ne.setVal=s,ne.getVal=s,ne._generateContent=s,ne._attachEvents=s,ne._detachEvents=s,ne._readValue=s,ne._clearValue=s,ne._fillValue=s,ne._markupReady=s,ne._markupInserted=s,ne._markupRemove=s,ne._position=s,ne.__processSettings=s,ne.__init=s,ne.__destroy=s,ne._destroy=function(){ne.hide(!0,!1,!0),ie.off(".mbsc"),se.each(re,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),ne.__destroy()},ne._updateHeader=function(){var t=G.headerText,a=t?"function"==typeof t?t.call(e,ne._tempValue):t.replace(/\{value\}/i,ne._tempValue):"";w.html(a||"&nbsp;")},ne._processSettings=function(e){var a,s;for(ne.__processSettings(e),I=!G.touchUi,I&&(G.display=e.display||t.display||"bubble",G.buttons=e.buttons||t.buttons||[]),G.buttons=G.buttons||("inline"!==G.display?["cancel","set"]:[]),G.headerText=void 0===G.headerText?"inline"!==G.display&&"{value}":G.headerText,Y=G.buttons||[],E="inline"!==G.display,W="body"!=G.context,_=se(G.context),x=W?_:se("body,html"),P=_[0],ne._$window=V=se(W?G.context:window),ne.live=!0,s=0;s<Y.length;s++)a=Y[s],"ok"!=a&&"set"!=a&&"set"!=a.handler||(ne.live=!1);ne.buttons.set={text:G.setText,icon:G.setIcon,handler:"set"},ne.buttons.cancel={text:G.cancelText,icon:G.cancelIcon,handler:"cancel"},ne.buttons.close={text:G.closeText,icon:G.closeIcon,handler:"cancel"},ne.buttons.clear={text:G.clearText,icon:G.clearIcon,handler:"clear"},ne._isInput=ie.is("input")},ne._init=function(e){var t=ne._isVisible,a=t&&!D.hasClass("mbsc-fr-pos");t&&ne.hide(!0,!1,!0),ie.off(".mbsc"),ne.__init(e),ne._isLiquid="liquid"==G.layout,E?(ne._readValue(),ne._hasContent||G.skipShow||ne.attachShow(ie),t&&ne.show(a)):ne.show(),ie.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){ne._preventChange||ne.setVal(ie.val(),!0,!1),ne._preventChange=!1})},ne.buttons={},ne.handlers={set:ne.select,cancel:ne.cancel,clear:ne.clear},ne._value=null,ne._isValid=!0,ne._isVisible=!1,G=ne.settings,ee=ne.trigger,a||ne.init()};He.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Me||Te,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!ke},re.Frame=He,De.frame.mobiscroll={headerText:!1,btnWidth:!1},De.scroller.mobiscroll=oe({},De.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),B&&se(window).on("focus",function(){ge&&(ye=!0)});/* eslint-disable no-unused-vars */
var We="ios"==q,Ee=function(e,t,a){function s(e){he("onStart",{domEvent:e}),we.stopProp&&e.stopPropagation(),we.prevDef&&e.preventDefault(),we.readonly||we.lock&&O||_(e,this)&&!N&&(y&&y.removeClass("mbsc-active"),E=!1,O||(y=se(e.target).closest(".mbsc-btn-e",this),y.length&&!y.hasClass("mbsc-disabled")&&(E=!0,C=setTimeout(function(){y.addClass("mbsc-active")},100))),N=!0,G=!1,R=!1,ge.scrolled=O,re=m(e,"X"),le=m(e,"Y"),P=re,T=0,k=0,V=0,ie=new Date,ne=+w(de,be)||0,O&&g(ne,We?0:1),"mousedown"===e.type&&se(document).on("mousemove",n).on("mouseup",c))}function n(e){N&&(we.stopProp&&e.stopPropagation(),P=m(e,"X"),H=m(e,"Y"),T=P-re,k=H-le,V=be?k:T,E&&(Math.abs(k)>we.thresholdY||Math.abs(T)>we.thresholdX)&&(clearTimeout(C),y.removeClass("mbsc-active"),E=!1),(ge.scrolled||!R&&Math.abs(V)>me)&&(G||he("onGestureStart",W),ge.scrolled=G=!0,X||(X=!0,q=K(i))),be||we.scrollLock?e.preventDefault():ge.scrolled?e.preventDefault():Math.abs(k)>7&&(R=!0,ge.scrolled=!0,c()))}function i(){I&&(V=o(V,-te*I,te*I)),g(o(ne+V,L-A,$+A)),X=!1}function c(e){if(N){var t,a=new Date-ie;we.stopProp&&e&&e.stopPropagation(),Q(q),X=!1,!R&&ge.scrolled&&(we.momentum&&a<300&&(t=V/a,V=Math.max(Math.abs(V),t*t/we.speedUnit)*(V<0?-1:1)),v(V)),E&&(clearTimeout(C),y.addClass("mbsc-active"),setTimeout(function(){y.removeClass("mbsc-active")},100),R||ge.scrolled||he("onBtnTap",{target:y[0],domEvent:e})),e&&"mouseup"==e.type&&se(document).off("mousemove",n).off("mouseup",c),N=!1}}function d(e){if(e=e.originalEvent||e,V=be?void 0==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,he("onStart",{domEvent:e}),we.stopProp&&e.stopPropagation(),V){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(V*=15),V=o(-V,-Z,Z),ne=ve,we.readonly)return;if(G||p(),ne+V<L&&(ne=L,V=0),ne+V>$&&(ne=$,V=0),X||(X=!0,q=K(i)),!V&&G)return;G=!0,clearTimeout(J),J=setTimeout(function(){Q(q),X=!1,G=!1,v(V)},200)}}function u(e){he("onStart",{domEvent:e}),we.readonly||(e.stopPropagation(),ne=ve,G=!1,e.target==z?(le=m(e,"Y",!0),se(document).on("mousemove",f).on("mouseup",h)):(le=x.offset().top,f(e),h()))}function f(e){var t=(m(e,"Y",!0)-le)/M;F?(V=-(I*te*2+M)*t,V=o(V,-te*I,te*I)):V=(L-$-M)*t,G||p(),G=!0,g(o(ne+V,L-A,$+A))}function h(){ne=ve,v(0),se(document).off("mousemove",f).off("mouseup",h)}function b(e){e.stopPropagation()}function p(){W={posX:be?0:ve,posY:be?ve:0,originX:be?0:ne,originY:be?ne:0,direction:V>0?be?270:360:be?90:180},he("onGestureStart",W)}function v(e){var t,a,s;if(I&&(e=o(e,-te*I,te*I)),s=o(Math.round((ne+e)/te)*te,L,$),ae){if(e<0){for(t=ae.length-1;t>=0;t--)if(Math.abs(s)+M>=ae[t].breakpoint){ye=t,_e=2,s=ae[t].snap2;break}}else if(e>=0)for(t=0;t<ae.length;t++)if(Math.abs(s)<=ae[t].breakpoint){ye=t,_e=1,s=ae[t].snap1;break}s=o(s,L,$)}a=we.time||(ve<L||ve>$?1e3:Math.max(1e3,Math.abs(s-ve)*we.timeUnit)),W.destinationX=be?0:s,W.destinationY=be?s:0,W.duration=a,W.transitionTiming=Y,he("onGestureEnd",W),ge.scroll(s,a)}function g(e,t,a,s){var n,i=e!=ve,r=t>1,l=t?fe+"transform "+Math.round(t)+"ms "+Y:"",o=function(){clearInterval(ee),clearTimeout(ue),O=!1,ve=e,W.posX=be?0:e,W.posY=be?e:0,i&&he("onMove",W),r&&he("onAnimationEnd",W),s&&s()};W={posX:be?0:ve,posY:be?ve:0,originX:be?0:ne,originY:be?ne:0,direction:e-ve>0?be?270:360:be?90:180},ve=e,r&&(W.destinationX=be?0:e,W.destinationY=be?e:0,W.duration=t,W.transitionTiming=Y,he("onAnimationStart",W)),oe[pe+"Transition"]=l,oe[pe+"Transform"]="translate3d("+(be?"0,"+e+"px,":e+"px,0,")+"0)",z&&j&&(n=F?(U-e)/(I*te*2):(e-$)/(L-$),z.style[pe+"Transition"]=l,z.style[pe+"Transform"]="translate3d(0,"+Math.max(0,Math.min((M-j)*n,M-j))+"px,0)"),!i&&!O||!t||t<=1?o():t&&(O=!a,clearInterval(ee),ee=setInterval(function(){var t=+w(de,be)||0;W.posX=be?0:t,W.posY=be?t:0,he("onMove",W),Math.abs(t-e)<2&&o()},100),clearTimeout(ue),ue=setTimeout(function(){o()},t)),we.sync&&we.sync(e,t,Y)}var y,x,D,C,M,T,k,V,S,Y,A,P,H,W,E,F,$,I,L,N,O,R,q,X,z,j,U,B,G,J,Z,ee,te,ae,ne,ie,re,le,oe,de,ue,me,he,be,ve,ge=this,ye=0,_e=1,we=t,xe=se(e);ce.call(this,e,t,!0),ge.scrolled=!1,ge.scroll=function(t,a,s,n){t=r(t)?Math.round(t/te)*te:Math.ceil((se(t,e).length?Math.round(de.offset()[S]-se(t,e).offset()[S]):ve)/te)*te,t=o(t,L,$),ye=Math.round(t/te),ne=ve,U=I*te+t,g(t,a,s,n)},ge.refresh=function(e){var t;for(M=void 0===we.contSize?be?xe.height():xe.width():we.contSize,$=void 0===we.maxScroll?0:we.maxScroll,L=Math.min($,void 0===we.minScroll?Math.min(0,be?M-de.height():M-de.width()):we.minScroll),ae=null,!be&&we.rtl&&(t=$,$=-L,L=-t),l(we.snap)&&(ae=[],de.find(we.snap).each(function(){var e=be?this.offsetTop:this.offsetLeft,t=be?this.offsetHeight:this.offsetWidth;ae.push({breakpoint:e+t/2,snap1:-e,snap2:M-e-t})})),te=r(we.snap)?we.snap:1,I=we.snap?we.maxSnapScroll:0,Y=we.easing,A=we.elastic?r(we.snap)?te:r(we.elastic)?we.elastic:0:0,Z=te;Z>44;)Z/=2;Z=Math.round(44/Z)*Z,z&&(F=L==-(1/0)||$==1/0,j=L<$?Math.max(20,M*M/($-L+M)):0,z.style.height=j+"px",B.style.height=j?"":0),void 0===ve&&(ve=we.initialPos,ye=Math.round(ve/te)),e||ge.scroll(we.snap?ae?ae[ye]["snap"+_e]:ye*te:ve)},ge._processSettings=function(){be="Y"==we.axis,S=be?"top":"left",de=we.moveElement||xe.children().eq(0),oe=de[0].style,me=be?we.thresholdY:we.thresholdX,we.scrollbar&&(D=we.scrollbar,x=D.find(".mbsc-sc-bar"),z=x[0],B=D[0])},ge._init=function(){ge.refresh(),xe.on("touchstart mousedown",s).on("touchmove",n).on("touchend touchcancel",c),we.mousewheel&&xe.on("wheel mousewheel",d),z&&D.on("mousedown",u).on("click",b),e.addEventListener&&e.addEventListener("click",function(e){ge.scrolled&&(ge.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},ge._destroy=function(){clearInterval(ee),xe.off("touchstart mousedown",s).off("touchmove",n).off("touchend touchcancel",c).off("wheel mousewheel",d),z&&D.off("mousedown",u).off("click",b)},we=ge.settings,he=ge.trigger,a||ge.init()};Ee.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};/* eslint-disable no-unused-vars */
var Fe={},$e=B?window.CSS:null,Ie=$e&&$e.supports&&$e.supports("(transform-style: preserve-3d)"),Le=function(e,t,a){function s(e){var t,a,s=+se(this).attr("data-index");38==e.keyCode?(t=!0,a=-1):40==e.keyCode?(t=!0,a=1):32==e.keyCode&&(t=!0,l(s,se(e.target))),t&&(e.stopPropagation(),e.preventDefault(),a&&H.start(s,a,e))}function i(){H.stop()}function l(e,t){var a=R[e],s=+t.attr("data-index"),i=b(a,s),l=j._tempSelected[e],o=r(a.multiple)?a.multiple:1/0;N("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(a.multiple&&!a._disabled[i]&&(void 0!==l[i]?(t.removeClass(A).removeAttr("aria-selected"),delete l[i]):(1==o&&(j._tempSelected[e]=l={},a._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected")),n(l).length<o&&(t.addClass(A).attr("aria-selected","true"),l[i]=i))),C(a,e,s,z,a._index<s?1:2,!0,a.multiple),j.live&&(!a.multiple||1===a.multiple&&L.tapSelect)&&(L.setOnTap===!0||L.setOnTap[e])&&setTimeout(function(){j.select()},L.tapSelect?0:200))}function o(e,t){var a=R[e];return a&&(!a.multiple||1!==a.multiple&&t&&(L.setOnTap===!0||L.setOnTap[e]))}function c(e){return-(e.max-e._offset-(e.multiple&&!Y?Math.floor(L.rows/2):0))*E}function d(e){return-(e.min-e._offset+(e.multiple&&!Y?Math.floor(L.rows/2):0))*E}function u(e,t){return(e._array?e._map[t]:+e.getIndex(t,j))||0}function m(e,t){var a=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?se(a).get(t%e._length):a[t]:se.isFunction(a)?a(t,j):""}function f(e){return se.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function h(e){var t=se.isPlainObject(e)?e.display:e;return void 0===t?"":t}function b(e,t){return f(m(e,t))}function p(e,t,a){var s=R[e];C(s,e,s._index+t,L.delay+100,1==t?1:2,!1,!1,"keydown"==a.type)}function v(e){return se.isArray(L.readonly)?L.readonly[e]:L.readonly}function g(e,t,a){var s=e._index-e._batch;return e.data=e.data||[],e.key=void 0!==e.key?e.key:t,e.label=void 0!==e.label?e.label:t,e._map={},e._array=se.isArray(e.data),e._array&&(e._length=e.data.length,se.each(e.data,function(t,a){e._map[f(a)]=t})),e.circular=void 0===L.circular?void 0===e.circular?e._array&&e._length>L.rows:e.circular:se.isArray(L.circular)?L.circular[t]:L.circular,e.min=e._array?e.circular?-(1/0):0:void 0===e.min?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:void 0===e.max?1/0:e.max,e._nr=t,e._index=u(e,W[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-X,e._last=e._index+X,e._offset=e._first,a?(e._offset-=e._margin/E+(e._index-s),e._margin+=(e._index-s)*E):e._margin=0,e._refresh=function(t){oe(e._scroller.settings,{minScroll:c(e),maxScroll:d(e)}),e._scroller.refresh(t)},q[e.key]=e,e}function y(e,t,a,s,n){var i,r,l,o,c,d,u,b,p="",v=j._tempSelected[t],g=e._disabled||{};for(i=a;i<=s;i++)l=m(e,i),c=h(l),o=f(l),r=l&&void 0!==l.cssClass?l.cssClass:"",d=l&&void 0!==l.label?l.label:"",u=l&&l.invalid,b=void 0!==o&&o==W[t]&&!e.multiple,p+='<div role="option" tabindex="-1" aria-selected="'+!!v[o]+'" class="mbsc-sc-itm '+(n?"mbsc-sc-itm-3d ":"")+r+" "+(b?"mbsc-sc-itm-sel ":"")+(v[o]?A:"")+(void 0===o?" mbsc-sc-itm-ph":" mbsc-btn-e")+(u?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(g[o]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+i+'" data-val="'+M(o)+'"'+(d?' aria-label="'+d+'"':"")+(b?' aria-selected="true"':"")+' style="height:'+E+"px;line-height:"+E+"px;"+(n?fe+"transform:rotateX("+(e._offset-i)*S%360+"deg) translateZ("+E*L.rows/2+"px);":"")+'">'+(O>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(E/O)+"px;font-size:"+Math.round(E/O*.8)+'px;">':"")+c+(O>1?"</div>":"")+"</div>";return p}function _(e,t,a){var s=Math.round(-a/E)+e._offset,n=s-e._current,i=e._first,r=e._last,l=i+X-V+1,o=r-X+V;n&&(e._first+=n,e._last+=n,e._current=s,n>0?(e._$scroller.append(y(e,t,Math.max(r+1,i+n),r+n)),se(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,r-i+1)).remove(),Y&&(e._$3d.append(y(e,t,Math.max(o+1,l+n),o+n,!0)),se(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,o-l+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(y(e,t,i+n,Math.min(i-1,r+n))),se(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,i-r-1)).remove(),Y&&(e._$3d.prepend(y(e,t,l+n,Math.min(l-1,o+n),!0)),se(".mbsc-sc-itm",e._$3d).slice(Math.max(n,l-o-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*E,e._$scroller.css("margin-top",e._margin+"px"))}function w(e,t,a,s){var n,i=R[e],r=s||i._disabled,l=u(i,t),o=b(i,l),c=o,d=o,m=0,f=0;if(r[o]===!0){for(n=0;l-m>=i.min&&r[c]&&n<100;)n++,m++,c=b(i,l-m);for(n=0;l+f<i.max&&r[d]&&n<100;)n++,f++,d=b(i,l+f);o=(f<m&&f&&2!==a||!m||l-m<0||1==a)&&!r[d]?d:c}return o}function x(t,a,s,n,i,r,l){var c,d,m,f,h=j._isVisible;I=!0,f=L.validate.call(e,{values:W.slice(0),index:a,direction:s},j)||{},I=!1,f.valid&&(j._tempWheelArray=W=f.valid.slice(0)),r||se.each(R,function(e,n){if(h&&n._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),n._disabled={},f.disabled&&f.disabled[e]&&se.each(f.disabled[e],function(e,t){n._disabled[t]=!0,h&&n._$markup.find('.mbsc-sc-itm[data-val="'+M(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),W[e]=n.multiple?W[e]:w(e,W[e],s),h){if(n.multiple&&void 0!==a||n._$markup.find(".mbsc-sc-itm-sel").removeClass(A).removeAttr("aria-selected"),d=u(n,W[e]),c=d-n._index+n._batch,Math.abs(c)>2*X+1&&(m=c+(2*X+1)*(c>0?-1:1),n._offset+=m,n._margin-=m*E,n._refresh()),n._index=d+n._batch,n.multiple){if(void 0===a)for(var r in j._tempSelected[e])n._$markup.find('.mbsc-sc-itm[data-val="'+M(r)+'"]').addClass(A).attr("aria-selected","true")}else n._$markup.find('.mbsc-sc-itm[data-val="'+M(W[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");n._$active&&n._$active.attr("tabindex",-1),n._$active=n._$markup.find('.mbsc-sc-itm[data-index="'+n._index+'"]').eq(Y&&n.multiple?1:0).attr("tabindex",0),l&&a===e&&n._$active.length&&(n._$active[0].focus(),n._$scroller.parent().scrollTop(0)),n._scroller.scroll(-(d-n._offset+n._batch)*E,a===e||void 0===a?t:z,i)}}),N("onValidated",{index:a,time:t}),j._tempValue=L.formatValue.call(e,W,j),h&&j._updateHeader(),j.live&&o(a,r)&&(j._hasValue=n||j._hasValue,T(n,n,0,!0),n&&N("onSet",{valueText:j._value})),n&&N("onChange",{index:a,valueText:j._tempValue})}function C(e,t,a,s,n,i,r,l){var o=b(e,a);void 0!==o&&(W[t]=o,e._batch=e._array?Math.floor(a/e._length)*e._length:0,e._index=a,setTimeout(function(){x(s,t,n,!0,i,r,l)},10))}function T(t,a,s,n,i){if(n?j._tempValue=L.formatValue.call(e,j._tempWheelArray,j):x(s),!i){j._wheelArray=[];for(var r=0;r<W.length;r++)j._wheelArray[r]=R[r]&&R[r].multiple?Object.keys(j._tempSelected[r]||{})[0]:W[r];j._value=j._hasValue?j._tempValue:null,j._selected=oe(!0,{},j._tempSelected)}t&&(j._isInput&&U.val(j._hasValue?j._tempValue:""),N("onFill",{valueText:j._hasValue?j._tempValue:"",change:a}),a&&(j._preventChange=!0,U.trigger("change")))}var k,V,S,Y,A,P,H,W,E,F,$,I,L,N,O,R,q,X=40,z=1e3,j=this,U=se(e);He.call(this,e,t,!0),j.setVal=j._setVal=function(t,a,s,n,i){j._hasValue=null!==t&&void 0!==t,j._tempWheelArray=W=se.isArray(t)?t.slice(0):L.parseValue.call(e,t,j)||[],T(a,void 0===s?a:s,i,!1,n)},j.getVal=j._getVal=function(e){var t=j._hasValue||e?j[e?"_tempValue":"_value"]:null;return r(t)?+t:t},j.setArrayVal=j.setVal,j.getArrayVal=function(e){return e?j._tempWheelArray:j._wheelArray},j.changeWheel=function(e,t,a){var s,n;se.each(e,function(e,t){n=q[e],n&&(s=n._nr,oe(n,t),g(n,s,!0),j._isVisible&&(Y&&n._$3d.html(y(n,s,n._first+X-V+1,n._last-X+V,!0)),n._$scroller.html(y(n,s,n._first,n._last)).css("margin-top",n._margin+"px"),n._refresh(I)))}),!j._isVisible||j._isLiquid||I||j.position(),I||x(t,void 0,void 0,a)},j.getValidValue=w,j._generateContent=function(){var e,t=0,a="",s=Y?fe+"transform: translateZ("+(E*L.rows/2+3)+"px);":"",n='<div class="mbsc-sc-whl-l" style="'+s+"height:"+E+"px;margin-top:-"+(E/2+(L.selectedLineBorder||0))+'px;"></div>',i=0;return se.each(L.wheels,function(r,l){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(Y?" mbsc-sc-whl-gr-3d-c":"")+(L.showLabel?" mbsc-sc-lbl-v":"")+'">'+n+'<div class="mbsc-sc-whl-gr'+(Y?" mbsc-sc-whl-gr-3d":"")+(P?" mbsc-sc-cp":"")+(L.width||L.maxWidth?'"':'" style="max-width:'+L.maxPopupWidth+'px;"')+">",se.each(l,function(r,l){j._tempSelected[i]=oe({},j._selected[i]),R[i]=g(l,i),t+=L.maxWidth?L.maxWidth[i]||L.maxWidth:L.width?L.width[i]||L.width:0,e=void 0!==l.label?l.label:r,a+='<div class="mbsc-sc-whl-w '+(l.cssClass||"")+(l.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(L.width?"width:"+(L.width[i]||L.width)+"px;":(L.minWidth?"min-width:"+(L.minWidth[i]||L.minWidth)+"px;":"")+(L.maxWidth?"max-width:"+(L.maxWidth[i]||L.maxWidth)+"px;":""))+'">'+($?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+s+'"></div>'+n+'<div aria-live="off" aria-label="'+e+'"'+(l.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+i+'" class="mbsc-sc-whl" style="height:'+L.rows*E*(Y?1.1:1)+'px;">'+(P?'<div data-index="'+i+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(L.btnPlusClass||"")+'"></div><div data-index="'+i+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(L.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+F+"px;margin-top:-"+(F/2+1)+"px;"+s+'"><div class="mbsc-sc-whl-sc" style="top:'+(F-E)/2+'px;">',a+=y(l,i,l._first,l._last)+"</div></div>",Y&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+E+"px;margin-top:-"+E/2+'px;">',a+=y(l,i,l._first+X-V+1,l._last-X+V,!0),a+="</div>"),a+="</div></div>",i++}),a+="</div></div>"}),t&&(L.maxPopupWidth=t),a},j._attachEvents=function(e){H=D(se(".mbsc-sc-btn",e),p,L.delay,v,!0),se(".mbsc-sc-whl",e).on("keydown",s).on("keyup",i)},j._detachEvents=function(){H.stop();for(var e=0;e<R.length;e++)R[e]._scroller.destroy()},j._markupReady=function(e){k=e,se(".mbsc-sc-whl-w",k).each(function(e){var t,a=se(this),s=R[e];s._$markup=a,s._$scroller=se(".mbsc-sc-whl-sc",this),s._$3d=se(".mbsc-sc-whl-3d",this),s._scroller=new Ee(this,{mousewheel:L.mousewheel,moveElement:s._$scroller,scrollbar:se(".mbsc-sc-bar-c",this),initialPos:(s._first-s._index)*E,contSize:L.rows*E,snap:E,minScroll:c(s),maxScroll:d(s),maxSnapScroll:X,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,a){var n=t?fe+"transform "+Math.round(t)+"ms "+a:"";Y&&(s._$3d[0].style[pe+"Transition"]=n,s._$3d[0].style[pe+"Transform"]="rotateX("+-e/E*S+"deg)")},onStart:function(t,a){a.settings.readonly=v(e)},onGestureStart:function(){a.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),N("onWheelGestureStart",{index:e})},onGestureEnd:function(a){var n=90==a.direction?1:2,i=a.duration,r=a.destinationY;t=Math.round(-r/E)+s._offset,C(s,e,t,i,n)},onAnimationStart:function(){a.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){a.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),N("onWheelAnimationEnd",{index:e}),s._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){_(s,e,t.posY)},onBtnTap:function(t){l(e,se(t.target))}})}),x()},j._fillValue=function(){j._hasValue=!0,T(!0,!0,0,!0)},j._clearValue=function(){se(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass(A).removeAttr("aria-selected")},j._readValue=function(){var t=U.val()||"",a=0;""!==t&&(j._hasValue=!0),j._tempWheelArray=W=j._hasValue&&j._wheelArray?j._wheelArray.slice(0):L.parseValue.call(e,t,j)||[],j._tempSelected=oe(!0,{},j._selected),se.each(L.wheels,function(e,t){se.each(t,function(e,t){R[a]=g(t,a),a++})}),T(!1,!1,0,!0),N("onRead")},j.__processSettings=function(e){L=j.settings,N=j.trigger,O=L.multiline,A="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+L.checkIcon,$=!L.touchUi,$&&(L.tapSelect=!0,L.circular=!1,L.rows=e.rows||t.rows||7)},j.__init=function(e){e&&(j._wheelArray=null),R=[],q={},P=L.showScrollArrows,Y=L.scroll3d&&Ie&&!P&&!$&&("ios"==L.theme||"ios"==L.baseTheme),E=L.height,F=Y?2*Math.round((E-.03*(E*L.rows/2+3))/2):E,V=Math.round(1.8*L.rows),S=360/(2*V),P&&(L.rows=Math.max(3,L.rows))},j._getItemValue=f,j._tempSelected={},j._selected={},a||j.init()};Le.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:Fe,_defaults:oe({},He.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var a,s,n=[],i=[],r=0;return null!==e&&void 0!==e&&(n=(e+"").split(" ")),se.each(t.settings.wheels,function(e,l){se.each(l,function(e,l){s=l.data,a=t._getItemValue(s[0]),se.each(s,function(e,s){if(n[r]==t._getItemValue(s))return a=t._getItemValue(s),!1}),i.push(a),r++})}),i}})},re.Scroller=Le;var Ne={inputClass:"",rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};Fe.select=function(e,t){function a(e){var t,a,s,n,i,r,l=0,o=0,c={};if(U={},Y={},W=[],V=[],de.length=0,ae)se.each(C,function(l,d){i=d[X.dataText]+"",a=d[X.dataHtml],r=d[X.dataValue],s=d[X.dataGroup],n={value:r,html:a,text:i,index:l,cssClass:le?"mbsc-sel-gr-itm":""},U[r]=n,e&&!g(i,e)||(W.push(n),ne&&(void 0===c[s]?(t={text:s,value:o,options:[],index:o},Y[o]=t,c[s]=o,V.push(t),o++):t=Y[c[s]],re&&(n.index=t.options.length),n.group=c[s],t.options.push(n)),d[X.dataDisabled]&&de.push(r))});else if(ne){var d=!0;se("optgroup",R).each(function(t){Y[t]={text:this.label,value:t,options:[],index:t},d=!0,se("option",this).each(function(a){n={value:this.value,text:this.text,index:re?a:l++,group:t,cssClass:le?"mbsc-sel-gr-itm":""},U[this.value]=n,e&&!g(this.text,e)||(d&&(V.push(Y[t]),d=!1),W.push(n),Y[t].options.push(n),this.disabled&&de.push(this.value))})})}else se("option",R).each(function(t){n={value:this.value,text:this.text,index:t},U[this.value]=n,e&&!g(this.text,e)||(W.push(n),this.disabled&&de.push(this.value))});I=X.defaultValue?X.defaultValue:W.length?W[0].value:"",le&&(W=[],l=0,se.each(Y,function(e,t){t.options.length&&(r="__group"+e,n={text:t.text,value:r,group:e,index:l++,cssClass:"mbsc-sel-gr"},U[r]=n,W.push(n),de.push(n.value),se.each(t.options,function(e,t){t.index=l++,W.push(t)}))})),z&&(W.length?z.removeClass("mbsc-sel-empty-v"):z.addClass("mbsc-sel-empty-v"))}function o(e,t,a,s,n){var i,r=[];for(i=0;i<e.length;i++)r.push({value:e[i].value,display:e[i].html||e[i].text,cssClass:e[i].cssClass});return{circular:!1,multiple:t&&!s?1:s,cssClass:(t&&!s?"mbsc-sel-one":"")+" "+n,data:r,label:a}}function c(){return o(V,Z,X.groupLabel,!1,"mbsc-sel-gr-whl")}function d(){return o(re&&Y[k]?Y[k].options:W,Z,ee,J,"")}function u(){var e=[[]];return ie&&(S=c(),G?e[0][A]=S:e[A]=[S]),E=d(),G?e[0][F]=E:e[F]=[E],e}function m(e){J&&(e&&l(e)&&(e=e.split(",")),se.isArray(e)&&(e=e[0])),H=void 0===e||null===e||""===e?I:e,!U[H]&&W&&W.length&&(H=W[0].value),ie&&(k=U[H]?U[H].group:null)}function f(e){return L[e]||(U[e]?U[e].text:"")}function h(e,t,a){var s,n,i=[],r=a?t._selected:t._tempSelected;if(Z){for(s in r[F])i.push(f(s));return i.join(", ")}return n=e[F],f(n)}function b(){var t,a="",s=e.getVal(),n=X.formatValue.call(O,e.getArrayVal(),e,!0);if(X.filter&&"inline"==X.display||D.val(n),R.is("select")&&ae){if(J)for(t=0;t<s.length;t++)a+='<option value="'+s[t]+'">'+f(s[t])+"</option>";else a='<option value="'+(null===s?"":s)+'">'+n+"</option>";R.html(a)}O!==D[0]&&R.val(s)}function p(){var t={};t[F]=d(),$=!0,e.changeWheel(t)}function g(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function y(e){return X.data.dataField?e[X.data.dataField]:X.data.processResponse?X.data.processResponse(e):e}function _(t){var s={};a(t),m(H),X.wheels=u(),s[F]=E,e._tempWheelArray[F]=H,ie&&(s[A]=S,e._tempWheelArray[A]=k),e.changeWheel(s,0,!0),b()}function w(t){return e.trigger("onFilter",{filterText:t})}function x(t){t[A]!=k&&(k=t[A],H=Y[k].options[0].value,t[F]=H,re?p():e.setArrayVal(t,!1,!1,!0,N))}var D,C,M,T,k,V,S,Y,A,P,H,W,E,F,$,I="",L={},N=1e3,O=this,R=se(O),q=oe({},e.settings),X=oe(e.settings,Ne,q),z=se('<div class="mbsc-sel-empty">'+X.filterEmptyText+"</div>"),j=X.readonly,U={},B=X.layout||(/top|bottom|inline/.test(X.display)||X.filter?"liquid":""),G="liquid"==B||!X.touchUi,J=r(X.select)?X.select:"multiple"==X.select||R.prop("multiple"),Z=J||!(!X.filter&&!X.tapSelect)&&1,K=this.id+"_dummy",Q=se('label[for="'+this.id+'"]').attr("for",K),ee=void 0!==X.label?X.label:Q.length?Q.text():R.attr("name"),te=X.group,ae=!!X.data,ne=ae?!!X.group:se("optgroup",R).length,ie=ne&&te&&te.groupWheel!==!1,re=ne&&te&&ie&&te.clustered===!0,le=ne&&(!te||te.header!==!1&&!re),ce=R.val()||(J?[]:[""]),de=[];return e.setVal=function(t,a,s,n,r){if(Z&&(null===t||void 0===t||J||(t=[t]),t&&l(t)&&(t=t.split(",")),e._tempSelected[F]=i(t),n||(e._selected[F]=i(t)),t=t?t[0]:null,ie)){var o=U[t],c=o&&o.group;e._tempSelected[A]=i([c]),n||(e._selected[A]=i([c]))}e._setVal(t,a,s,n,r)},e.getVal=function(t,a){var s;return Z?(s=n(t?e._tempSelected[F]:e._selected[F]),s=J?s:s.length?s[0]:null):(s=t?e._tempWheelArray:e._hasValue?e._wheelArray:null,s=s?s[F]:null),J?s:void 0!==s?ne&&a?[U[s]?U[s].group:null,s]:s:null},e.refresh=function(e,t,a){a=a||s,e?(C=e,P||(X.data=e)):se.isArray(X.data)&&(C=X.data),!e&&P&&void 0===t?v(X.data.url,function(e){C=y(e),_(),a()},X.data.dataType):(_(t),a())},t.invalid||(X.invalid=de),ie?(A=0,F=1):(A=-1,F=0),Z&&(J&&R.prop("multiple",!0),ce&&l(ce)&&(ce=ce.split(",")),e._selected[F]=i(ce)),e._$input&&e._$input.remove(),R.next().is("input.mbsc-control")?D=R.next().removeAttr("tabindex"):X.input?D=se(X.input):(X.filter&&"inline"==X.display?e._$input=se('<div class="mbsc-sel-input-wrap"><input type="text" id="'+K+'" class="mbsc-control '+X.inputClass+'" readonly /></div>'):(D=se('<input type="text" id="'+K+'" class="mbsc-control '+X.inputClass+'" readonly />'),e._$input=D),X.showInput&&(e._$input.insertAfter(R),D||(D=e._$input.find("#"+K)))),e.attachShow(D.attr("placeholder",X.placeholder||"")),D[0]!==O&&R.addClass("mbsc-sel-hdn").attr("tabindex",-1),!Z||X.rows%2||(X.rows=X.rows-1),X.filter&&(M=X.filter.minLength||0),P=X.data&&X.data.url,P?e.refresh():(ae&&(C=X.data),a(),m(R.val())),{layout:B,headerText:!1,anchor:D,compClass:"mbsc-sc mbsc-sel"+(Z?" mbsc-sel-multi":""),setOnTap:!ie||[!1,!0],formatValue:h,tapSelect:Z,parseValue:function(e){return m(void 0===e?R.val():e),ie?[k,H]:[H]},validate:function(e){var t=e.index,a=[];return a[F]=X.invalid,re&&!$&&void 0===t&&p(),$=!1,{disabled:a}},onRead:b,onFill:b,onMarkupReady:function(e,t){if(X.filter){var a,s,n,i=se(".mbsc-fr-w",e.target),r=se('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+X.filterClearIcon+'"></span>');"inline"==X.display?(a=D,D.parent().find(".mbsc-sel-filter-clear").remove()):(i.find(".mbsc-fr-c").before('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input tabindex="0" type="text" class="mbsc-sel-filter-input mbsc-control"/></span></div>'),a=i.find(".mbsc-sel-filter-input")),T=null,n=a[0],a.prop("readonly",!1).attr("placeholder",X.filterPlaceholderText).parent().append(r),i.find(".mbsc-fr-c").prepend(z),t._activeElm=n,t.tap(r,function(){T=null,n.value="",t.refresh(),r.removeClass("mbsc-sel-filter-show-clear"),w("")}),a.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),n.blur())}).on("keyup",function(){clearTimeout(s),n.value.length?r.addClass("mbsc-sel-filter-show-clear"):r.removeClass("mbsc-sel-filter-show-clear"),s=setTimeout(function(){T!==n.value&&w(n.value)!==!1&&(T=n.value,(T.length>=M||!T.length)&&(P&&X.data.remoteFilter?v(X.data.url+encodeURIComponent(T),function(e){t.refresh(y(e))},X.data.dataType):t.refresh(void 0,T)))},500)})}},onBeforeShow:function(){J&&X.counter&&(X.headerText=function(){var t=0;return se.each(e._tempSelected[F],function(){t++}),(t>1?X.selectedPluralText||X.selectedText:X.selectedText).replace(/{count}/,t)}),m(R.val()),Z&&ie&&(e._selected[A]=i([k])),X.filter&&a(void 0),e.settings.wheels=u(),$=!0},onWheelGestureStart:function(e){e.index==A&&(X.readonly=[!1,!0])},onWheelAnimationEnd:function(t){var a=e.getArrayVal(!0);t.index==A?(X.readonly=j,Z||x(a)):t.index==F&&a[F]!=H&&(H=a[F],ie&&U[H]&&U[H].group!=k&&(k=U[H].group,a[A]=k,e._tempSelected[A]=i([k]),e.setArrayVal(a,!1,!1,!0,N)))},onItemTap:function(t){var a;if(t.index==F&&(L[t.value]=U[t.value].text,Z&&!J&&t.selected))return!1;if(t.index==A&&Z){if(t.selected)return!1;a=e.getArrayVal(!0),a[A]=t.value,x(a)}},onClose:function(){P&&X.data.remoteFilter&&T&&e.refresh()},onDestroy:function(){e._$input&&e._$input.remove(),R.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}},a("select",Le);var Oe=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Re=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,qe=/^\d{1,2}(\/\d{1,2})?$/,Xe=/^w\d$/i,ze={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:T,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};I.datetime={formatDate:k,parseDate:V};var je={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"},Ue=function(e){function t(e){var t,a,s,n,i=[];if(e){for(t=0;t<e.length;t++)if(a=e[t],a.start&&a.end&&!Re.test(a.start))for(s=new Date(W(a.start,G,j)),n=new Date(W(a.end,G,j));s<=n;)i.push(T(s.getFullYear(),s.getMonth(),s.getDate())),s.setDate(s.getDate()+1);else i.push(a);return i}return e}function a(e,t,a,s){return Math.min(s,Math.floor(e/t)*t+a)}function s(e,t,a){return Math.floor((a-t)/e)*e+t}function n(e){return j.getYear(e)}function i(e){return j.getMonth(e)}function r(e){return j.getDay(e)}function l(e){var t=e.getHours();return t=le&&t>=12?t-12:t,a(t,ue,be,ge)}function o(e){return a(e.getMinutes(),me,pe,ye)}function d(e){return a(e.getSeconds(),fe,ve,_e)}function u(e){return e.getMilliseconds()}function m(e){return e.getHours()>11?1:0}function f(e){return e.getFullYear()+"-"+c(e.getMonth()+1)+"-"+c(e.getDate())}function h(e){return a(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),E,0,86400)}function b(e,t,a,s){var n;return void 0===I[t]||(n=+e[I[t]],isNaN(n))?a?Me[t](a):void 0!==N[t]?N[t]:Me[t](s):n}function p(e){var t,a=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==I.dd&&(t=e[I.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==I.tt&&(t=t||a,t=new Date(t.getTime()+e[I.tt]%86400*1e3));var s=b(e,"y",t,a),n=b(e,"m",t,a),i=Math.min(b(e,"d",t,a),j.getMaxDayOfMonth(s,n)),r=b(e,"h",t,a);return j.getDate(s,n,i,le&&b(e,"a",t,a)?r+12:r,b(e,"i",t,a),b(e,"s",t,a),b(e,"u",t,a))}function v(e,t){var a,s,n=["y","m","d","a","h","i","s","u","dd","tt"],i=[];if(null===e||void 0===e)return e;for(a=0;a<n.length;a++)s=n[a],void 0!==I[s]&&(i[I[s]]=Me[s](e)),t&&(N[s]=Me[s](e));return i}function g(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function y(e){return{value:e,display:(/yy/i.test(K)?e:(e+"").substr(2,2))+(j.yearSuffix||"")}}function _(e){return e}function w(e){var t=/d/i.test(e);return{label:"",cssClass:"mbsc-dt-whl-date",min:ne?g(f(ne),t):void 0,max:ie?g(f(ie),t):void 0,data:function(a){var s=new Date((new Date).setHours(0,0,0,0)),n=t?new Date(864e5*a):new Date(1970,a,1);return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),{invalid:t&&!S(n,!0),value:f(n),display:s.getTime()==n.getTime()?j.todayText:k(e,n,j)}},getIndex:function(e){return g(e,t)}}}function x(e){var t,a,s,n=[];for(/s/i.test(e)?a=fe:/i/i.test(e)?a=60*me:/h/i.test(e)&&(a=3600*ue),E=De.tt=a,t=0;t<86400;t+=a)s=new Date((new Date).setHours(0,0,0,0)+1e3*t),n.push({value:t,display:k(e,s,j)});return{label:"",cssClass:"mbsc-dt-whl-time",data:n}}function D(){var e,t,a,s,n,i,r,l,o=0,d=[],u=[],m=[];if(/date/i.test(U)){for(e=J.split(/\|/.test(J)?"|":""),s=0;s<e.length;s++)if(a=e[s],i=0,a.length)if(/y/i.test(a)&&(O.y=1,i++),/m/i.test(a)&&(O.y=1,O.m=1,i++),/d/i.test(a)&&(O.y=1,O.m=1,O.d=1,i++),i>1&&void 0===I.dd)I.dd=o,o++,u.push(w(a)),m=u,F=!0;else if(/y/i.test(a)&&void 0===I.y)I.y=o,o++,u.push({cssClass:"mbsc-dt-whl-y",label:j.yearText,min:ne?j.getYear(ne):void 0,max:ie?j.getYear(ie):void 0,data:y,getIndex:_});else if(/m/i.test(a)&&void 0===I.m){for(I.m=o,r=[],o++,n=0;n<12;n++)l=K.replace(/[dy|]/gi,"").replace(/mm/,c(n+1)+(j.monthSuffix||"")).replace(/m/,n+1+(j.monthSuffix||"")),r.push({value:n,display:/MM/.test(l)?l.replace(/MM/,'<span class="mbsc-dt-month">'+j.monthNames[n]+"</span>"):l.replace(/M/,'<span class="mbsc-dt-month">'+j.monthNamesShort[n]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:j.monthText,data:r})}else if(/d/i.test(a)&&void 0===I.d){for(I.d=o,r=[],o++,n=1;n<32;n++)r.push({value:n,display:(/dd/i.test(K)?c(n):n)+(j.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:j.dayText,data:r})}d.push(u)}if(/time/i.test(U)){for(t=Z.split(/\|/.test(Z)?"|":""),s=0;s<t.length;s++)if(a=t[s],i=0,a.length&&(/h/i.test(a)&&(O.h=1,i++),/i/i.test(a)&&(O.i=1,i++),/s/i.test(a)&&(O.s=1,i++),/a/i.test(a)&&i++),i>1&&void 0===I.tt)I.tt=o,o++,m.push(x(a));else if(/h/i.test(a)&&void 0===I.h){for(r=[],I.h=o,O.h=1,o++,n=be;n<(le?12:24);n+=ue)r.push({value:n,display:le&&0===n?12:/hh/i.test(Q)?c(n):n});m.push({cssClass:"mbsc-dt-whl-h",label:j.hourText,data:r})}else if(/i/i.test(a)&&void 0===I.i){for(r=[],I.i=o,O.i=1,o++,n=pe;n<60;n+=me)r.push({value:n,display:/ii/i.test(Q)?c(n):n});m.push({cssClass:"mbsc-dt-whl-i",label:j.minuteText,data:r})}else if(/s/i.test(a)&&void 0===I.s){for(r=[],I.s=o,O.s=1,o++,n=ve;n<60;n+=fe)r.push({value:n,display:/ss/i.test(Q)?c(n):n});m.push({cssClass:"mbsc-dt-whl-s",label:j.secText,data:r})}else/a/i.test(a)&&void 0===I.a&&(I.a=o,o++,m.push({cssClass:"mbsc-dt-whl-a",label:j.ampmText,data:/A/.test(a)?[{value:0,display:j.amText.toUpperCase()},{value:1,display:j.pmText.toUpperCase()}]:[{value:0,display:j.amText},{value:1,display:j.pmText}]}));m!=u&&d.push(m)}return d}function C(e){var t,a,s,n={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",n.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}n.format=t,a=e.attr("min"),s=e.attr("max"),a&&"undefined"!=a&&(n.min=V(t,a)),s&&"undefined"!=s&&(n.max=V(t,s))}return n}function M(e,t){var a,s,n=!1,i=!1,r=0,l=0,o=ne?p(v(ne)):-(1/0),c=ie?p(v(ie)):1/0;if(S(e))return e;if(e<o&&(e=o),e>c&&(e=c),a=e,s=e,2!==t)for(n=S(a,!0);!n&&a<c;)a=new Date(a.getTime()+864e5),n=S(a,!0),r++;if(1!==t)for(i=S(s,!0);!i&&s>o;)s=new Date(s.getTime()-864e5),i=S(s,!0),l++;return 1===t&&n?a:2===t&&i?s:l<=r&&i?s:a}function S(e,t){return!(!t&&e<ne)&&(!(!t&&e>ie)&&(!!Y(e,ae)||!Y(e,te)))}function Y(e,t){var a,s,n;if(t)for(s=0;s<t.length;s++)if(a=t[s],n=a+"",!a.start)if(Xe.test(n)){if(n=+n.replace("w",""),n==e.getDay())return!0}else if(qe.test(n)){if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0}else if(a=W(a,G,j),e.getFullYear()==a.getFullYear()&&e.getMonth()==a.getMonth()&&e.getDate()==a.getDate())return!0;return!1}function A(e,t,a,s,n,i,r){var l,o,c,d;if(e)for(o=0;o<e.length;o++)if(l=e[o],d=l+"",!l.start)if(Xe.test(d))for(d=+d.replace("w",""),c=d-s;c<n;c+=7)c>=0&&(i[c+1]=r);else qe.test(d)?(d=d.split("/"),d[1]?d[0]-1==a&&(i[d[1]]=r):i[d[0]]=r):(l=W(l,G,j),j.getYear(l)==t&&j.getMonth(l)==a&&(i[j.getDay(l)]=r))}function P(e,t,s,n,i,r,l,o){var c,d,u,m,f,h,b,p,v,g,y,_,w,x,D,C,M,T,k,V,S={},Y=j.getDate(n,i,r),A=["a","h","i","s"];if(e){for(b=0;b<e.length;b++)y=e[b],y.start&&(y.apply=!1,u=y.d,M=u+"",T=M.split("/"),u&&(u.getTime&&n==j.getYear(u)&&i==j.getMonth(u)&&r==j.getDay(u)||!Xe.test(M)&&(T[1]&&r==T[1]&&i==T[0]-1||!T[1]&&r==T[0])||Xe.test(M)&&Y.getDay()==+M.replace("w",""))&&(y.apply=!0,S[Y]=!0));for(b=0;b<e.length;b++)if(y=e[b],c=0,C=0,p=we[s],v=xe[s],x=!0,D=!0,d=!1,y.start&&(y.apply||!y.d&&!S[Y])){for(_=y.start.split(":"),w=y.end.split(":"),g=0;g<3;g++)void 0===_[g]&&(_[g]=0),void 0===w[g]&&(w[g]=59),_[g]=+_[g],w[g]=+w[g];if("tt"==s)p=a(Math.round((new Date(Y).setHours(_[0],_[1],_[2])-new Date(Y).setHours(0,0,0,0))/1e3),E,0,86400),v=a(Math.round((new Date(Y).setHours(w[0],w[1],w[2])-new Date(Y).setHours(0,0,0,0))/1e3),E,0,86400);else{for(_.unshift(_[0]>11?1:0),w.unshift(w[0]>11?1:0),le&&(_[1]>=12&&(_[1]=_[1]-12),w[1]>=12&&(w[1]=w[1]-12)),g=0;g<t;g++)void 0!==R[g]&&(k=a(_[g],De[A[g]],we[A[g]],xe[A[g]]),V=a(w[g],De[A[g]],we[A[g]],xe[A[g]]),m=0,f=0,h=0,le&&1==g&&(m=_[0]?12:0,f=w[0]?12:0,h=R[0]?12:0),x||(k=0),D||(V=xe[A[g]]),(x||D)&&k+m<R[g]+h&&R[g]+h<V+f&&(d=!0),R[g]!=k&&(x=!1),R[g]!=V&&(D=!1));if(!o)for(g=t+1;g<4;g++)_[g]>0&&(c=De[s]),w[g]<xe[A[g]]&&(C=De[s]);d||(k=a(_[t],De[s],we[s],xe[s])+c,V=a(w[t],De[s],we[s],xe[s])-C,x&&(p=k),D&&(v=V))}if(x||D||d)for(g=p;g<=v;g+=De[s])l[g]=!o}}}var E,F,$,I={},N={},O={},R=[],q=C(se(this)),X=oe({},e.settings),z=L[X.calendarSystem],j=oe(e.settings,ze,z,je,q,X),U=j.preset,B="datetime"==U?j.dateFormat+j.separator+j.timeFormat:"time"==U?j.timeFormat:j.dateFormat,G=q.format||B,J=j.dateWheels||j.dateFormat,Z=j.timeWheels||j.timeFormat,K=j.dateWheels||j.dateDisplay,Q=Z,ee=j.baseTheme||j.theme,te=t(j.invalid),ae=t(j.valid),ne=W(j.min,G,j),ie=W(j.max,G,j),re=/time/i.test(U),le=/h/.test(Q),ce=/D/.test(K),de=j.steps||{},ue=de.hour||j.stepHour||1,me=de.minute||j.stepMinute||1,fe=de.second||j.stepSecond||1,he=de.zeroBased,be=he||!ne?0:ne.getHours()%ue,pe=he||!ne?0:ne.getMinutes()%me,ve=he||!ne?0:ne.getSeconds()%fe,ge=s(ue,be,le?11:23),ye=s(me,pe,59),_e=s(me,pe,59),we={y:ne?ne.getFullYear():-(1/0),m:0,d:1,h:be,i:pe,s:ve,a:0,tt:0},xe={y:ie?ie.getFullYear():1/0,m:11,d:31,h:ge,i:ye,s:_e,a:1,tt:86400},De={y:1,m:1,d:1,h:ue,i:me,s:fe,a:1,tt:1},Ce={bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50},Me={y:n,m:i,d:r,h:l,i:o,s:d,u:u,a:m,dd:f,tt:h};return e.getVal=function(t){return e._hasValue||t?H(p(e.getArrayVal(t)),j,G):null},e.getDate=function(t){return e._hasValue||t?p(e.getArrayVal(t)):null},e.setDate=function(t,a,s,n,i){e.setArrayVal(v(t,!0),a,i,n,s)},$=D(),j.isoParts=O,e._format=B,e._order=I,e.handlers.now=function(){e.setDate(new Date,e.live,1e3,!0,!0)},e.buttons.now={text:j.nowText,icon:j.nowIcon,handler:"now"},{minWidth:F&&re?Ce[ee]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:$,headerText:!!j.headerText&&function(){return k(B,p(e.getArrayVal(!0)),j)},formatValue:function(e){return k(G,p(e),j)},parseValue:function(e){return e||(N={}),v(W(e||j.defaultValue||new Date,G,j,O),!!e)},validate:function(t){var a,s,n,i,r=t.values,l=t.index,o=t.direction,c=j.wheels[0][I.d],d=M(p(r),o),u=v(d),m=[],f={},h=Me.y(d),b=Me.m(d),g=j.getMaxDayOfMonth(h,b),y=!0,_=!0;if(se.each(["dd","y","m","d","tt","a","h","i","s"],function(e,t){var a=we[t],n=xe[t],i=Me[t](d);if(m[I[t]]=[],y&&ne&&(a=Me[t](ne)),_&&ie&&(n=Me[t](ie)),i<a&&(i=a),i>n&&(i=n),y&&(y=i==a),_&&(_=i==n),void 0!==I[t]){if("y"!=t&&"dd"!=t)for(s=we[t];s<=xe[t];s+=De[t])(s<a||s>n)&&m[I[t]].push(s);if("d"==t){var r=j.getDate(h,b,1).getDay(),l={};A(te,h,b,r,g,l,1),A(ae,h,b,r,g,l,0),se.each(l,function(e,a){a&&m[I[t]].push(e)})}}}),re&&se.each(["a","h","i","s","tt"],function(t,a){var s=Me[a](d),n=Me.d(d),i={};void 0!==I[a]&&(P(te,t,a,h,b,n,i,0),P(ae,t,a,h,b,n,i,1),se.each(i,function(e,t){
t&&m[I[a]].push(e)}),R[t]=e.getValidValue(I[a],s,o,i))}),c&&(c._length!==g||ce&&(void 0===l||l===I.y||l===I.m))){for(f[I.d]=c,c.data=[],a=1;a<=g;a++)i=j.getDate(h,b,a).getDay(),n=K.replace(/[my|]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(j.daySuffix||"")).replace(/d/,a+(j.daySuffix||"")),c.data.push({value:a,display:/DD/.test(n)?n.replace(/DD/,'<span class="mbsc-dt-day">'+j.dayNames[i]+"</span>"):n.replace(/D/,'<span class="mbsc-dt-day">'+j.dayNamesShort[i]+"</span>")});e._tempWheelArray[I.d]=u[I.d],e.changeWheel(f)}return{disabled:m,valid:u}}}},Be={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,breakPointMd:768,months:1,pageBuffer:1,weeks:6,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,tabs:"auto",todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",todayText:"Today",moreEventsText:"{count} more",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"},Ge=function(e){function t(t){t.hasClass("mbsc-cal-h")&&(t.removeClass("mbsc-cal-h"),e._onSelectShow())}function a(e){e.hasClass("mbsc-cal-h")||e.addClass("mbsc-cal-h")}function n(e){e.hasClass("mbsc-cal-h")?t(e):a(e)}function i(){var t,a,s;he={},be=[],_e={},dt=e.trigger,Z=se(yt),s=oe({},e.settings),ot=oe(e.settings,Be,s),t=ot.controls.join(","),Ce=ot.firstDay,We=ot.rtl,st=ot.pageBuffer,ft=ot.weekCounter,de=ot.weeks,He=6==de,Fe="vertical"==ot.calendarScroll,fe="inline"==ot.display?Z.is("div")?Z:Z.parent():e._$window,ht="full"==ot.weekDays?"":"min"==ot.weekDays?"Min":"Short",a=ot.layout||("inline"==ot.display||/top|bottom/.test(ot.display)&&ot.touchUi?"liquid":""),Pe="liquid"==a,me=Pe?null:ot.calendarWidth,lt=We&&!Fe?-1:1,pe="mbsc-disabled "+(ot.disabledClass||""),ge="mbsc-selected "+(ot.selectedTabClass||""),ve="mbsc-selected "+(ot.selectedClass||""),Oe=Math.max(1,Math.floor(((ot.calendarHeight||0)/de-45)/18)),t.match(/calendar/)&&(he.calendar=1,Me=!0),t.match(/date/)&&!Me&&(he.date=1),t.match(/time/)&&(he.time=1),ot.controls.forEach(function(e){he[e]&&be.push(e)}),Se=ot.quickNav&&Me&&He,bt=ot.yearChange&&He,Pe&&Me&&"center"==ot.display&&(e._isFullScreen=!0),ot.layout=a,ot.preset=(he.date||Me?"date":"")+(he.time?"time":"")}function r(){Qe=bt?ot.monthNamesShort:ot.monthNames,gt=ot.yearSuffix||"",Ke=(ot.dateWheels||ot.dateFormat).search(/m/i),pt=(ot.dateWheels||ot.dateFormat).search(/y/i),De=e._format,ot.min&&(je=Y(W(ot.min,De,ot)),Ze=ot.getYear(je),Je=ot.getMonth(je),Ge=ot.getDate(12*Math.floor(Ze/12),0,1)),ot.max&&(Le=Y(W(ot.max,De,ot)),ze=ot.getYear(Le),Re=ot.getMonth(Le),Ne=ot.getDate(12*Math.floor(ze/12),0,1))}function l(e,t,a){e[t]=e[t]||[],e[t].push(a)}function o(e,t,a){var s,n,i,r,o=ot.getYear(t),c=ot.getMonth(t),d={};return e&&se.each(e,function(e,u){if(s=u.d||u.start||u,n=s+"",u.start&&u.end)for(r=Y(W(u.start,De,ot)),i=Y(W(u.end,De,ot));r<=i;)l(d,r,u),r=ot.getDate(ot.getYear(r),ot.getMonth(r),ot.getDay(r)+1);else if(Xe.test(n))for(r=R(t,!1,+n.replace("w",""));r<=a;)l(d,r,u),r=ot.getDate(ot.getYear(r),ot.getMonth(r),ot.getDay(r)+7);else if(qe.test(n))if(n=n.split("/"),n[1])for(r=ot.getDate(o,n[0]-1,n[1]);r<=a;)l(d,r,u),r=ot.getDate(ot.getYear(r)+1,ot.getMonth(r),n[1]);else for(r=ot.getDate(o,c,n[0]);r<=a;)l(d,r,u),r=ot.getDate(ot.getYear(r),ot.getMonth(r)+1,n[0]);else l(d,Y(W(s,De,ot)),u)}),d}function c(e){return!(e<je)&&(!(e>Le)&&(void 0===Ye[e]||void 0!==ut[e]))}function d(t){var a,s,n,i,r=!!Ie[t]&&Ie[t],l=r&&r[0].background,o="";if(r){for(n='<div class="mbsc-cal-marks">',a=0;a<r.length;a++)s=r[a],o+=(s.cssClass||"")+" ",n+='<div class="mbsc-cal-mark"'+(s.color?' style="background:'+s.color+';"':"")+"></div>";n+="</div>"}return i={marked:r,background:l,cssClass:o,markup:_e[t]?_e[t].join(""):ke?n:""},oe(i,e._getDayProps(t,i))}function m(e){return' style="'+(Fe?"transform: translateY("+100*e+"%)":"left:"+100*e*lt+"%")+'"'}function f(){nt="auto"==ot.months?Math.max(1,Math.min(3,Math.floor((me||F(fe))/280))):+ot.months,rt=nt+2*st,it=0,Fe=Fe&&nt<2,ct=void 0===ot.showOuterDays?nt<2&&!Fe:ot.showOuterDays}function h(e){return q(e,nt-1)>Le&&(e=q(Le,1-nt)),e<je&&(e=je),e}function b(e,t,a){var s=e.color,n=e.text;return'<div data-id="'+e._idx+'" data-index="'+t+'" class="mbsc-cal-txt" title="'+se("<div>"+n+"</div>").text()+'"'+(s?' style="background:'+s+(a?";color:"+x(s):"")+';"':"")+">"+(a?n:"")+"</div>"}function p(t){var a=R(q(t,-it-st),!1),s=R(q(t,-it+nt+st-1),!1);s=ot.getDate(ot.getYear(s),ot.getMonth(s),ot.getDay(s)+7*de),e._onGenMonth(a,s),Ye=o(ot.invalid,a,s),ut=o(ot.valid,a,s),Ie=o(ot.labels||ot.events||ot.marked||ot.colors,a,s),$e=e._labels||Ie,Te=ot.labels||e._labels,Te&&!function(){_e={};for(var e={},t=a,n=1,i=function(){t.getDay()==Ce&&(e={});for(var a=Oe,s=$e[t]||[],i=s.length,r=[],l=void 0,o=void 0,c=0,d=0,u=0,m=void 0;c<a;)if(l=null,s.forEach(function(t,a){e[c]==t&&(l=t,o=a)}),c==a-1&&(d<i-1||i&&u==i&&!l)){var f=i-d,h=(f>1?ot.moreEventsPluralText||ot.moreEventsText:ot.moreEventsText).replace(/{count}/,f);f&&r.push('<div class="mbsc-cal-txt-more">'+h+"</div>"),l&&(e[c]=null,l._days.forEach(function(e){_e[e][c]='<div class="mbsc-cal-txt-more">'+ot.moreEventsText.replace(/{count}/,1)+"</div>"})),d++,c++}else if(l)o==u&&u++,E(t,W(l.end))&&(e[c]=null),r.push(b(l,o)),c++,d++,l._days.push(t);else if(u<i){var p=s[u],v=p.start&&W(p.start),g=p.end&&W(p.end),y=t.getDay(),_=Ce-y>0?7:0,w=g&&!E(v,g);v&&!E(t,v)&&y!=Ce||(n++,w?(e[c]=p,p._idx=p._idx||n):p._idx=n,p._days=[t],m=w?100*Math.min(S(t,Y(g))+1,7+Ce-y-_):100,r.push(w?'<div class="mbsc-cal-txt-w" style="width:'+m+'%">'+b(p,u,!0)+"</div>"+b(p,u):b(p,u,!0)),c++,d++),u++}else r.push('<div class="mbsc-cal-txt-ph"></div>'),c++;_e[t]=r,t=ot.getDate(ot.getYear(t),ot.getMonth(t),ot.getDay(t)+1)};t<s;)i()}()}function v(e){var t=ot.getYear(e),a=ot.getMonth(e);ye=e,le=e,$(e),dt("onMonthChange",{year:t,month:a}),dt("onMonthLoading",{year:t,month:a}),dt("onPageChange",{firstDay:e}),dt("onPageLoading",{firstDay:e}),p(e)}function g(e){var t=ot.getYear(e),a=ot.getMonth(e);void 0!==at&&k(e,at,!0),void 0===at&&y(e,t,a),V(le,xe.focus),xe.focus=!1}function y(e,t,a){var s=xe.$scroller;se(".mbsc-cal-slide",s).removeClass("mbsc-cal-slide-a"),se(".mbsc-cal-slide",s).slice(st,st+nt).addClass("mbsc-cal-slide-a"),Te&&se(".mbsc-cal-slide-a .mbsc-cal-txt",s).on("mouseenter",function(){var e=se(this).attr("data-id");se('.mbsc-cal-txt[data-id="'+e+'"]',s).addClass("mbsc-hover")}).on("mouseleave",function(){se(".mbsc-cal-txt.mbsc-hover",s).removeClass("mbsc-hover")}),dt("onMonthLoaded",{year:t,month:a}),dt("onPageLoaded",{firstDay:e})}function _(){var e,t;return e='<div class="mbsc-cal-tabs-c"><div class="mbsc-cal-tabs" role="tablist">',be.forEach(function(a,s){t=ot[("calendar"==a?"date":a)+"Text"],e+='<div role="tab" aria-controls="'+(yt.id+"-mbsc-pnl-"+s)+'" class="mbsc-cal-tab mbsc-fr-btn-e '+(s?"":ge)+'" data-control="'+a+'"'+(ot.tabLink?'><a href="#">'+t+"</a>":' tabindex="0">'+t)+"</div>"}),e+="</div></div>"}function w(){var e,t,a,s,n,i="",r=We?ot.btnCalNextClass:ot.btnCalPrevClass,l=We?ot.btnCalPrevClass:ot.btnCalNextClass;for(s='<div class="mbsc-cal-btn-w"><div data-step="-1" role="button" tabindex="0" aria-label="'+ot.prevMonthText+'" class="'+r+' mbsc-cal-prev mbsc-cal-prev-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div>',t=0;t<(de?nt:1);t++)s+='<div role="button" class="mbsc-cal-month"></div>';if(s+='<div data-step="1" role="button" tabindex="0" aria-label="'+ot.nextMonthText+'" class="'+l+' mbsc-cal-next mbsc-cal-next-m mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>',bt&&(i='<div class="mbsc-cal-btn-w"><div data-step="-12" role="button" tabindex="0" aria-label="'+ot.prevYearText+'" class="'+r+' mbsc-cal-prev mbsc-cal-prev-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div><div role="button" class="mbsc-cal-year"></div><div data-step="12" role="button" tabindex="0" aria-label="'+ot.nextYearText+'" class="'+l+' mbsc-cal-next mbsc-cal-next-y mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"></div></div>'),de&&(n=k(ye)),e='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal '+(He?"":" mbsc-cal-week-view")+(nt>1?" mbsc-cal-multi ":"")+(ft?" mbsc-cal-weeks ":"")+(Fe?" mbsc-cal-vertical":"")+(ke?" mbsc-cal-has-marks":"")+(Te?" mbsc-cal-has-labels":"")+(ct?"":" mbsc-cal-hide-diff ")+(ot.calendarClass||"")+'"'+(Pe?"":' style="width:'+(me||280*nt)+'px;"')+'><div class="mbsc-cal-hdr">'+(pt<Ke||nt>1?i+s:s+i)+"</div>",de){for(e+='<div class="mbsc-cal-body"><div class="mbsc-cal-day-picker"><div class="mbsc-cal-days-c">',a=0;a<nt;a++){for(e+='<div class="mbsc-cal-days">',t=0;t<7;t++)e+='<div aria-label="'+ot.dayNames[(t+Ce)%7]+'">'+ot["dayNames"+ht][(t+Ce)%7]+"</div>";e+="</div>"}e+='</div><div class="mbsc-cal-scroll-c mbsc-cal-day-scroll-c '+(ot.calendarClass||"")+'"'+(ot.calendarHeight?' style="height:'+ot.calendarHeight+'px"':"")+'><div class="mbsc-cal-scroll" style="width:'+100/nt+'%">'+n+"</div></div>"}if(e+="</div>",Se){for(e+='<div class="mbsc-cal-month-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(ot.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=0;t<3;t++){for(e+='<div class="mbsc-cal-slide"'+m(t-1)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">',a=0;a<12;a++)a&&a%3===0&&(e+='</div><div class="mbsc-cal-row">'),e+='<div role="gridcell"'+(1==t?' tabindex="-1" aria-label="'+ot.monthNames[a]+'" data-val="'+a+'"':"")+' class="mbsc-cal-cell'+(1==t?" mbsc-btn-e":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+(1==t?ot.monthNamesShort[a]:"&nbsp;")+"</div></div>";e+="</div></div></div>"}for(e+="</div></div></div>",e+='<div class="mbsc-cal-year-picker mbsc-cal-picker mbsc-cal-h"><div class="mbsc-cal-scroll-c '+(ot.calendarClass||"")+'"><div class="mbsc-cal-scroll">',t=-1;t<2;t++)e+=C(X(ye,t),t);e+="</div></div></div>"}return e+="</div></div></div>"}function C(e,t){var a,s=ot.getYear(e),n='<div class="mbsc-cal-slide"'+m(t)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(a=0;a<12;a++)a&&a%3===0&&(n+='</div><div class="mbsc-cal-row">'),n+='<div role="gridcell" tabindex="-1" aria-label="'+s+'" data-val="'+s+'" class="mbsc-cal-cell mbsc-btn-e '+(s<Ze||s>ze?" mbsc-disabled ":"")+(s==ot.getYear(ye)?ve:"")+'"><div class="mbsc-cal-cell-i mbsc-cal-cell-txt">'+s+gt+"</div></div>",s++;return n+="</div></div></div>"}function M(t,a){var s,n,i,r,l,o,u,f,h,b,p,v,g,y,_,w,D=1,C=ot.getYear(t),M=ot.getMonth(t),T=ot.getDay(t),k=null!==ot.defaultValue||e._hasValue?e.getDate(!0):null,V=ot.getDate(C,M,T).getDay(),S=Ce-V>0?7:0,Y='<div class="mbsc-cal-slide"'+m(a)+'><div role="grid" class="mbsc-cal-table"><div class="mbsc-cal-row">';for(w=0;w<7*de;w++)_=w+Ce-S,s=ot.getDate(C,M,_-V+T),i=s.getFullYear(),r=s.getMonth(),l=s.getDate(),o=ot.getMonth(s),u=ot.getDay(s),y=ot.getMaxDayOfMonth(i,r),f=i+"-"+(r+1)+"-"+l,h=oe({valid:c(s),selected:k&&E(k,s)},d(s)),b=h.valid,p=h.selected,n=h.cssClass,v=new Date(s).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),g=o!==M,we[f]=h,w&&w%7===0&&(Y+='</div><div class="mbsc-cal-row">'),ft&&w%7===0&&("month"==ft&&g&&D>1?D=1==l?1:2:"year"==ft&&(D=ot.getWeekNumber(ot.getDate(i,r,l+(7-Ce+1)%7))),Y+='<div role="gridcell" class="mbsc-cal-cell mbsc-cal-week-nr">'+D+"</div>",D++),Y+='<div role="gridcell" aria-label="'+(v?ot.todayText+", ":"")+ot.dayNames[s.getDay()]+", "+ot.monthNames[o]+" "+u+" "+(h.ariaLabel?", "+h.ariaLabel:"")+'"'+(g&&!ct?' aria-hidden="true"':' data-full="'+f+'"')+(p?' aria-selected="true"':"")+(b?' tabindex="-1"':' aria-disabled="true"')+' class="mbsc-cal-cell mbsc-cal-day mbsc-cal-day'+_%7+" "+(ot.dayClass||"")+" "+(p?ve:"")+(v?" "+ot.todayClass:"")+(n?" "+n:"")+(1==u?" mbsc-cal-day-first":"")+(u==y?" mbsc-cal-day-last":"")+(g?" mbsc-cal-day-diff":"")+(b?" mbsc-btn-e":" mbsc-disabled")+(h.marked?" mbsc-cal-day-marked":"")+(h.background?" mbsc-cal-day-colored":"")+'"><div class="mbsc-cal-cell-i mbsc-cal-day-i"><div class="mbsc-cal-day-date mbsc-cal-cell-txt"'+(h.background?' style="background:'+h.background+";color:"+x(h.background)+'"':"")+">"+u+"</div>"+(h.markup||"")+"</div></div>";return Y+="</div></div></div>"}function k(e,t,a){var s,n=ot.getYear(e),i=ot.getMonth(e),r=xe?xe.pos:0,l="";if(we={},de)for(t||(dt("onMonthLoading",{year:n,month:i}),dt("onPageLoading",{firstDay:e})),p(e),s=0;s<rt;s++)l+=M(q(e,s-it-st),r*lt+s-st);return at=void 0,a&&xe&&(xe.$scroller.html(l),y(e,n,i)),l}function V(e,t){var a=xe.$active;a&&(a.hasClass("mbsc-disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1")),xe.$active=se('.mbsc-cal-slide-a .mbsc-cal-day[data-full="'+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+'"]',xe.$scroller).attr("tabindex","0"),t&&xe.$active.length&&xe.$active[0].focus()}function A(t){var a=xe&&xe.$scroller;ot.highlight&&xe&&(se(".mbsc-selected",a).removeClass(ve).removeAttr("aria-selected"),(null!==ot.defaultValue||e._hasValue)&&se('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+'"]',a).addClass(ve).attr("aria-selected","true"))}function P(e,t){se(".mbsc-selected",t).removeClass(ve).removeAttr("aria-selected"),se('.mbsc-cal-cell[data-val="'+e+'"]',t).addClass(ve).attr("aria-selected","true")}function H(t,a,s,n){var i,r;mt&&(t<je&&(t=je),t>Le&&(t=Le),"calendar"!==mt&&Ve&&!a||(e._isSetDate=!0,Me&&de&&(r=R(h(t),He),tt&&(t<q(ye,-it)||t>=q(ye,nt-it))&&(i=He?ot.getMonth(r)-ot.getMonth(ye)+12*(ot.getYear(r)-ot.getYear(ye)):Math.floor(S(ye,r)/(7*de)),i&&(xe.queue=[],xe.focus=n&&s,z(xe,i,s))),i&&s||V(t,n),a||A(t),He||$(t,!0),le=t,tt=!0),e._onSetDate(t,i),e._isSetDate=!1))}function $(e,t){var a,s,n,i=ot.getYear(e),r=ot.getMonth(e),l=i+gt;if(Se){if(P(r,et.$scroller),P(i,vt.$scroller),z(vt,Math.floor(i/12)-Math.floor(ot.getYear(vt.first)/12),!0),se(".mbsc-cal-cell",et.$scroller).removeClass("mbsc-disabled"),i===Ze)for(a=0;a<Je;a++)se('.mbsc-cal-cell[data-val="'+a+'"]',et.$scroller).addClass("mbsc-disabled");if(i===ze)for(a=Re+1;a<=12;a++)se('.mbsc-cal-cell[data-val="'+a+'"]',et.$scroller).addClass("mbsc-disabled")}for(t||(I(se(".mbsc-cal-prev-m",Q),q(e,-it)<=je),I(se(".mbsc-cal-next-m",Q),q(e,nt-it)>Le),I(se(".mbsc-cal-prev-y",Q),ot.getDate(i-1,r+1,1)<=je),I(se(".mbsc-cal-next-y",Q),ot.getDate(i+1,r,1)>Le)),ie.attr("aria-label",i).html(l),a=0;a<nt;a++)e=ot.getDate(i,r-it+a,1),s=ot.getYear(e),n=ot.getMonth(e),l=s+gt,ee.eq(a).attr("aria-label",ot.monthNames[n]+(bt?"":" "+i)).html((!bt&&pt<Ke?l+" ":"")+Qe[n]+(!bt&&pt>Ke?" "+l:""))}function I(e,t){t?e.addClass(pe).attr("aria-disabled","true"):e.removeClass(pe).removeAttr("aria-disabled")}function L(t,a){var s=e.getDate(!0),n=t[0],i=t.attr("data-full"),r=i?i.split("-"):[],l=T(r[0],r[1]-1,r[2]),o=T(l.getFullYear(),l.getMonth(),l.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()),c=t.hasClass("mbsc-selected"),d=se(a.target),u=d[0];if(ct||!t.hasClass("mbsc-cal-day-diff")){if(Te&&n.contains(u))for(;u!=n;){if(d.hasClass("mbsc-cal-txt")||d.hasClass("mbsc-cal-txt-more")){var m=d.attr("data-index"),f=$e[l];if(dt("onLabelTap",{date:o,domEvent:a,target:d[0],labels:f,label:f[m]})===!1)return;break}d=d.parent(),u=d[0]}dt("onDayChange",oe(we[i],{date:o,target:n,selected:c}))===!1||ot.readonly||t.hasClass("mbsc-disabled")||e._selectDay(t,l,o,c)}}function N(e){a(te),H(ot.getDate(ot.getYear(xe.first),e.attr("data-val"),1),!0,!0)}function O(e){a(re),H(ot.getDate(e.attr("data-val"),ot.getMonth(xe.first),1),!0,!0)}function R(e,t,a){var s=ot.getYear(e),n=ot.getMonth(e),i=e.getDay(),r=Ce-i>0?7:0;return t?ot.getDate(s,n,1):ot.getDate(s,n,(a||Ce)-r-i+ot.getDay(e))}function q(e,t){var a=ot.getYear(e),s=ot.getMonth(e),n=ot.getDay(e);return He?ot.getDate(a,s+t,1):ot.getDate(a,s,n+t*de*7)}function X(e,t){var a=12*Math.floor(ot.getYear(e)/12);return ot.getDate(a+12*t,0,1)}function z(t,a,s,n){a&&e._isVisible&&(t.queue.push(arguments),1==t.queue.length&&j(t,a,s,n))}function j(e,t,a,s){var n,i,r="",l=e.$scroller,o=e.buffer,c=e.offset,d=e.pages,u=e.total,m=e.first,f=e.genPage,h=e.getFirst,b=t>0?Math.min(t,o):Math.max(t,-o),p=e.pos*lt+b-t+c,v=Math.abs(t)>o;e.callback&&(e.load(),e.callback()),e.first=h(m,t),e.pos+=b*lt,e.changing=!0,e.load=function(){if(v){for(n=0;n<d;n++)i=t+n-c,r+=f(h(m,i),p+i);t>0?(se(".mbsc-cal-slide",l).slice(-d).remove(),l.append(r)):t<0&&(se(".mbsc-cal-slide",l).slice(0,d).remove(),l.prepend(r))}},e.callback=function(){var a=Math.abs(b),r="";for(n=0;n<a;n++)i=t+n-c-o+(t>0?u-a:0),r+=f(h(m,i),p+i);if(t>0?(l.append(r),se(".mbsc-cal-slide",l).slice(0,b).remove()):t<0&&(l.prepend(r),se(".mbsc-cal-slide",l).slice(b).remove()),v){for(r="",n=0;n<a;n++)i=t+n-c-o+(t>0?0:u-a),r+=f(h(m,i),p+i);t>0?(se(".mbsc-cal-slide",l).slice(0,b).remove(),l.prepend(r)):t<0&&(se(".mbsc-cal-slide",l).slice(b).remove(),l.append(r))}B(e),s&&s(),e.callback=null,e.load=null,e.queue.shift(),v=!1,e.queue.length?j.apply(this,e.queue[0]):(e.changing=!1,e.onAfterChange(e.first))},e.onBeforeChange(e.first),e.load(),e.scroller.scroll(-e.pos*e.size,a?200:0,!1,e.callback)}function U(t,a,s,n,i,r,l,o,c,d,m,f,h){var b=Fe?"Y":"X",p={$scroller:se(".mbsc-cal-scroll",t),queue:[],buffer:n,offset:i,pages:r,first:o,total:l,pos:0,min:a,max:s,genPage:f,getFirst:h,onBeforeChange:d,onAfterChange:m};return p.scroller=new Ee(t,{axis:b,easing:"",contSize:0,maxSnapScroll:n,mousewheel:ot.mousewheel,time:200,lock:!0,rtl:We,stopProp:!1,minScroll:0,maxScroll:0,onBtnTap:function(e){"touchend"==e.domEvent.type&&u(),c(se(e.target),e.domEvent)},onAnimationStart:function(){p.changing=!0},onAnimationEnd:function(e){f&&z(p,Math.round((-p.pos*p.size-e["pos"+b])/p.size)*lt)}}),e._scrollers.push(p.scroller),p}function B(e,t){var a,s=0,n=0,i=e.first;if(!e.changing||!t){if(e.getFirst){for(s=e.buffer,n=e.buffer;n&&e.getFirst(i,n+e.pages-e.offset-1)>e.max;)n--;for(;s&&e.getFirst(i,1-s-e.offset)<=e.min;)s--}a=Math.round(ue/e.pages),Pe&&a&&e.size!=a&&e.$scroller[Fe?"height":"width"](a),oe(e.scroller.settings,{snap:a,minScroll:(-e.pos*lt-n)*a,maxScroll:(-e.pos*lt+s)*a}),e.size=a,e.scroller.refresh()}}function G(t){e._isVisible&&Me&&de&&(xe&&xe.changing?at=t:k(ye,t,!0)),e._onRefresh(t)}function J(){if(Me&&de){var t=se(".mbsc-cal-scroll-c",Q);xe=U(t[0],je,Le,st,it,nt,rt,ye,L,v,g,M,q),Se&&(et=U(t[1],null,null,1,0,1,3,ye,N),vt=U(t[2],Ge,Ne,1,0,1,3,ye,O,s,s,C,X),e.tap(ee,function(){n(te),a(re)}),e.tap(ie,function(){n(re),a(te)})),D(se(".mbsc-cal-btn",Q),function(e,t,a,s){z(xe,t,!0,s)}),g(ye),null===ot.defaultValue&&!e._hasValue||e._multiple||(e._activeElm=xe.$active[0]),K.on("keydown",function(e){var t,a=ot.getYear(le),s=ot.getMonth(le),n=ot.getDay(le);switch(e.keyCode){case 32:L(xe.$active,e);break;case 37:t=ot.getDate(a,s,n-1);break;case 39:t=ot.getDate(a,s,n+1);break;case 38:t=ot.getDate(a,s,n-7);break;case 40:t=ot.getDate(a,s,n+7);break;case 36:t=ot.getDate(a,s,1);break;case 35:t=ot.getDate(a,s+1,0);break;case 33:t=e.altKey?ot.getDate(a-1,s,n):He?ot.getDate(a,s-1,n):ot.getDate(a,s,n-7*de);break;case 34:t=e.altKey?ot.getDate(a+1,s,n):He?ot.getDate(a,s+1,n):ot.getDate(a,s,n+7*de)}t&&(e.preventDefault(),H(t,!0,!1,!0))})}e.tap(se(".mbsc-cal-tab",Q),function(){e.changeTab(se(this).attr("data-control"))})}var Z,K,Q,ee,te,ae,ne,ie,re,le,ce,de,ue,me,fe,he,be,pe,ve,ge,ye,_e,we,xe,De,Ce,Me,Te,ke,Ve,Se,Ye,Ae,Pe,He,We,Fe,$e,Ie,Le,Ne,Oe,Re,ze,je,Ge,Je,Ze,Ke,Qe,et,tt,at,st,nt,it,rt,lt,ot,ct,dt,ut,mt,ft,ht,bt,pt,vt,gt,yt=this;return i(),ce=Ue.call(this,e),r(),e.refresh=function(){G(!1)},e.redraw=function(){G(!0)},e.navigate=function(e,t){H(W(e,De,ot),!0,t)},e.changeTab=function(t){e._isVisible&&he[t]&&mt!=t&&(mt=t,se(".mbsc-cal-tab",Q).removeClass(ge).removeAttr("aria-selected"),se('.mbsc-cal-tab[data-control="'+t+'"]',Q).addClass(ge).attr("aria-selected","true"),Ve&&(ne.addClass("mbsc-cal-h"),he[mt].removeClass("mbsc-cal-h")),"calendar"==mt&&H(e.getDate(!0),!1,!0),e._showDayPicker(),e.trigger("onTabChange",{tab:mt}))},e._onGenMonth=s,e._onSelectShow=s,e._onSetDate=s,e._onRefresh=s,e._getDayProps=s,e._prepareObj=o,e._showDayPicker=function(){Se&&(a(re,!0),a(te,!0))},e._selectDay=e.__selectDay=function(t,a,s){var n=e.live;tt=ot.outerMonthChange,Ae=!0,e.setDate(s,n,1e3,!n,!0),n&&dt("onSet",{valueText:e._value})},oe(ce,{labels:null,compClass:"mbsc-calendar mbsc-dt mbsc-sc",onMarkupReady:function(t){var a=0;Q=se(t.target),ae=se(".mbsc-fr-c",Q),le=e.getDate(!0),ue=0,Me&&(ke=!(!ot.marked&&!ot.data||ot.labels||ot.multiLabel||ot.showEventCount),tt=!0,mt="calendar",f(),ye=R(h(le),He),ae.append(w()),ee=se(".mbsc-cal-month",Q),ie=se(".mbsc-cal-year",Q),K=se(".mbsc-cal-day-scroll-c",Q)),Se&&(re=se(".mbsc-cal-year-picker",Q),te=se(".mbsc-cal-month-picker",Q)),ne=se(".mbsc-w-p",Q),be.length>1&&ae.before(_()),["date","time","calendar"].forEach(function(e){he[e]?(he[e]=ne.eq(a),a++):"date"==e&&!he.date&&Me&&(ne.eq(a).remove(),a++)}),be.forEach(function(e){ae.append(he[e])}),!Me&&he.date&&he.date.css("position","relative"),e._scrollers=[],J()},onShow:function(){Me&&de&&$(He?ye:le)},onHide:function(){e._scrollers.forEach(function(e){e.destroy()}),we=null,xe=null,et=null,vt=null,mt=null},onValidated:function(t){var a,s,n=t.index,i=e._order;s=e.getDate(!0),Ae?a="calendar":void 0!==n&&(a=i.dd==n||i.d==n||i.m==n||i.y==n?"date":"time"),dt("onSetDate",{date:s,control:a}),"time"!==a&&H(s,!1,!!t.time,Ae&&!e._multiple),Ae=!1},onPosition:function(t){var a,s,n,i,r,l,o,c=t.oldHeight,d=t.windowHeight;if(Ve=(t.hasTabs||ot.tabs===!0||ot.tabs!==!1&&Pe)&&be.length>1,Pe&&(t.windowWidth>=ot.breakPointMd?se(t.target).addClass("mbsc-fr-md"):se(t.target).removeClass("mbsc-fr-md")),Ve?(Q.addClass("mbsc-cal-tabbed"),mt=se(".mbsc-cal-tab.mbsc-selected",Q).attr("data-control"),ne.addClass("mbsc-cal-h"),he[mt].removeClass("mbsc-cal-h")):(Q.removeClass("mbsc-cal-tabbed"),ne.removeClass("mbsc-cal-h")),e._isFullScreen&&(K.height(""),r=t.popup.offsetHeight,o=d-r+K[0].offsetHeight,d>=r&&K.height(o)),Te&&de&&d!=c){var u=o||K[0].offsetHeight,m=se(".mbsc-cal-txt-ph")[0],f=m.offsetTop,h=m.offsetHeight,b=Math.max(1,Math.floor((u/de-f)/(h+2)));Oe!=b&&(Oe=b,e.redraw())}if(Me&&de){if(l=Pe||Fe||Ve?K[0][Fe?"offsetHeight":"offsetWidth"]:me||280*nt,i=l!=ue,ue=l,Pe&&i&&bt)for(Qe=ot.maxMonthWidth>ee[0].offsetWidth?ot.monthNamesShort:ot.monthNames,s=ot.getYear(ye),n=ot.getMonth(ye),a=0;a<nt;a++)ee.eq(a).text(Qe[ot.getMonth(ot.getDate(s,n-it+a,1))]);i&&B(xe,!0)}Se&&i&&(B(et,!0),B(vt,!0))}})},Je={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};Fe.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function a(t,a){var s=e._order,n=new Date(t);return void 0===s.h&&n.setHours(a?23:0),void 0===s.i&&n.setMinutes(a?59:0),void 0===s.s&&n.setSeconds(a?59:0),n.setMilliseconds(a?999:0),n}function s(t){e._startDate=A=D,e._endDate=P=M,I.startInput&&(se(I.startInput).val(e.startVal),t&&se(I.startInput).trigger("change")),I.endInput&&(se(I.endInput).val(e.endVal),t&&se(I.endInput).trigger("change"))}function n(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function i(e){v?(M-D>I.maxRange-1&&(e?D=new Date(Math.max(w,M-I.maxRange+1)):M=new Date(Math.min(y,+D+I.maxRange-1))),M-D<I.minRange-1&&(e?D=new Date(Math.max(w,M-I.minRange+1)):M=new Date(Math.min(y,+D+I.minRange-1)))):(Math.ceil((M-D)/O)>q&&(e?D=a(Math.max(w,n(M,1-q)),!1):M=a(Math.min(y,n(D,q-1)),!0)),Math.ceil((M-D)/O)<R&&(e?D=a(Math.max(w,n(M,1-R)),!1):M=a(Math.min(y,n(D,R-1)),!0)))}function r(e,t){var a=!0;return e&&D&&M&&(i(E),i(!E)),D&&M||(a=!1),t&&d(),a}function l(){return D&&M?Math.max(1,Math.round((new Date(M).setHours(0,0,0,0)-new Date(D).setHours(0,0,0,0))/864e5)+1):0}function o(e){e.addClass(z).attr("aria-checked","true")}function c(){Y&&h&&(se(".mbsc-range-btn",h).removeClass(z).removeAttr("aria-checked"),o(se(".mbsc-range-btn",h).eq(E)))}function d(){var t,a,s,n,i,r=0,l=N||!E?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",o=N||E?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(e.startVal=D?k(p,D,I):"",e.endVal=M?k(p,M,I):"",h&&(se(".mbsc-range-btn-v-start",h).html(e.startVal||"&nbsp;"),se(".mbsc-range-btn-v-end",h).html(e.endVal||"&nbsp;"),t=D?new Date(D):null,s=M?new Date(M):null,!t&&s&&(t=new Date(s)),!s&&t&&(s=new Date(t)),i=E?s:t,se(".mbsc-cal-day-picker .mbsc-cal-day-hl",h).removeClass(j),se(".mbsc-cal-day-picker .mbsc-selected",h).removeClass("mbsc-cal-sel-start mbsc-cal-sel-end "+z).removeAttr("aria-selected"),t&&s))for(a=t.setHours(0,0,0,0),n=s.setHours(0,0,0,0);s>=t&&r<126;)se('.mbsc-cal-day[data-full="'+i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()+'"]',h).addClass(z+" "+(i.getTime()===a?l:"")+(i.getTime()===n?o:"")).attr("aria-selected","true"),i.setDate(i.getDate()+(E?-1:1)),i.setHours(0,0,0,0),r++}function u(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}function m(){D&&(g=!0,e.setDate(D,!1,0,!0),D=e.getDate(!0)),M&&(g=!0,e.setDate(M,!1,0,!0),M=e.getDate(!0))}var f,h,b,p,v,g,y,w,x,D,C,M,T,S,Y,A=e._startDate,P=e._endDate,E=0,F=new Date,$=oe({},e.settings),I=oe(e.settings,Je,$),L=I.anchor,N=I.rangeTap,O=864e5,R=Math.max(1,Math.ceil(I.minRange/O)),q=Math.max(1,Math.ceil(I.maxRange/O)),X="mbsc-disabled "+(I.disabledClass||""),z="mbsc-selected "+(I.selectedClass||""),j="mbsc-cal-day-hl",U=null===I.defaultValue?[]:I.defaultValue||[new Date(F.setHours(0,0,0,0)),new Date(F.getFullYear(),F.getMonth(),F.getDate()+6,23,59,59,999)];return N&&(I.tabs=!0),f=Ge.call(this,e),p=e._format,v=/time/i.test(I.controls.join(",")),S="time"===I.controls.join(""),Y=I.showSelector,y=I.max?a(W(I.max,p,I),!0):1/0,w=I.min?a(W(I.min,p,I),!1):-(1/0),U[0]=W(U[0],p,I,I.isoParts),U[1]=W(U[1],p,I,I.isoParts),I.startInput&&e.attachShow(se(I.startInput),function(){E=0,I.anchor=L||se(I.startInput)}),I.endInput&&e.attachShow(se(I.endInput),function(){E=1,I.anchor=L||se(I.endInput)}),e._getDayProps=function(e,t){var a=D?new Date(D.getFullYear(),D.getMonth(),D.getDate()):null,s=M?new Date(M.getFullYear(),M.getMonth(),M.getDate()):null;return{selected:a&&s&&e>=a&&e<=M,cssClass:t.cssClass+" "+((N||!E)&&a&&a.getTime()===e.getTime()||(N||E)&&s&&s.getTime()===e.getTime()?j:"")+(a&&a.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setVal=function(t,a,s,n,i){var r=t||[],l=t;D=W(r[0],p,I,I.isoParts),M=W(r[1],p,I,I.isoParts),m(),e.startVal=D?k(p,D,I):"",e.endVal=M?k(p,M,I):"",l=f.parseValue(E?M:D,e),n||(e._startDate=A=D,e._endDate=P=M),x=!0,e._setVal(l,a,s,n,i)},e.getVal=function(t){return t?[H(D,I,p),H(M,I,p)]:e._hasValue?[H(A,I,p),H(P,I,p)]:null},e.setActiveDate=function(t){var a;E="start"==t?0:1,a="start"==t?D:M,e.isVisible()&&(c(),N||(se(".mbsc-cal-table .mbsc-cal-day-hl",h).removeClass(j),a&&se('.mbsc-cal-day[data-full="'+a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+'"]',h).addClass(j)),a&&(g=!0,e.setDate(a,!1,1e3,!0)))},e.getValue=e.getVal,oe({},f,{highlight:!1,outerMonthChange:!1,formatValue:function(){return e.startVal+(I.endInput?"":e.endVal?" - "+e.endVal:"")},parseValue:function(t){var a=t?t.split(" - "):[],s=I.startInput?se(I.startInput).val():a[0],n=I.endInput?se(I.endInput).val():a[1];return I.defaultValue=U[1],P=n?V(p,n,I):U[1],I.defaultValue=U[0],A=s?V(p,s,I):U[2],I.defaultValue=U[E],e.startVal=A?k(p,A,I):"",e.endVal=P?k(p,P,I):"",e._startDate=A,e._endDate=P,f.parseValue(E?P:A,e)},onFill:function(e){s(e.change)},onBeforeClose:function(t){if("set"===t.button&&!r(!0,!0))return e.setActiveDate(E?"start":"end"),!1},onHide:function(){f.onHide.call(e),E=0,h=null,I.anchor=L},onClear:function(){N&&(E=0)},onBeforeShow:function(){D=A||U[0],M=P||U[1],C=u(D,0),T=u(M,1),I.counter&&(I.headerText=function(){var e=l();return(e>1?I.selectedPluralText||I.selectedText:I.selectedText).replace(/{count}/,e)}),x=!0},onMarkupReady:function(t){var a;m(),(E&&M||!E&&D)&&(g=!0,e.setDate(E?M:D,!1,0,!0)),d(),f.onMarkupReady.call(this,t),h=se(t.target),h.addClass("mbsc-range"),Y&&(a='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" data-select="start" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(e.startVal||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" data-select="end" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+I.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(e.endVal||"&nbsp;")+"</div></div></div></div>",I.headerText?se(".mbsc-fr-hdr",h).after(a):se(".mbsc-fr-w",h).prepend(a),c()),se(".mbsc-range-btn",h).on("touchstart click",function(t){_(t,this)&&(e._showDayPicker(),e.setActiveDate(se(this).attr("data-select")))})},onDayChange:function(e){e.active=E?"end":"start",b=!0},onSetDate:function(s){var n;g||(n=a(s.date,E),x&&!b||(N&&b&&(1==E&&n<D&&(E=0),E?n.setHours(T.h,T.i,T.s,999):n.setHours(C.h,C.i,C.s,0)),E?(M=new Date(n),T=u(M)):(D=new Date(n),C=u(D)),S&&I.autoCorrect&&(t(D,n),t(M,n)),N&&b&&!E&&(M=null))),S&&!I.autoCorrect&&M<D&&(M=new Date(M.setDate(M.getDate()+1))),e._isValid=r(x||b||I.autoCorrect,!g),s.active=E?"end":"start",!g&&N&&(b&&(E=E?0:1),c()),e.isVisible()&&(e._isValid?se(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(X):se(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(X)),b=!1,x=!1,g=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(E?M:D,!1,1e3,!0),r(!0,!0)}})},a("range",Le);var Ze=$.themes;Ze.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:"wp"!=q&&("android"!=q||z>7)},Ze.scroller.ios=oe({},Ze.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Ze.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},Ze.form.ios={},$.customTheme("mobiscroll-dark","mobiscroll"),$.customTheme("ios-dark","ios");var Ke=$.themes,Qe="mobiscroll";return"android"==q?Qe="material":"ios"==q?Qe="ios":"wp"==q&&(Qe="windows"),se.each(Ke.frame,function(e,t){return Qe&&t.baseTheme==Qe&&"mobiscroll-dark"!=e&&"material-dark"!=e&&"windows-dark"!=e&&"ios-dark"!=e?($.autoTheme=e,!1):void(e==Qe&&($.autoTheme=e))}),$.uid="8BB940",$});
